"use strict";(self.webpackChunksc_envimonitor=self.webpackChunksc_envimonitor||[]).push([[9002],{36231:(e,t,r)=>{function n(e,t,r,n,o){i(e,t,r||0,n||e.length-1,o||s)}function i(e,t,r,n,s){for(;n>r;){if(n-r>600){var l=n-r+1,a=t-r+1,u=Math.log(l),d=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*d*(l-d)/l)*(a-l/2<0?-1:1);i(e,t,Math.max(r,Math.floor(t-a*d/l+c)),Math.min(n,Math.floor(t+(l-a)*d/l+c)),s)}var h=e[t],g=r,I=n;for(o(e,r,t),s(e[n],h)>0&&o(e,r,n);g<I;){for(o(e,g,I),g++,I--;s(e[g],h)<0;)g++;for(;s(e[I],h)>0;)I--}0===s(e[r],h)?o(e,r,I):o(e,++I,n),I<=t&&(r=I+1),t<=I&&(n=I-1)}}function o(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function s(e,t){return e<t?-1:e>t?1:0}r.d(t,{q:()=>n})},85403:(e,t,r)=>{function n(e,t){return e?t?4:3:t?3:2}function i(e,t,r,i){if(null===t||void 0===t||!t.lengths.length)return null;e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0);const l=e.coords,a=[],u=r?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],{lengths:d,coords:c}=t,h=n(r,i);let g=0;for(const n of d){const e=o(u,c,g,n,r,i);e&&a.push(e),g+=n*h}if(a.sort(((e,t)=>{let n=e[2]-t[2];return 0===n&&r&&(n=e[4]-t[4]),n})),a.length){let e=6*a[0][2];l[0]=a[0][0]/e,l[1]=a[0][1]/e,r&&(e=6*a[0][4],l[2]=0!==e?a[0][3]/e:0),(l[0]<u[0]||l[0]>u[1]||l[1]<u[2]||l[1]>u[3]||r&&(l[2]<u[4]||l[2]>u[5]))&&(l.length=0)}if(!l.length){const e=t.lengths[0]?s(c,0,d[0],r,i):null;if(!e)return null;l[0]=e[0],l[1]=e[1],r&&e.length>2&&(l[2]=e[2])}return e}function o(e,t,r,i,o,s){const l=n(o,s);let a=r,u=r+l,d=0,c=0,h=0,g=0,I=0;for(let n=0,p=i-1;n<p;n++,a+=l,u+=l){const r=t[a],n=t[a+1],i=t[a+2],s=t[u],l=t[u+1],f=t[u+2];let p=r*l-s*n;g+=p,d+=(r+s)*p,c+=(n+l)*p,o&&(p=r*f-s*i,h+=(i+f)*p,I+=p),r<e[0]&&(e[0]=r),r>e[1]&&(e[1]=r),n<e[2]&&(e[2]=n),n>e[3]&&(e[3]=n),o&&(i<e[4]&&(e[4]=i),i>e[5]&&(e[5]=i))}if(g>0&&(g*=-1),I>0&&(I*=-1),!g)return null;const f=[d,c,.5*g];return o&&(f[3]=h,f[4]=.5*I),f}function s(e,t,r,i,o){const s=n(i,o);let c=t,h=t+s,g=0,I=0,f=0,p=0;for(let n=0,N=r-1;n<N;n++,c+=s,h+=s){const t=e[c],r=e[c+1],n=e[c+2],o=e[h],s=e[h+1],N=e[h+2],v=i?a(t,r,n,o,s,N):l(t,r,o,s);if(v)if(g+=v,i){const e=d(t,r,n,o,s,N);I+=v*e[0],f+=v*e[1],p+=v*e[2]}else{const e=u(t,r,o,s);I+=v*e[0],f+=v*e[1]}}return g>0?i?[I/g,f/g,p/g]:[I/g,f/g]:r>0?i?[e[t],e[t+1],e[t+2]]:[e[t],e[t+1]]:null}function l(e,t,r,n){const i=r-e,o=n-t;return Math.sqrt(i*i+o*o)}function a(e,t,r,n,i,o){const s=n-e,l=i-t,a=o-r;return Math.sqrt(s*s+l*l+a*a)}function u(e,t,r,n){return[e+.5*(r-e),t+.5*(n-t)]}function d(e,t,r,n,i,o){return[e+.5*(n-e),t+.5*(i-t),r+.5*(o-r)]}r.d(t,{Y:()=>i})},10983:(e,t,r)=>{r.r(t),r.d(t,{default:()=>p});var n=r(27366),i=r(52639),o=r(93169),s=r(94172),l=r(49861),a=(r(32718),r(84936),r(69912)),u=r(43629),d=r(26279),c=r(42069),h=r(58890),g=r(67581),I=r(69787);let f=class extends((0,u.N)((0,c.A)(g.Z))){constructor(){super(...arguments),this.type="integrated-mesh-3d",this._elevationContext="im",this._isIntegratedMesh=!0,this._supportsLabeling=!1,this._applySSAO=!(0,o.Z)("disable-feature:im-ssao"),this._shadeNormals=!!(0,o.Z)("enable-feature:im-shading"),this.drapeTargetType=d.al.WithoutRasterImage}get i3slayer(){return this.layer}get updatingProgressValue(){var e,t;return null!==(e=null===(t=this._controller)||void 0===t?void 0:t.updatingProgress)&&void 0!==e?e:0}get lodFactor(){var e,t;return null!==(e=null===(t=this.view)||void 0===t||null===(t=t.qualitySettings)||void 0===t||null===(t=t.sceneService)||void 0===t||null===(t=t.integratedMesh)||void 0===t?void 0:t.lodFactor)&&void 0!==e?e:1}get progressiveLoadFactor(){return this.lodFactor>=1?.2:1}get visibleAtCurrentScale(){return(0,I.GB)(this.i3slayer.effectiveScaleRange,this.view.scale)}get layerPopupEnabledAndHasTemplate(){return!1}initialize(){this._updatingHandles.add((()=>this.layer.modifications),(()=>this._loadModifications()),s.nn),this.view.basemapTerrain.overlayManager.registerDrapeTarget(this)}destroy(){this.view.basemapTerrain.overlayManager.unregisterDrapeTarget(this)}_createLayerGraphic(){return new i.Z({layer:this.layer,sourceLayer:this.layer})}canResume(){return super.canResume()&&(!this._controller||this._controller.rootNodeVisible)}_loadModifications(){if(this.removeHandles("modifications"),null==this.layer.modifications)return void(this._modifications=[]);const e=this.layer.modifications;this.addHandles(this._updatingHandles.addOnCollectionChange((()=>e),(()=>this._modifications=e.toArray()),s.nn),"modifications")}};(0,n._)([(0,l.Cb)()],f.prototype,"layer",void 0),(0,n._)([(0,l.Cb)()],f.prototype,"i3slayer",null),(0,n._)([(0,l.Cb)(h.q)],f.prototype,"updatingProgress",void 0),(0,n._)([(0,l.Cb)()],f.prototype,"updatingProgressValue",null),(0,n._)([(0,l.Cb)()],f.prototype,"lodFactor",null),(0,n._)([(0,l.Cb)({readOnly:!0})],f.prototype,"progressiveLoadFactor",null),(0,n._)([(0,l.Cb)({readOnly:!0})],f.prototype,"visibleAtCurrentScale",null),f=(0,n._)([(0,a.j)("esri.views.3d.layers.IntegratedMeshLayerView3D")],f);const p=f}}]);
//# sourceMappingURL=9002.31bf979f.chunk.js.map