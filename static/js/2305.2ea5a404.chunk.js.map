{"version":3,"file":"static/js/2305.2ea5a404.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/chunks/ImageMaterial.glsl.js","../node_modules/@arcgis/core/layers/support/I3SIndexInfo.js","../node_modules/@arcgis/core/views/3d/analysis/AnalysisView3D.js","../node_modules/@arcgis/core/views/3d/analysis/Slice/SliceController.js","../node_modules/@arcgis/core/views/3d/terrain/isTerrainSurfaceLayer.js","../node_modules/@arcgis/core/views/3d/analysis/Slice/SliceTool.js","../node_modules/@arcgis/core/views/3d/analysis/Slice/SliceVisualization.js","../node_modules/@arcgis/core/views/3d/analysis/SliceAnalysisView3D.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/dragEventPipeline3D.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultLayouts.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterialTechniqueConfiguration.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ImageMaterial.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/TriangleMaterial.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/lineStippleUtils.js","../node_modules/@arcgis/core/views/analysis/analysisViewUtils.js","../node_modules/@arcgis/core/views/interactive/AnalysisToolBase.js","../node_modules/@arcgis/core/views/interactive/ToolIntersector.js","../node_modules/@arcgis/core/views/layers/support/popupUtils.js","../node_modules/@arcgis/core/views/support/geometry2dUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{ShaderOutput as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SliceDraw as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as i}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{ObjectAndLayerIdColor as o}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/ObjectAndLayerIdColor.glsl.js\";import{terrainDepthTest as t}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/TerrainDepthTest.glsl.js\";import{ColorConversion as s}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{addProjViewLocalOrigin as n}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{FloatPassUniform as d}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as a}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as l}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{Texture2DPassUniform as g}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{VertexAttribute as p}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";import{outputColorHighlightOID as v}from\"../views/3d/webgl-engine/shaders/OutputColorHighlightOID.glsl.js\";function c(c){const u=new l,{vertex:m,fragment:b}=u;return n(m,c),u.include(i,c),u.include(t,c),u.include(r,c),u.include(o,c),u.include(v,c),u.attributes.add(p.POSITION,\"vec3\"),u.attributes.add(p.UV0,\"vec2\"),c.perspectiveInterpolation&&u.attributes.add(p.PERSPECTIVEDIVIDE,\"float\"),u.varyings.add(\"vpos\",\"vec3\"),c.terrainDepthTest&&u.varyings.add(\"depth\",\"float\"),m.main.add(a`\n    vpos = position;\n    ${c.terrainDepthTest?\"depth = (view * vec4(vpos, 1.0)).z;\":\"\"}\n    vTexCoord = uv0;\n    gl_Position = transformPosition(proj, view, vpos);\n    ${c.perspectiveInterpolation?\"gl_Position *= perspectiveDivide;\":\"\"}`),b.uniforms.add(new g(\"tex\",(e=>e.texture)),new d(\"opacity\",(e=>e.opacity))),u.varyings.add(\"vTexCoord\",\"vec2\"),b.include(s),b.main.add(a`\n    discardBySlice(vpos);\n    ${c.terrainDepthTest?\"terrainDepthTest(depth);\":\"\"}\n    ${c.output===e.ObjectAndLayerIdColor?\"fragColor = vec4(0, 0, 0, 1);\\n           return;\":\"\"}\n    vec4 finalColor = texture(tex, vTexCoord) * opacity;\n    outputColorHighlightOID(finalColor, vpos);`),u}const u=Object.freeze(Object.defineProperty({__proto__:null,build:c},Symbol.toStringTag,{value:\"Module\"}));export{u as I,c as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import o from\"../../core/Error.js\";async function r(r,n,t,s,a,i,l){let d=null;if(null!=t){const o=`${r}/nodepages/`,n=o+Math.floor(t.rootIndex/t.nodesPerPage);try{return{type:\"page\",rootPage:(await e(n,{query:{f:\"json\",...s,token:a},responseType:\"json\",signal:l})).data,rootIndex:t.rootIndex,pageSize:t.nodesPerPage,lodMetric:t.lodSelectionMetricType,urlPrefix:o}}catch(g){null!=i&&i.warn(\"#fetchIndexInfo()\",\"Failed to load root node page. Falling back to node documents.\",n,g),d=g}}if(!n)return null;const p=n?.split(\"/\").pop(),c=`${r}/nodes/`,u=c+p;try{return{type:\"node\",rootNode:(await e(u,{query:{f:\"json\",...s,token:a},responseType:\"json\",signal:l})).data,urlPrefix:c}}catch(g){throw new o(\"sceneservice:root-node-missing\",\"Root node missing.\",{pageError:d,nodeError:g,url:u})}}export{r as fetchIndexInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{makeHandle as t}from\"../../../core/handleUtils.js\";import{EsriPromiseMixin as r}from\"../../../core/Promise.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";const s=s=>{let n=class extends(r(s)){constructor(){super(...arguments),this.parent=null,this._userInteractive=!1,this._interactiveViewModelCount=0}get interactive(){return this._interactiveViewModelCount>0||this._userInteractive}set interactive(e){this._userInteractive=e}get updating(){return!1}get visible(){return null==this.parent||this.parent.visible&&!this.parent.suspended}set visible(e){this._overrideIfSome(\"visible\",e)}forceInteractiveForViewModel(){return this._interactiveViewModelCount++,t((()=>this._interactiveViewModelCount--))}};return e([i({constructOnly:!0})],n.prototype,\"parent\",void 0),e([i({constructOnly:!0})],n.prototype,\"view\",void 0),e([i({type:Boolean})],n.prototype,\"interactive\",null),e([i()],n.prototype,\"_userInteractive\",void 0),e([i({readOnly:!0})],n.prototype,\"updating\",null),e([i()],n.prototype,\"visible\",null),e([i()],n.prototype,\"_interactiveViewModelCount\",void 0),n=e([o(\"esri.views.3d.analysis.AnalysisView3D\")],n),n};export{s as AnalysisView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import i from\"../../../../analysis/SlicePlane.js\";import a from\"../../../../core/Accessor.js\";import t from\"../../../../core/Logger.js\";import{watch as l}from\"../../../../core/reactiveUtils.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{a as r}from\"../../../../chunks/boundedPlane.js\";import o from\"../../../../layers/Layer.js\";import c from\"../../../../layers/buildingSublayers/BuildingComponentSublayer.js\";import{isIBuildingSceneLayerView3D as h,projectAndElevationAlignShape as u,projectedShapeToPlane as d,planeToShape as p}from\"./sliceToolUtils.js\";import{logFailedGeometryProjectionError as y}from\"../support/projectionUtils.js\";import{isTerrainSurfaceLayer as w}from\"../../terrain/isTerrainSurfaceLayer.js\";let v=class extends a{constructor(e){super(e),this._internalChange=!1,this._currentSlicePlane=null}initialize(){this.addHandles(this.analysis.excludedLayers.on(\"before-add\",(e=>{const i=e.item;null!=i&&(i instanceof o||i instanceof c)?i instanceof o&&w(i)?(t.getLogger(this).error(\"excludedLayers\",`Layer '${i.title}, id:${i.id}' of type '${i.type}' can not be individually excluded from slicing. Use 'excludeGroundSurface' instead.`),e.preventDefault()):this.analysis.excludedLayers.includes(i)&&e.preventDefault():(t.getLogger(this).error(\"excludedLayers\",\"Invalid layer type, layer must derive from Layer or BuildingComponentSublayer\"),e.preventDefault())}))),V(this.view,this),this.addHandles([l((()=>this.analysisViewData.plane),(()=>{this._internalChange||this._updateSlicePlaneFromBoundedPlane(),this._updateLayerViews()}),{sync:!0}),l((()=>this.analysis.excludeGroundSurface),(()=>this._updateLayerViews()),{sync:!0}),this.analysis.excludedLayers.on(\"change\",(()=>this._updateLayerViews())),l((()=>[this.analysisViewData.active,this.analysisViewData.visible]),(()=>{this._updateActiveController(),this._updateViewSlicePlane()}),{sync:!0}),l((()=>this._allLayerAndSubLayerViews),(()=>this._updateLayerViews()))]),this.addHandles([l((()=>this.analysis.shape),(()=>{this._internalChange||(this._updateBoundedPlaneFromSlicePlane(),this._updateViewSlicePlane())}),{sync:!0})],\"analysis\"),this._updateActiveController(),this._updateBoundedPlaneFromSlicePlane(),this._updateViewSlicePlane()}destroy(){this.analysisViewData.active&&(this.analysisViewData.active=!1,this.view.slicePlane=null,this._updateActiveController(),this._updateViewSlicePlane()),L(this.view,this),this.set(\"view\",null)}get _allLayerAndSubLayerViews(){const e=this.view.allLayerViews.items;return e.concat(e.filter(h).flatMap((({sublayerViews:e})=>e.items)))}_updateBoundedPlaneFromSlicePlane(){const e=this.analysis.shape,i=this._currentSlicePlane;if(null==i&&null==e||null!=i&&null!=e&&e.equals(i))return;let a=null,l=null;if(null!=e?.position){const i=e.position.spatialReference,s=u(e,this.view);null==s&&y(this.analysis,i,t.getLogger(this)),a=d(s,this.view,{tiltEnabled:this.analysis.tiltEnabled},r()),null!=a&&(l={heading:e.heading,tilt:e.tilt,position:e.position,width:e.width,height:e.height})}this._currentSlicePlane=l,this._internalChange=!0,this.analysisViewData.plane=a,this._internalChange=!1}_updateSlicePlaneFromBoundedPlane(){const e=this.analysisViewData.plane,a=p(e,this.view,this.view.spatialReference,new i);let t=null;null!=a&&(t={heading:a.heading,tilt:a.tilt,position:a.position,width:a.width,height:a.height}),this._currentSlicePlane=t,this._internalChange=!0,this.analysis.shape=a,this._internalChange=!1,this._updateViewSlicePlane()}_updateActiveController(){if(m)return;const e=_(this.view);if(!e)return;if(this.analysisViewData.active)null!=e.activeController&&e.activeController!==this?(m=!0,e.activeController.analysisViewData.active=!1,m=!1):null!=e.activeController&&e.activeController,this._updateLayerViews(),e.activeController=this;else{if(null!=e.activeController&&e.activeController!==this)return;null!=e.activeController&&e.activeController===this&&(e.activeController=null,this._updateLayerViews())}}_updateViewSlicePlane(){g(this.view)}_updateLayerViews(){const e=null!=this.analysisViewData.plane&&this.analysisViewData.visible&&this.analysisViewData.active,i=[],a=e=>{\"layers\"in e?e.layers.forEach(a):i.push(e)};this.analysis.excludedLayers.forEach(a),this.view.allLayerViews.forEach((a=>{a.destroyed||(\"slicePlaneEnabled\"in a&&(a.slicePlaneEnabled=e&&!i.includes(a.layer)),\"sublayerViews\"in a&&a.sublayerViews.forEach((a=>{a.slicePlaneEnabled=e&&!i.includes(a.sublayer)})))})),null!=this.view.basemapTerrain&&(this.view.basemapTerrain.slicePlaneEnabled=e&&!this.analysis.excludeGroundSurface)}};e([s()],v.prototype,\"view\",void 0),e([s()],v.prototype,\"analysis\",void 0),e([s()],v.prototype,\"analysisViewData\",void 0),e([s()],v.prototype,\"_allLayerAndSubLayerViews\",null),v=e([n(\"esri.views.3d.analysis.Slice.SliceController\")],v);const f=new Map;let m=!1;function g(e){const i=_(e),a=i?.activeController;null!=a?.analysisViewData.plane&&a.analysisViewData.visible?e.slicePlane=a.analysisViewData.plane:e.slicePlane=null}function V(e,i){f.has(e)||f.set(e,{all:[],activeController:null}),f.get(e)?.all.push(i)}function _(e){return f.get(e)}function L(e,i){if(!f.has(e))throw new Error(\"view expected in global slice register\");const a=f.get(e),t=a?.all.lastIndexOf(i)??-1;if(!a||-1===t)throw new Error(\"controller expected in global slice register\");a.all.splice(t,1),0===a.all.length&&f.delete(e)}export{v as SliceController};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../../../core/compilerUtils.js\";function a(a){switch(a.type){case\"building-scene\":case\"catalog\":case\"catalog-dynamic-group\":case\"catalog-footprint\":case\"csv\":case\"dimension\":case\"feature\":case\"focusArea\":case\"geo-rss\":case\"geojson\":case\"graphics\":case\"group\":case\"integrated-mesh\":case\"integrated-mesh-3dtiles\":case\"kml\":case\"knowledge-graph\":case\"link-chart\":case\"knowledge-graph-sublayer\":case\"line-of-sight\":case\"map-notes\":case\"ogc-feature\":case\"oriented-imagery\":case\"point-cloud\":case\"route\":case\"scene\":case\"stream\":case\"viewshed\":case\"voxel\":case\"subtype-group\":case\"unknown\":case\"unsupported\":case\"wfs\":case\"parquet\":case null:return!1;case\"base-dynamic\":case\"base-elevation\":case\"base-tile\":case\"bing-maps\":case\"elevation\":case\"imagery\":case\"imagery-tile\":case\"map-image\":case\"media\":case\"open-street-map\":case\"tile\":case\"vector-tile\":case\"video\":case\"wcs\":case\"web-tile\":case\"wms\":case\"wmts\":return!0;default:return e(a.type),!1}}export{a as isTerrainSurfaceLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../analysis/SlicePlane.js\";import{clock as i}from\"../../../../core/clock.js\";import{destroyMaybe as a,removeMaybe as s}from\"../../../../core/maybe.js\";import{watch as n,sync as r,syncAndInitial as l}from\"../../../../core/reactiveUtils.js\";import{addFrameTask as o}from\"../../../../core/scheduling.js\";import{createScreenPoint as h,screenPointObjectToArray as p}from\"../../../../core/screenUtils.js\";import{property as u}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{fromRotation as d,fromScaling as _,multiply as v}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{f as P,l as y,c as m,h as w,g,t as f,n as M,i as D}from\"../../../../chunks/vec32.js\";import{clone as V,create as b}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{clone as T,ZEROS as E}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{a as k,c as S,n as x,f as j}from\"../../../../chunks/boundedPlane.js\";import{signedDistance as H,create as C,intersectRay as R,getNormal as O}from\"../../../../geometry/support/plane.js\";import{create as I}from\"../../../../geometry/support/ray.js\";import{sv3d as z,sm4d as G,sv2d as L}from\"../../../../geometry/support/vectorStacks.js\";import{getRotateHeadingTexture as U,getTiltRotateTexture as A}from\"../images/Factory.js\";import{ResizeManipulator as K}from\"./ResizeManipulator.js\";import{RotateManipulator as B}from\"./RotateManipulator.js\";import{getOutlineColor as F,planeColor as N}from\"./settings.js\";import{ShiftManipulator as q,OffsetMode as Z}from\"./ShiftManipulator.js\";import{pointerMoveTimerMs as W,planePreviewOutlineWidth as J,forceVerticalModifier as Q,forceHorizontalModifier as X,previewFadeDotThreshold as Y,previewFadeDurationSeconds as $,initialDepthOffsetFrac as tt}from\"./sliceToolConfig.js\";import{createGridVisualElement as et,createOutlineVisualElement as it,planeToShape as at,createRotatePlane as st,RotationAxis as nt,resizePlane as rt,calculatePlaneHalfSize as lt,SliceOrientation as ot,createPlane as ht,DidPointerMoveRecentlyFlag as pt,calculateBoundedPlaneTranslateRotate as ut,updateShiftRestartHandle as ct,updateRotateHeadingHandle as dt,updateRotateTiltHandle as _t,updateResizeHandle as vt,createShiftPlane as Pt}from\"./sliceToolUtils.js\";import{calculateInputRotationTransform as yt}from\"../../interactive/manipulatorUtils.js\";import{screenToRenderPlane as mt}from\"../../interactive/editingTools/dragEventPipeline3D.js\";import{fromScreenNormalized as wt}from\"../../support/geometryUtils/ray.js\";import{AnalysisToolBase as gt}from\"../../../interactive/AnalysisToolBase.js\";import{createManipulatorDragEventPipeline as ft}from\"../../../interactive/dragEventPipeline.js\";import{newToolIntersector as Mt}from\"../../../interactive/ToolIntersector.js\";import{createScreenPointFromEvent as Dt}from\"../../../support/screenUtils.js\";var Vt;let bt=Vt=class extends gt{constructor(t){super(t),this._clock=i,this._previewPlaneOpacity=1,this.removeIncompleteOnCancel=!1,this._layersMode=\"none\",this.shiftManipulator=null,this.rotateHeadingManipulator=null,this.rotateTiltManipulator=null,this.resizeManipulators=null,this._frameTask=null,this._pointerMoveTimerMs=W,this._prevPointerMoveTimeout=null,this._previewPlaneGridVisualElement=null,this._previewPlaneOutlineVisualElement=null,this._startPlane=k(),this._previewPlane=null,this._activeKeyModifiers={},this._lastCursorPosition=h(),this._resizeHandles=[{direction:[1,0]},{direction:[1,1]},{direction:[0,1]},{direction:[-1,1]},{direction:[-1,0]},{direction:[-1,-1]},{direction:[0,-1]},{direction:[1,-1]}],this._intersector=Mt(t.view.state.viewingMode)}initialize(){if(null==this.analysis)throw new Error(\"SliceTool requires valid analysis, but null was provided.\");const t=t=>{this._updateManipulatorsInteractive(t),t.grabbing||(null!=this.analysisViewData.plane&&S(this.analysisViewData.plane,this._startPlane),this.inputState=null)},e=new q(this.view,Z.CENTER_ON_ARROW);this.shiftManipulator=e,this.manipulators.add(e),this.addHandles([this._createShiftDragPipeline(e),e.events.on(\"grab-changed\",(i=>{this._onShiftGrab(i),t(e)}))]);const i=!this.view._stage?.renderView.renderingContext.driverTest.svgPremultipliesAlpha.result,a=new B(this.view,((t,e)=>U(this.view.textures,{accentColor:t,contrastColor:e,preMultiplyAlpha:i})));this.rotateHeadingManipulator=a,this.manipulators.add(a),this.addHandles([this._createRotateHeadingDragPipeline(a),a.events.on(\"grab-changed\",(e=>{this._onRotateHeadingGrab(e),t(a)}))]);const s=new B(this.view,((t,e)=>A(this.view.textures,{accentColor:t,contrastColor:e,preMultiplyAlpha:i})));this.rotateTiltManipulator=s,this.manipulators.add(s),this.addHandles([this._createRotateTiltDragPipeline(s),s.events.on(\"grab-changed\",(e=>{this._onRotateTiltGrab(e),t(s)}))]),this.resizeManipulators=this._resizeHandles.map(((e,i)=>{const a=new K(this.view,e);return this.addHandles([this._createResizeDragPipeline(a),a.events.on(\"grab-changed\",(e=>{this._onResizeGrab(e,i),t(a)}))]),a})),this.manipulators.addMany(this.resizeManipulators),this._previewPlaneGridVisualElement=et(this.view),this._previewPlaneOutlineVisualElement=it(this.view),this._previewPlaneOutlineVisualElement.width=J,this.addHandles(n((()=>[this.analysisViewData.plane,this.analysis.tiltEnabled]),(()=>this._updateManipulators()),r));const o=n((()=>this.state),(t=>{\"sliced\"===t&&this.finishToolCreation()}),l);this.addHandles([o,n((()=>this.view.state.camera),(()=>this._onCameraChange()))])}destroy(){this._removeFrameTask(),this._clearPointerMoveTimeout(),this._previewPlaneOutlineVisualElement=a(this._previewPlaneOutlineVisualElement),this._previewPlaneGridVisualElement=a(this._previewPlaneGridVisualElement)}get state(){const t=!!this.analysisViewData.plane,e=!!this.inputState;return t?t&&e?\"slicing\":t&&!e?\"sliced\":\"ready\":\"ready\"}get cursor(){return this._isPlacingSlicePlane||\"exclude\"===this.layersMode?\"crosshair\":null!=this._creatingPointerId?\"grabbing\":null}set analysis(t){if(null==t)throw new Error(\"SliceTool requires valid analysis, but null was provided.\");this.removeHandles(\"analysis\"),this._set(\"analysis\",t)}get layersMode(){return this._layersMode}get inputState(){return this._get(\"inputState\")}set inputState(t){this._set(\"inputState\",t),this.analysisViewData.showGrid=null!=t&&\"resize\"===t.type,this._updateMaterials()}get _isPlacingSlicePlane(){return!this.inputState&&!this.analysisViewData.plane&&this.active}get _creatingPointerId(){return null!=this.inputState&&\"shift\"===this.inputState.type?this.inputState.creatingPointerId:null}enterExcludeLayerMode(){null!=this.analysisViewData.plane&&(this._layersMode=\"exclude\",this.active||(this.view.activeTool=this))}exitExcludeLayerMode(){null!=this.analysisViewData.plane&&(this._layersMode=\"none\",this.active&&(this.view.activeTool=null))}onDeactivate(){this._updatePreviewPlane(null)}onShow(){this._updateVisibility(!0)}onHide(){this._updateVisibility(!1)}_updateVisibility(t){this._updateManipulators(),t||this._clearPointerMoveTimeout()}onInputEvent(t){switch(t.type){case\"pointer-drag\":if(!kt(t))return;this._isPlacingSlicePlane?this._onClickPlacePlane(t)&&t.stopPropagation():this._onPointerDrag(t)&&t.stopPropagation();break;case\"pointer-move\":this._onPointerMove(t);break;case\"pointer-up\":this._onPointerUp(t)&&t.stopPropagation();break;case\"immediate-click\":if(!kt(t))return;this._onClickPlacePlane(t)&&t.stopPropagation();break;case\"click\":if(!kt(t))return;this._onClickExcludeLayer(t)&&t.stopPropagation();break;case\"drag\":this.inputState&&t.stopPropagation();break;case\"key-down\":this._onKeyDown(t)&&t.stopPropagation();break;case\"key-up\":this._onKeyUp(t)&&t.stopPropagation()}}onEditableChange(){this.analysisViewData.editable=this.internallyEditable}_onPointerDrag(t){const e=this.inputState;if(t.pointerId===this._creatingPointerId&&null!=e&&\"shift\"===e.type){const i=Dt(t);return this.shiftManipulator.events.emit(\"drag\",{action:e.hasBeenDragged?\"update\":\"start\",pointerType:t.pointerType,start:i,screenPoint:i}),e.hasBeenDragged=!0,!0}return!1}_onPointerMove(t){this._lastCursorPosition.x=t.x,this._lastCursorPosition.y=t.y,this._resetPointerMoveTimeout(),\"touch\"!==t.pointerType&&this._updatePreviewPlane(Dt(t),this._activeKeyModifiers)}_onCameraChange(){this._updatePreviewPlane(this._lastCursorPosition,this._activeKeyModifiers),this._updateManipulators()}_onPointerUp(t){if(t.pointerId===this._creatingPointerId&&null!=this.analysisViewData.plane){const e=Dt(t);return this.shiftManipulator.events.emit(\"drag\",{action:\"end\",start:e,screenPoint:e}),S(this.analysisViewData.plane,this._startPlane),this.inputState=null,!0}return!1}_onClickPlacePlane(t){if(\"exclude\"===this.layersMode)return!1;if(this._isPlacingSlicePlane){const i=Dt(t),a=k();if(this._pickPlane(i,!1,this._activeKeyModifiers,a)){if(\"pointer-drag\"===t.type){const e=wt(this.view.state.camera,i,xt);this.inputState=Et(e,t.pointerId,a.origin,a)}return S(a,this._startPlane),this.analysis.shape=at(a,this.view,this.view.spatialReference,new e),!0}}return!1}_onClickExcludeLayer(t){return!(\"exclude\"!==this.layersMode||!this.created)&&(this.view.hitTest(Dt(t)).then((t=>{if(t.results.length){const e=t.results[0],i=\"graphic\"===e?.type&&e.graphic;if(i){const t=i.sourceLayer||i.layer;t&&this.analysis.excludedLayers.push(t)}}else t.ground.layer?this.analysis.excludedLayers.push(t.ground.layer):this.analysis.excludeGroundSurface=!0})),this.exitExcludeLayerMode(),!0)}_onKeyDown(t){return(t.key===Q||t.key===X)&&(this._activeKeyModifiers[t.key]=!0,null!=this._previewPlane&&this._updatePreviewPlane(this._lastCursorPosition,this._activeKeyModifiers),!0)}_onKeyUp(t){return!(t.key!==Q&&t.key!==X||!this._activeKeyModifiers[t.key])&&(delete this._activeKeyModifiers[t.key],null!=this._previewPlane&&this._updatePreviewPlane(this._lastCursorPosition,this._activeKeyModifiers),!0)}_onShiftGrab(t){if(\"start\"!==t.action||null==this.analysisViewData.plane||!t.screenPoint)return;const e=wt(this.view.state.camera,t.screenPoint,xt);S(this.analysisViewData.plane,this._startPlane),this.inputState=Et(e,null,this.shiftManipulator.renderLocation,this.analysisViewData.plane)}_createShiftDragPipeline(t){return ft(t,((t,e,i)=>{const a=this.inputState;if(null==a||\"shift\"!==a.type)return;const s=null!=this.analysisViewData.plane?S(this.analysisViewData.plane,k()):null;e.next(mt(this.view,a.shiftPlane)).next(this._shiftDragAdjustSensitivity(a)).next(this._shiftDragUpdatePlane(a)),i.next((()=>{null!=s&&this._updateBoundedPlane(s)}))}))}_shiftDragAdjustSensitivity(t){return e=>{if(null==this.analysisViewData.plane)return null;const i=.001,a=Math.min((1-Math.abs(P(x(this.analysisViewData.plane),e.ray.direction)/y(e.ray.direction)))/i,1),s=-H(this._startPlane.plane,e.renderEnd),n=-H(this._startPlane.plane,t.startPoint);return t.depth=t.depth*(1-a)+s*a-n,e}}_shiftDragUpdatePlane(t){return()=>{if(null==this.analysisViewData.plane)return;const e=m(z.get(),this._startPlane.origin),i=m(z.get(),x(this._startPlane));w(i,i,-t.depth),g(i,i,e);const a=j(i,this.analysisViewData.plane.basis1,this.analysisViewData.plane.basis2,k());this._updateBoundedPlane(a)}}_onRotateHeadingGrab(t){if(\"start\"!==t.action||null==this.analysisViewData.plane||!t.screenPoint)return;const e=st(this.analysisViewData.plane,this.view.renderCoordsHelper,nt.HEADING,C()),i=wt(this.view.state.camera,t.screenPoint,xt),a=b();R(e,i,a)&&(S(this.analysisViewData.plane,this._startPlane),this.inputState={type:\"rotate\",rotatePlane:e,startPoint:a})}_createRotateHeadingDragPipeline(t){return ft(t,((t,e,i)=>{const a=this.inputState;if(null==a||\"rotate\"!==a.type)return;const s=null!=this.analysisViewData.plane?S(this.analysisViewData.plane,k()):null;e.next(mt(this.view,a.rotatePlane)).next(this._rotateDragRenderPlaneToRotate(a)).next(this._rotateDragUpdatePlaneFromRotate()),i.next((()=>{null!=s&&this._updateBoundedPlane(s)}))}))}_onRotateTiltGrab(t){if(\"start\"!==t.action||null==this.analysisViewData.plane||!t.screenPoint)return;const e=st(this.analysisViewData.plane,this.view.renderCoordsHelper,nt.TILT,C()),i=wt(this.view.state.camera,t.screenPoint,xt),a=b();R(e,i,a)&&(S(this.analysisViewData.plane,this._startPlane),this.inputState={type:\"rotate\",rotatePlane:e,startPoint:a})}_createRotateTiltDragPipeline(t){return ft(t,((t,e,i)=>{const a=this.inputState;if(null==a||\"rotate\"!==a.type)return;const s=null!=this.analysisViewData.plane?S(this.analysisViewData.plane,k()):null;e.next(mt(this.view,a.rotatePlane)).next(this._rotateDragRenderPlaneToRotate(a)).next(this._rotateDragUpdatePlaneFromRotate()),i.next((()=>{null!=s&&this._updateBoundedPlane(s)}))}))}_rotateDragRenderPlaneToRotate(t){return e=>{if(null==this.analysisViewData.plane)return null;const i=O(t.rotatePlane),a=yt(t.startPoint,e.renderEnd,this.analysisViewData.plane.origin,i);return{...e,rotateAxis:i,rotateAngle:a}}}_rotateDragUpdatePlaneFromRotate(){return t=>{if(null==this.analysisViewData.plane)return;const e=d(G.get(),t.rotateAngle,t.rotateAxis);if(null==e)return;const i=f(z.get(),this._startPlane.basis1,e),a=f(z.get(),this._startPlane.basis2,e),s=j(this.analysisViewData.plane.origin,i,a,k());this._updateBoundedPlane(s)}}_onResizeGrab(t,e){if(\"start\"!==t.action||null==this.analysisViewData.plane||!t.screenPoint)return;const i=wt(this.view.state.camera,t.screenPoint,xt),a=z.get();R(this.analysisViewData.plane.plane,i,a)&&(S(this.analysisViewData.plane,this._startPlane),this.inputState={type:\"resize\",activeHandleIdx:e,startPoint:V(a)})}_createResizeDragPipeline(t){return ft(t,((t,e,i)=>{const a=this.inputState;if(null==a||\"resize\"!==a.type||null==this.analysisViewData.plane)return;const s=S(this.analysisViewData.plane,k());e.next(mt(this.view,this.analysisViewData.plane.plane)).next(this._resizeDragUpdatePlane(a)),i.next((()=>{this._updateBoundedPlane(s)}))}))}_resizeDragUpdatePlane(t){return e=>{if(null==this.analysisViewData.plane)return;const i=this._resizeHandles[t.activeHandleIdx],a=rt(i,t.startPoint,e.renderEnd,this.view.state.camera,this._startPlane,S(this.analysisViewData.plane));this._updateBoundedPlane(a)}}_updateBoundedPlane(t){const e=this.analysisViewData;if(null==e)throw new Error(\"valid internal object expected\");e.plane=t}_updatePreviewPlane(t,e={}){let i=this._previewPlane;if(this._previewPlane=null,null==t)return this._removeFrameTask(),void this._updateManipulators();if(!this.analysisViewData.plane&&this.active){const a=null!=i?i:k();if(i=null!=i?S(i,St):null,this._pickPlane(t,!0,e,a)){const t=Y;let e=!1;null!=i&&(e=P(O(i.plane),O(a.plane))<t||P(M(z.get(),i.basis1),M(z.get(),a.basis1))<t),e&&(this._previewPlaneOpacity=0),this._previewPlane=a}}null!=this._previewPlane&&null==this._frameTask&&0===this._previewPlaneOpacity?this._frameTask=o({update:({deltaTime:t})=>{this._previewPlaneOpacity=Math.min(this._previewPlaneOpacity+t/(1e3*$),1),this._updateManipulators(),1===this._previewPlaneOpacity&&this._removeFrameTask()}}):null==this._previewPlane&&null!=this._frameTask?this._removeFrameTask():null!=this._previewPlane&&this._updateManipulators()}_removeFrameTask(){this._frameTask=s(this._frameTask)}_pickMinResult(t){const e=p(t,L.get());return this.view.sceneIntersectionHelper.intersectToolIntersectorScreen(e,this._intersector),this._intersector.results.min}_pickPlane(t,e,i,a){const s=this._pickMinResult(t),n=z.get();if(!s.getIntersectionPoint(n))return!1;const r=s.getTransformedNormal(z.get()),l=this.view.state.camera;P(r,l.viewForward)>0&&w(r,r,-1);const o=lt(n,l),h=(e?1:-1)*o*tt,p=w(z.get(),r,h);g(p,p,n);const u=this.analysis.tiltEnabled?ot.TILTED:ot.HORIZONTAL_OR_VERTICAL,c=i[Q]?ot.VERTICAL:i[X]?ot.HORIZONTAL:u;return ht(p,r,o,o,l,c,this.view.renderCoordsHelper,a),!0}_clearPointerMoveTimeout(){this._prevPointerMoveTimeout=s(this._prevPointerMoveTimeout)}_resetPointerMoveTimeout(){this._clearPointerMoveTimeout(),this.shiftManipulator.state|=pt,this.rotateHeadingManipulator.state|=pt,this.rotateTiltManipulator.state|=pt,this._prevPointerMoveTimeout=this._clock.setTimeout((()=>{this.shiftManipulator.state&=~pt,this.rotateHeadingManipulator.state&=~pt,this.rotateTiltManipulator.state&=~pt}),this._pointerMoveTimerMs)}_updateManipulators(){if(Vt.disableEngineLayers)return;let t,e=!1;if(null!=this.analysisViewData.plane)t=this.analysisViewData.plane,e=!1;else{if(null==this._previewPlane)return this.shiftManipulator.available=!1,this.rotateHeadingManipulator.available=!1,this.rotateTiltManipulator.available=!1,this.resizeManipulators.forEach((t=>t.available=!1)),this._previewPlaneOutlineVisualElement.visible=!1,void(this._previewPlaneGridVisualElement.visible=!1);t=this._previewPlane,e=!0}const i=ut(t,G.get());e?(this.shiftManipulator.available=!1,this.rotateHeadingManipulator.available=!1,this.rotateTiltManipulator.available=!1,this.resizeManipulators.forEach((t=>t.available=!1)),this._previewPlaneOutlineVisualElement.attached=!0,this._previewPlaneGridVisualElement.attached=!0,this._previewPlaneOutlineVisualElement.visible=!0,this._previewPlaneGridVisualElement.visible=!0):(this.shiftManipulator.available=!0,this.rotateHeadingManipulator.available=!0,this.rotateTiltManipulator.available=this.analysis.tiltEnabled,this.resizeManipulators.forEach((t=>t.available=!0)),ct(this.shiftManipulator,i,t,this.view.state.camera),dt(this.rotateHeadingManipulator,i,t,this.view.renderCoordsHelper),_t(this.rotateTiltManipulator,i,t),this.resizeManipulators.forEach(((e,a)=>vt(e,this._resizeHandles[a],i,t))),this._previewPlaneOutlineVisualElement.visible=!1,this._previewPlaneGridVisualElement.visible=!1);const a=D(z.get(),y(t.basis1),y(t.basis2),1),s=_(G.get(),a),n=v(s,i,s);this._previewPlaneOutlineVisualElement.transform=n,this._previewPlaneGridVisualElement.transform=n,this._updateMaterials()}_updateMaterials(){const t=F(this.view.effectiveTheme);t[3]*=this._previewPlaneOpacity;const e=T(N);e[3]*=this._previewPlaneOpacity,this._previewPlaneOutlineVisualElement.color=t,this._previewPlaneGridVisualElement.backgroundColor=e,this._previewPlaneGridVisualElement.gridColor=E}_updateManipulatorsInteractive(t){if(!t.grabbing)return this.shiftManipulator.interactive=!0,this.rotateHeadingManipulator.interactive=!0,this.rotateTiltManipulator.interactive=!0,void this.resizeManipulators.forEach((t=>{t.interactive=!0}));this.shiftManipulator.interactive=this.shiftManipulator===t,this.rotateHeadingManipulator.interactive=this.rotateHeadingManipulator===t,this.rotateTiltManipulator.interactive=this.rotateTiltManipulator===t,this.resizeManipulators.forEach((e=>{e.interactive=e===t}))}get test(){return{plane:this.analysisViewData.plane,setPointerMoveTimerMs:t=>{this._pointerMoveTimerMs=t}}}};bt.disableEngineLayers=!1,t([u()],bt.prototype,\"_clock\",void 0),t([u({constructOnly:!0})],bt.prototype,\"view\",void 0),t([u()],bt.prototype,\"analysisViewData\",void 0),t([u({readOnly:!0})],bt.prototype,\"state\",null),t([u({readOnly:!0})],bt.prototype,\"cursor\",null),t([u()],bt.prototype,\"analysis\",null),t([u()],bt.prototype,\"removeIncompleteOnCancel\",void 0),t([u()],bt.prototype,\"_layersMode\",void 0),t([u()],bt.prototype,\"layersMode\",null),t([u({value:null})],bt.prototype,\"inputState\",null),t([u()],bt.prototype,\"_isPlacingSlicePlane\",null),t([u()],bt.prototype,\"_creatingPointerId\",null),bt=Vt=t([c(\"esri.views.3d.analysis.Slice.SliceTool\")],bt);const Tt=bt;function Et(t,e,i,a){const s=Pt(i,x(a),t.direction,C()),n=b();return R(s,t,n)?{type:\"shift\",creatingPointerId:e,hasBeenDragged:!1,shiftPlane:s,depth:0,startPoint:n}:null}function kt(t){return\"mouse\"!==t.pointerType||0===t.button}const St=k(),xt=I();export{Tt as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Accessor.js\";import{destroyMaybe as t}from\"../../../../core/maybe.js\";import{watch as s,syncAndInitial as o}from\"../../../../core/reactiveUtils.js\";import{property as r}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as l}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{fromScaling as a,multiply as n}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{i as m,l as u}from\"../../../../chunks/vec32.js\";import{ZEROS as p}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{sv3d as c,sm4d as h}from\"../../../../geometry/support/vectorStacks.js\";import{getGridColor as d,getOutlineColor as v,planeColor as g}from\"./settings.js\";import{planePreviewOutlineWidth as w,planeOutlineWidth as V}from\"./sliceToolConfig.js\";import{createGridVisualElement as _,createOutlineVisualElement as f,calculateBoundedPlaneTranslateRotate as E}from\"./sliceToolUtils.js\";import{createStipplePatternSimple as j}from\"../../webgl-engine/materials/lineStippleUtils.js\";let b=class extends e{constructor(i){super(i),this._gridVisualElement=null,this._outlineVisualElement=null,this.showGrid=!1,this.preview=!0}initialize(){const i=this.analysisViewData;if(null==i)throw new Error(\"expected internal object to be valid\");this._gridVisualElement=_(this.view),this._outlineVisualElement=f(this.view),this.addHandles([s((()=>{const e=null!=i.plane&&this.analysisViewData.visible,{active:t}=this.analysisViewData,{preview:s,showGrid:o,view:r}=this,{effectiveTheme:l}=r;return{visible:e,active:t,preview:s,showGrid:o,gridColor:d(l),outlineColor:v(l)}}),(i=>this._updateMaterials(i)),o),s((()=>i.plane),(i=>this._updatePlane(i)),o)],\"internal\")}destroy(){this._gridVisualElement=t(this._gridVisualElement),this._outlineVisualElement=t(this._outlineVisualElement),this.set(\"view\",null)}_updatePlane(i){if(null==i)return;this._gridVisualElement.attached=!0,this._outlineVisualElement.attached=!0;const e=m(c.get(),u(i.basis1),u(i.basis2),1),t=a(h.get(),e),s=E(i,h.get()),o=n(t,s,t);this._outlineVisualElement.transform=o,this._gridVisualElement.transform=o}_updateMaterials({visible:i,active:e,preview:t,showGrid:s,gridColor:o,outlineColor:r}){this._outlineVisualElement.color=r,this._outlineVisualElement.width=t?w:V,this._outlineVisualElement.stipplePattern=e?null:j(5),this._gridVisualElement.backgroundColor=g,this._gridVisualElement.gridColor=s?o:p,this._gridVisualElement.visible=i,this._outlineVisualElement.visible=i}};i([r()],b.prototype,\"view\",void 0),i([r()],b.prototype,\"analysis\",void 0),i([r()],b.prototype,\"analysisViewData\",void 0),i([r()],b.prototype,\"showGrid\",void 0),i([r()],b.prototype,\"preview\",void 0),b=i([l(\"esri.views.3d.analysis.Slice.SliceVisualization\")],b);export{b as SliceVisualization};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../../chunks/tslib.es6.js\";import i from\"../../../core/Accessor.js\";import\"../../../core/has.js\";import{destroyMaybe as t}from\"../../../core/maybe.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import{AnalysisView3D as l}from\"./AnalysisView3D.js\";import{SliceController as e}from\"./Slice/SliceController.js\";import r from\"./Slice/SliceTool.js\";import{SliceVisualization as n}from\"./Slice/SliceVisualization.js\";import{connectAnalysisViewToTool as p,removeAnalysisViewTool as y}from\"../../analysis/analysisViewUtils.js\";let h=class extends(l(i)){constructor(s){super(s),this.type=\"slice-view-3d\",this.analysis=null,this.tool=null,this.analysisVisualization=null,this.analysisController=null,this.plane=null,this.active=!0}initialize(){this.analysisVisualization=new n({view:this.view,analysis:this.analysis,analysisViewData:this}),this.analysisController=new e({view:this.view,analysis:this.analysis,analysisViewData:this}),this.addHandles(p(this,r))}destroy(){y(this),this.analysisVisualization=t(this.analysisVisualization),this.analysisController=t(this.analysisController)}get showGrid(){return this.analysisVisualization?.showGrid??!1}set showGrid(s){this.analysisVisualization&&(this.analysisVisualization.showGrid=s)}get editable(){return!this.analysisVisualization.preview}set editable(s){this.analysisVisualization.preview=!s}get testData(){}};s([a({readOnly:!0})],h.prototype,\"type\",void 0),s([a({constructOnly:!0,nonNullable:!0})],h.prototype,\"analysis\",void 0),s([a()],h.prototype,\"tool\",void 0),s([a()],h.prototype,\"plane\",void 0),s([a()],h.prototype,\"active\",void 0),s([a()],h.prototype,\"showGrid\",null),s([a()],h.prototype,\"editable\",null),h=s([o(\"esri.views.3d.analysis.SliceAnalysisView3D\")],h);const c=h;export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport\"../../../../geometry.js\";import{screenPointObjectToArray as e,castScreenPointArray as r,createScreenPointArray as n}from\"../../../../core/screenUtils.js\";import{create as t}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{l as o,c as l,e as s,d as c,f as a,h as i,g as u}from\"../../../../chunks/vec32.js\";import{create as p}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{projectPoint as m}from\"../../../../geometry/projection.js\";import{intersectRay as d,create as f,getNormal as g,fromPositionAndNormal as E}from\"../../../../geometry/support/plane.js\";import{create as y,closestPoints as S}from\"../../../../geometry/support/ray.js\";import{projectPoint as j}from\"../../../../geometry/support/vector.js\";import{sv2d as v}from\"../../../../geometry/support/vectorStacks.js\";import{getZForElevationMode as R}from\"../../../../support/elevationInfoUtils.js\";import{fromScreen as x}from\"../../support/geometryUtils/ray.js\";import{newIntersector as b}from\"../../webgl-engine/lib/Intersector.js\";import{StoreResults as w,IntersectorType as I}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{terrainId as H}from\"../../webgl-engine/lib/verticalOffsetUtils.js\";import{EventPipeline as U}from\"../../../interactive/dragEventPipeline.js\";import O from\"../../../../geometry/Point.js\";function C(e,r){return T(e,(()=>r))}function P(e){return T(e,(e=>e.plane))}function T(n,t){const o=p(),l=p();let s=!1;return c=>{const a=t(c);if(\"start\"===c.action){const t=e(c.screenStart,r(v.get())),l=x(n.state.camera,t,Q);null!=l&&(s=d(a,l,o))}if(!s)return null;const i=e(c.screenEnd,r(v.get())),u=x(n.state.camera,i,Q);return null==u?null:d(a,u,l)?{...c,renderStart:o,renderEnd:l,plane:a,ray:u}:null}}function D(e,r,t=0,o=null,l=null){let s=null;return c=>{if(\"start\"===c.action&&(s=e.sceneIntersectionHelper.intersectElevationFromScreen(n(c.screenStart.x,c.screenStart.y),r,t,l),null!=s&&null!=o&&!m(s,s,o)))return null;if(null==s)return null;const a=e.sceneIntersectionHelper.intersectElevationFromScreen(n(c.screenEnd.x,c.screenEnd.y),r,t,l);return null!=a&&(null==o||m(a,a,o))?{...c,mapStart:s,mapEnd:a}:null}}function M(e,r,n,t=null,o=null){return D(e,n,R(r,e,n),t,o)}function N(e,r,n,t){const o=n.toMap(e.screenStart);return null!=o?M(r,o,n.elevationInfo,t):null}function h(e,r){const n=K,t=L,o=f();e.renderCoordsHelper.worldUpAtPosition(r,n);const l=s(g(o),n,c(t,r,e.state.camera.eye));return s(l,l,n),E(r,l,o)}function G(e,r,n){let t=null;const o=new U;return o.next(C(e,h(e,r))).next(k(e,r)).next(F(e,n)).next((e=>{e.mapEnd.x=e.mapStart.x,e.mapEnd.y=e.mapStart.y,t=e})),e=>(t=null,o.execute(e),t)}function k(e,r){const n=p(),t=o(r);e.renderCoordsHelper.worldUpAtPosition(r,n);const s=p(),m=p(),d=l=>{if(c(l,l,r),j(n,l,l),\"global\"===e.viewingMode){o(l)*Math.sign(a(n,l))<.001-t&&c(l,i(l,n,.001),r)}return u(l,l,r),l};return e=>(e.renderStart=d(l(s,e.renderStart)),e.renderEnd=d(l(m,e.renderEnd)),e)}function A(n,t){const o=o=>{const l=e(o,r(J)),s=x(n.state.camera,l,Q);if(null==s)return null;const c=S(t,s,K,L);return c?.[0]};return e=>{const r=o(e.screenStart);if(null==r)return null;const n=o(e.screenEnd);return null==n?null:{...e,renderStart:r,renderEnd:n}}}function F(e,r){const n=e.renderCoordsHelper;return e=>{const t=n.fromRenderCoords(e.renderStart,new O({spatialReference:r})),o=n.fromRenderCoords(e.renderEnd,new O({spatialReference:r}));return null!=t&&null!=o?{...e,mapStart:t,mapEnd:o}:null}}var q;function z(e){let r=null;return n=>{switch(n.action){case\"start\":r=e.disableDisplay();break;case\"end\":case\"cancel\":null!=r&&(r.remove(),r=null)}return n}}function B(r,t=null){const o=b(r.state.viewingMode);o.options.selectionMode=!0,o.options.store=w.MIN,o.options.hud=!1;const l=n(),s={requiresGroundFeedback:!0,enableDraped:!0,exclude:new Set},c=p(),a=t??r.spatialReference,i=n=>{r.map.ground&&r.map.ground.opacity<1?s.exclude.add(H):s.exclude.delete(H),r.sceneIntersectionHelper.intersectIntersectorScreen(e(n,l),o,s);const t=o.results.min;let i;if(t.getIntersectionPoint(c))i=t.intersector===I.TERRAIN?q.GROUND:q.OTHER;else{if(!o.results.ground.getIntersectionPoint(c))return null;i=q.GROUND}return{location:r.renderCoordsHelper.fromRenderCoords(c,new O({spatialReference:a})),surfaceType:i}};let u;return e=>{if(\"start\"===e.action){const r=i(e.screenStart);u=null!=r?r.location:null}if(null==u)return null;const r=i(e.screenEnd);return null!=r?.location?{...e,mapStart:u,mapEnd:r.location,surfaceType:r.surfaceType}:null}}!function(e){e[e.GROUND=0]=\"GROUND\",e[e.OTHER=1]=\"OTHER\"}(q||(q={}));const J=t(),K=p(),L=p(),Q=y();export{q as SurfaceType,F as convertToMapCoordinates,z as hideManipulatorWhileDragging,k as projectToWorldUp,B as screenToMap3D,M as screenToMapXYAtLocation,N as screenToMapXYForManipulatedObject,C as screenToRenderPlane,P as screenToRenderPlaneFromEvent,A as screenToRenderRay,G as screenToZConstrained};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{newLayout as e}from\"../../support/buffer/InterleavedLayout.js\";import{VertexAttribute as O}from\"../lib/VertexAttribute.js\";const t=e().vec3f(O.POSITION),f=e().vec3f(O.POSITION).vec2f(O.UV0),r=e().vec3f(O.POSITION).vec4u8(O.COLOR),I=e().vec3f(O.POSITION).vec2f(O.UV0).vec4u8(O.OBJECTANDLAYERIDCOLOR);export{r as PositionColorLayout,t as PositionLayout,f as PositionUVLayout,I as PositionUVLayoutObjectAndLayerId};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{ShaderOutput as e}from\"../core/shaderLibrary/ShaderOutput.js\";import{NoParameters as t}from\"../core/shaderModules/interfaces.js\";import{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as i}from\"../core/shaderTechnique/ShaderTechnique.js\";import{OITPass as s}from\"../lib/OITPass.js\";import{oitBlending as l,oitDepthTest as n,depthWrite as o,getDrawBuffers as a,getOITPolygonOffset as c}from\"../lib/OrderIndependentTransparency.js\";import{stencilWriteMaskOn as p,stencilToolMaskBaseParams as u,stencilBaseAllZerosParams as d}from\"../lib/StencilUtils.js\";import{VertexAttribute as m}from\"../lib/VertexAttribute.js\";import{I as f}from\"../../../../chunks/ImageMaterial.glsl.js\";import{makePipelineState as h,blendWithPremultipliedAlpha as g,cullingParams as P,defaultColorWrite as j}from\"../../../webgl/renderState.js\";class b extends t{}class I extends i{constructor(e,t,i){super(e,t,new r(f,(()=>import(\"./ImageMaterial.glsl.js\"))),i,S)}_getPipelineState(t,r){const{oitPass:i,output:m,hasOccludees:f,enableOffset:b,cullFace:I}=t,S=i===s.NONE,O=i===s.FrontFace;return h({blending:m===e.Color?S?g:l(i):null,culling:P(I),depthTest:{func:n(i)},depthWrite:o(t),drawBuffers:a(i,m),colorWrite:j,stencilWrite:f?p:null,stencilTest:f?r?u:d:null,polygonOffset:S||O?null:c(b)})}initializePipeline(e){return this._occludeePipeline=this._getPipelineState(e,!0),this._getPipelineState(e,!1)}getPipeline(e){return e?this._occludeePipeline:super.getPipeline()}}const S=new Map([[m.POSITION,0],[m.UV0,2],[m.PERSPECTIVEDIVIDE,3]]);export{b as ImageMaterialPassParameters,I as ImageMaterialTechnique,S as vertexAttributeLocations};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{TextureCoordinateType as t}from\"../core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";import{EmissionSource as o}from\"../core/shaderLibrary/output/Emissions.glsl.js\";import{parameter as i}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{CullFaceOptions as r}from\"../lib/basicInterfaces.js\";import{DefaultTechniqueConfiguration as s}from\"../materials/DefaultTechniqueConfiguration.js\";class a extends s{constructor(){super(...arguments),this.cullFace=r.None,this.hasSlicePlane=!1,this.enableOffset=!0,this.writeDepth=!0,this.hasOccludees=!1,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.perspectiveInterpolation=!0,this.textureCoordinateType=t.None,this.emissionSource=o.None,this.discardInvisibleFragments=!0,this.occlusionPass=!1,this.objectAndLayerIdColorInstanced=!1}}e([i({count:r.COUNT})],a.prototype,\"cullFace\",void 0),e([i()],a.prototype,\"hasSlicePlane\",void 0),e([i()],a.prototype,\"enableOffset\",void 0),e([i()],a.prototype,\"writeDepth\",void 0),e([i()],a.prototype,\"hasOccludees\",void 0),e([i()],a.prototype,\"terrainDepthTest\",void 0),e([i()],a.prototype,\"cullAboveTerrain\",void 0),e([i()],a.prototype,\"perspectiveInterpolation\",void 0);export{a as ImageMaterialTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{BufferViewFloat as e}from\"../../../../geometry/support/buffer/BufferView.js\";import{isHighlightOrOID as t,isColor as r}from\"../core/shaderLibrary/ShaderOutput.js\";import{CullFaceOptions as i}from\"../lib/basicInterfaces.js\";import{GLTextureMaterial as s}from\"../lib/GLTextureMaterial.js\";import{MaterialParameters as a}from\"../lib/Material.js\";import{OITPolygonOffsetLimit as o}from\"../lib/OrderIndependentTransparency.js\";import{RenderSlot as n}from\"../lib/RenderSlot.js\";import{assert as u}from\"../lib/Util.js\";import{VertexAttribute as c}from\"../lib/VertexAttribute.js\";import{DefaultBufferWriter as l}from\"./DefaultBufferWriter.js\";import{PositionUVLayout as p}from\"./DefaultLayouts.js\";import{TriangleMaterial as h}from\"./TriangleMaterial.js\";import{writeBufferFloat as f,writeDefaultAttribute as m}from\"./internal/bufferWriterUtils.js\";import{vertexAttributeLocations as T,ImageMaterialTechnique as g}from\"../shaders/ImageMaterialTechnique.js\";import{ImageMaterialTechniqueConfiguration as d}from\"../shaders/ImageMaterialTechniqueConfiguration.js\";class I extends h{constructor(e){super(e,b),this._configuration=new d,this.vertexAttributeLocations=T,this.supportsEdges=!0,this.produces=new Map([[n.OPAQUE_MATERIAL,e=>t(e)],[n.TRANSPARENT_MATERIAL,e=>r(e)&&this.parameters.writeDepth],[n.TRANSPARENT_MATERIAL_WITHOUT_DEPTH,e=>r(e)&&!this.parameters.writeDepth],[n.DRAPED_MATERIAL,e=>r(e)||t(e)]])}getConfiguration(e,t){return this._configuration.output=e,this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.hasOccludees=t.hasOccludees,this._configuration.oitPass=t.oitPass,this._configuration.enableOffset=t.camera.relativeElevation<o,this._configuration.terrainDepthTest=t.terrainDepthTest,this._configuration.cullAboveTerrain=t.cullAboveTerrain,this._configuration.perspectiveInterpolation=this.parameters.perspectiveInterpolation,this._configuration}get visible(){return!0}createGLMaterial(e){return new _(e)}createBufferWriter(){const e=p.clone();return this.parameters.perspectiveInterpolation&&e.f32(c.PERSPECTIVEDIVIDE),new E(e)}}class _ extends s{constructor(e){super({...e,...e.material.parameters})}beginSlot(e){return this.updateTexture(this._material.parameters.textureId),this._material.setParameters(this.textureBindParameters),this.acquireTechnique(g,e)}}class E extends l{write(t,r,i,s,a,o){for(const n of this.vertexBufferLayout.fields.keys()){const s=i.get(n);if(s)if(n===c.PERSPECTIVEDIVIDE){u(1===s.size);const t=a.getField(n,e);t&&f(s,t,o)}else m(n,s,t,r,a,o)}}}class b extends a{constructor(){super(...arguments),this.writeDepth=!0,this.hasSlicePlane=!1,this.cullFace=i.None,this.opacity=1,this.textureId=null,this.initTextureTransparent=!0,this.perspectiveInterpolation=!1}}export{I as ImageMaterial,b as Parameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{Material as r}from\"../lib/Material.js\";import{intersectTriangleGeometry as t}from\"../lib/RayIntersections.js\";class e extends r{intersect(r,e,i,s,o,n){return t(r,i,s,o,void 0,n)}}export{e as TriangleMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nconst t={dash:[4,3],dot:[1,3],\"long-dash\":[8,3],\"short-dash\":[4,1],\"short-dot\":[1,1]},o={dash:t.dash,\"dash-dot\":[...t.dash,...t.dot],dot:t.dot,\"long-dash\":t[\"long-dash\"],\"long-dash-dot\":[...t[\"long-dash\"],...t.dot],\"long-dash-dot-dot\":[...t[\"long-dash\"],...t.dot,...t.dot],none:null,\"short-dash\":t[\"short-dash\"],\"short-dash-dot\":[...t[\"short-dash\"],...t[\"short-dot\"]],\"short-dash-dot-dot\":[...t[\"short-dash\"],...t[\"short-dot\"],...t[\"short-dot\"]],\"short-dot\":t[\"short-dot\"],solid:null},d=8;function s(t,o){return null==t?t:{pattern:t.slice(),pixelRatio:o}}function h(t){return{pattern:[t,t],pixelRatio:2}}function n(t){return\"style\"===t?.type?l(t.style):null}function l(t){return null!=t?s(o[t],d):null}export{h as createStipplePatternSimple,n as getStipplePatternForLinePattern,l as getStipplePatternForPatternStyle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{createTask as o}from\"../../core/asyncUtils.js\";import{removeMaybe as t}from\"../../core/maybe.js\";import{onAbort as i}from\"../../core/promiseUtils.js\";import{whenOnce as e,watch as n,syncAndInitial as r}from\"../../core/reactiveUtils.js\";function l(n,r){n.interactive=!0;const{tool:l,view:a}=n;a.activeTool=l;let c=i(r,(()=>{a.activeTool===l&&(a.activeTool=null)}));return o((async o=>{await e((()=>null==l||!l.active),o),c=t(c)}),r)}function a(o,t){return n((()=>o.interactive),(()=>c(o,t)),r)}function c(o,t){o.interactive?s(o,t):v(o)}function s(o,t){v(o);const{view:i,analysis:e}=o,n=new t({view:i,analysis:e,analysisViewData:o});return o.tool=n,i.tools.add(n),n}function v(o){const{view:t,tool:i}=o;null!=i&&(t.tools.remove(i),o.tool=null)}export{l as activateAnalysisViewTool,a as connectAnalysisViewToTool,v as removeAnalysisViewTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../chunks/tslib.es6.js\";import{watch as e,syncAndInitial as t}from\"../../core/reactiveUtils.js\";import\"../../core/Logger.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import\"../../core/Error.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import{InteractiveToolBase as i}from\"./InteractiveToolBase.js\";let o=class extends i{constructor(s){super(s)}initialize(){this.addHandles(e((()=>this.analysisViewData.visible),(s=>this.visible=s),t))}deactivate(){this.onDeactivate(),this.created||this.analysis.clear()}resetCreated(){this._set(\"created\",!1)}};o=s([r(\"esri.views.interactive.AnalysisToolBase\")],o);export{o as AnalysisToolBase};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{newIntersector as e}from\"../3d/webgl-engine/lib/Intersector.js\";import{StoreResults as o}from\"../3d/webgl-engine/lib/IntersectorInterfaces.js\";function t(t){const n=e(t);return n.options.store=o.MIN,n.options.excludeLabels=!0,n}export{t as newToolIntersector};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{getFeatureEditFields as e,fixFields as l}from\"../../../layers/support/fieldUtils.js\";async function n(n,p=n.popupTemplate){if(null==p)return[];const u=await p.getRequiredFields(n.fieldsIndex),{lastEditInfoEnabled:t}=p,{objectIdField:d,typeIdField:s,globalIdField:i,relationships:a}=n;if(u.includes(\"*\"))return[\"*\"];const o=t?e(n):[],f=l(n.fieldsIndex,[...u,...o]);return s&&f.push(s),f&&d&&n.fieldsIndex?.has(d)&&!f.includes(d)&&f.push(d),f&&i&&n.fieldsIndex?.has(i)&&!f.includes(i)&&f.push(i),a&&a.forEach((e=>{const{keyField:l}=e;f&&l&&n.fieldsIndex?.has(l)&&!f.includes(l)&&f.push(l)})),f}function p(e,l){return e.popupTemplate?e.popupTemplate:null!=l&&l.defaultPopupTemplateEnabled&&null!=e.defaultPopupTemplate?e.defaultPopupTemplate:null}function u(e,l){return null!=p(e,{defaultPopupTemplateEnabled:l})}export{p as getFetchPopupTemplate,n as getRequiredFields,u as hasPopupTemplate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{floatEqualAbsolute as t}from\"../../core/mathUtils.js\";import{distance as n,dot as r,squaredLength as e,scale as s,subtract as o,add as c,scaleAndAdd as u,copy as i,length as f}from\"../../core/libs/gl-matrix-2/math/vec2.js\";import{clone as a,create as p}from\"../../core/libs/gl-matrix-2/factories/vec2f64.js\";function m(t,n){return t[0]*n[1]-t[1]*n[0]}function h(t,r,e){const s=(r[0]-t[0])*(e[1]-t[1])-(r[1]-t[1])*(e[0]-t[0]);return Math.abs(s)/n(r,e)}function E(t,n,o){const c=r(o,n)/e(o);return s(t,o,c)}function I(t,n,r,e,s=r){return o(x,e,r),o(g,n,s),E(A,g,x),c(t,s,A)}function L(t,n,s,c){o(x,c,s),o(g,n,s);const f=r(x,g)/e(x);return f>0?u(t,s,x,f):i(t,s)}function N(t,n,r,e){o(x,n,r);const s=e/f(x);return u(t,r,x,s)}function l(n,r){return I(g,r,n.start,n.end),t(g[0],r[0])&&t(g[1],r[1])?[a(r)]:[]}function y(n,r,e){return N(g,e,n,r),t(g[0],e[0])&&t(g[1],e[1])?[a(e)]:[]}function b(t,n){const r=t.start,e=t.end,s=n.start,c=n.end,i=o(x,e,r),f=o(M,c,s),a=m(i,f);if(Math.abs(a)<=v)return[];const p=o(g,r,s),h=m(f,p)/a,E=m(i,p)/a;if(h>=0){if(E>=0||n.type===j.LINE)return[u(A,r,i,h)]}else if(t.type===j.LINE&&(E>=0||n.type===j.LINE))return[u(A,r,i,h)];return[]}function d(t,n,s){const c=[],i=o(x,t.end,t.start),f=o(M,t.start,n),a=e(i),p=2*r(i,f),m=p*p-4*a*(e(f)-s*s);if(0===m){const n=-p/(2*a);(t.type===j.LINE||n>=0)&&c.push(u(A,t.start,i,n))}else if(m>0){const n=Math.sqrt(m),r=(-p+n)/(2*a);(t.type===j.LINE||r>=0)&&c.push(u(A,t.start,i,r));const e=(-p-n)/(2*a);(t.type===j.LINE||e>=0)&&c.push(u(g,t.start,i,e))}return c}var j;!function(t){t[t.RAY=0]=\"RAY\",t[t.LINE=1]=\"LINE\"}(j||(j={}));const v=1e-6,x=p(),M=p(),g=p(),A=p();export{j as LineType,m as cross,y as intersectCircleAndPoint,l as intersectLineAndPoint,b as intersectLineAndRay,d as intersectLineLikeAndCircle,h as pointToLineDistance,E as projectPoint,N as projectPointToCircle,I as projectPointToLine,L as projectPointToRay};\n"],"names":["c","u","l","vertex","m","fragment","b","n","include","i","t","r","o","v","attributes","add","p","POSITION","UV0","perspectiveInterpolation","PERSPECTIVEDIVIDE","varyings","terrainDepthTest","main","a","_templateObject","_taggedTemplateLiteral","uniforms","g","e","texture","d","opacity","s","_templateObject2","output","ObjectAndLayerIdColor","Object","freeze","defineProperty","__proto__","build","Symbol","toStringTag","value","async","concat","Math","floor","rootIndex","nodesPerPage","type","rootPage","query","_objectSpread","f","token","responseType","signal","data","pageSize","lodMetric","lodSelectionMetricType","urlPrefix","warn","split","pop","rootNode","pageError","nodeError","url","constructor","super","arguments","this","parent","_userInteractive","_interactiveViewModelCount","interactive","updating","visible","suspended","_overrideIfSome","forceInteractiveForViewModel","constructOnly","prototype","Boolean","readOnly","_internalChange","_currentSlicePlane","initialize","addHandles","analysis","excludedLayers","on","item","w","getLogger","error","title","id","preventDefault","includes","_f$get","has","set","all","activeController","get","push","V","view","analysisViewData","plane","_updateSlicePlaneFromBoundedPlane","_updateLayerViews","sync","excludeGroundSurface","active","_updateActiveController","_updateViewSlicePlane","_allLayerAndSubLayerViews","shape","_updateBoundedPlaneFromSlicePlane","destroy","slicePlane","_a$all$lastIndexOf","Error","lastIndexOf","splice","length","delete","L","allLayerViews","items","filter","h","flatMap","_ref","sublayerViews","equals","position","spatialReference","y","tiltEnabled","heading","tilt","width","height","_","layers","forEach","destroyed","slicePlaneEnabled","layer","sublayer","basemapTerrain","Map","Vt","bt","gt","_clock","_previewPlaneOpacity","removeIncompleteOnCancel","_layersMode","shiftManipulator","rotateHeadingManipulator","rotateTiltManipulator","resizeManipulators","_frameTask","_pointerMoveTimerMs","W","_prevPointerMoveTimeout","_previewPlaneGridVisualElement","_previewPlaneOutlineVisualElement","_startPlane","k","_previewPlane","_activeKeyModifiers","_lastCursorPosition","_resizeHandles","direction","_intersector","Mt","state","viewingMode","_this$view$_stage","_updateManipulatorsInteractive","grabbing","S","inputState","q","Z","CENTER_ON_ARROW","manipulators","_createShiftDragPipeline","events","_onShiftGrab","_stage","renderView","renderingContext","driverTest","svgPremultipliesAlpha","result","B","U","textures","accentColor","contrastColor","preMultiplyAlpha","_createRotateHeadingDragPipeline","_onRotateHeadingGrab","A","_createRotateTiltDragPipeline","_onRotateTiltGrab","map","K","_createResizeDragPipeline","_onResizeGrab","addMany","et","it","J","_updateManipulators","finishToolCreation","camera","_onCameraChange","_removeFrameTask","_clearPointerMoveTimeout","cursor","_isPlacingSlicePlane","layersMode","_creatingPointerId","removeHandles","_set","_get","showGrid","_updateMaterials","creatingPointerId","enterExcludeLayerMode","activeTool","exitExcludeLayerMode","onDeactivate","_updatePreviewPlane","onShow","_updateVisibility","onHide","onInputEvent","kt","_onClickPlacePlane","stopPropagation","_onPointerDrag","_onPointerMove","_onPointerUp","_onClickExcludeLayer","_onKeyDown","_onKeyUp","onEditableChange","editable","internallyEditable","pointerId","Dt","emit","action","hasBeenDragged","pointerType","start","screenPoint","x","_resetPointerMoveTimeout","_pickPlane","wt","xt","Et","origin","at","created","hitTest","then","results","graphic","sourceLayer","ground","key","Q","X","renderLocation","ft","next","mt","shiftPlane","_shiftDragAdjustSensitivity","_shiftDragUpdatePlane","_updateBoundedPlane","min","abs","P","ray","H","renderEnd","startPoint","depth","z","j","basis1","basis2","st","renderCoordsHelper","nt","HEADING","C","R","rotatePlane","_rotateDragRenderPlaneToRotate","_rotateDragUpdatePlaneFromRotate","TILT","O","yt","rotateAxis","rotateAngle","G","activeHandleIdx","_resizeDragUpdatePlane","rt","undefined","St","Y","M","update","deltaTime","$","_pickMinResult","sceneIntersectionHelper","intersectToolIntersectorScreen","getIntersectionPoint","getTransformedNormal","viewForward","lt","tt","ot","TILTED","HORIZONTAL_OR_VERTICAL","VERTICAL","HORIZONTAL","ht","pt","setTimeout","disableEngineLayers","available","ut","attached","ct","dt","_t","vt","D","transform","F","effectiveTheme","T","N","color","backgroundColor","gridColor","E","test","setPointerMoveTimerMs","Tt","Pt","button","I","_gridVisualElement","_outlineVisualElement","preview","outlineColor","_updatePlane","stipplePattern","tool","analysisVisualization","analysisController","_this$analysisVisuali","_this$analysisVisuali2","testData","nonNullable","screenStart","screenEnd","renderStart","intersectElevationFromScreen","mapStart","mapEnd","toMap","elevationInfo","worldUpAtPosition","eye","sign","execute","fromRenderCoords","disableDisplay","remove","options","selectionMode","store","MIN","hud","requiresGroundFeedback","enableDraped","exclude","Set","intersectIntersectorScreen","intersector","TERRAIN","GROUND","OTHER","location","surfaceType","vec3f","vec2f","vec4u8","COLOR","OBJECTANDLAYERIDCOLOR","_getPipelineState","oitPass","hasOccludees","enableOffset","cullFace","NONE","FrontFace","blending","Color","culling","depthTest","func","depthWrite","drawBuffers","colorWrite","stencilWrite","stencilTest","polygonOffset","initializePipeline","_occludeePipeline","getPipeline","None","hasSlicePlane","writeDepth","cullAboveTerrain","textureCoordinateType","emissionSource","discardInvisibleFragments","occlusionPass","objectAndLayerIdColorInstanced","count","COUNT","_configuration","vertexAttributeLocations","supportsEdges","produces","OPAQUE_MATERIAL","TRANSPARENT_MATERIAL","parameters","TRANSPARENT_MATERIAL_WITHOUT_DEPTH","DRAPED_MATERIAL","getConfiguration","relativeElevation","createGLMaterial","createBufferWriter","clone","f32","material","beginSlot","updateTexture","_material","textureId","setParameters","textureBindParameters","acquireTechnique","write","vertexBufferLayout","fields","keys","size","getField","initTextureTransparent","intersect","dash","dot","none","solid","pattern","pixelRatio","slice","style","tools","deactivate","clear","resetCreated","excludeLabels","_n$fieldsIndex","_n$fieldsIndex2","popupTemplate","getRequiredFields","fieldsIndex","lastEditInfoEnabled","objectIdField","typeIdField","globalIdField","relationships","_n$fieldsIndex3","keyField","defaultPopupTemplateEnabled","defaultPopupTemplate","end","LINE","sqrt","RAY"],"sourceRoot":""}