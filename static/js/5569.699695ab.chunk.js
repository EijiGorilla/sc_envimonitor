"use strict";(self.webpackChunksc_envimonitor=self.webpackChunksc_envimonitor||[]).push([[5569,9762,7009],{35888:(e,t,n)=>{n.d(t,{d:()=>s});var o=n(16889),r=n(39406);function s(e,t,n){var s;const u=Array.isArray(e),f=u?e.length/t:e.byteLength/(4*t),d=u?e:new Uint32Array(e,0,f*t),g=null!==(s=null===n||void 0===n?void 0:n.minReduction)&&void 0!==s?s:0,h=(null===n||void 0===n?void 0:n.originalIndices)||null,p=h?h.length:0,T=(null===n||void 0===n?void 0:n.componentOffsets)||null;let N=0;if(T)for(let o=0;o<T.length-1;o++){const e=T[o+1]-T[o];e>N&&(N=e)}else N=f;const I=Math.floor(1.1*N)+1;(null==l||l.length<2*I)&&(l=new Uint32Array((0,o.Sf)(2*I)));for(let o=0;o<2*I;o++)l[o]=0;let m=0;const A=!!T&&!!h,w=A?p:f;let O=(0,r.$z)(f);const S=new Uint32Array(p),y=1.96;let v=0!==g?Math.ceil(4*y*y/(g*g)*g*(1-g)):w,E=1,L=T?T[1]:w;for(let o=0;o<w;o++){if(o===v){const e=1-m/o;if(e+y*Math.sqrt(e*(1-e)/o)<g)return null;v*=2}if(o===L){for(let e=0;e<2*I;e++)l[e]=0;if(h)for(let e=T[E-1];e<T[E];e++)S[e]=O[h[e]];L=T[++E]}const e=A?h[o]:o,n=e*t,r=c(d,n,t);let s=r%I,a=m;for(;0!==l[2*s+1];){if(l[2*s]===r){const e=l[2*s+1]-1;if(i(d,n,e*t,t)){a=O[e];break}}s++,s>=I&&(s-=I)}a===m&&(l[2*s]=r,l[2*s+1]=e+1,m++),O[e]=a}if(0!==g&&1-m/f<g)return null;if(A){for(let e=T[E-1];e<S.length;e++)S[e]=O[h[e]];O=(0,r.mi)(S)}const U=u?new Array(m):new Uint32Array(m*t);m=0;for(let o=0;o<w;o++)O[o]===m&&(a(d,(A?h[o]:o)*t,U,m*t,t),m++);if(h&&!A){const e=new Uint32Array(p);for(let t=0;t<e.length;t++)e[t]=O[h[t]];O=(0,r.mi)(e)}return{buffer:Array.isArray(U)?U:U.buffer,indices:O,uniqueCount:m}}function i(e,t,n,o){for(let r=0;r<o;r++)if(e[t+r]!==e[n+r])return!1;return!0}function a(e,t,n,o,r){for(let s=0;s<r;s++)n[o+s]=e[t+s]}function c(e,t,n){let o=0;for(let r=0;r<n;r++)o=e[t+r]+o|0,o=o+(o<<11)+(o>>>2)|0;return o>>>0}let l=null},22526:(e,t,n)=>{n.d(t,{H:()=>r,a:()=>s});var o=n(55158);function r(e,t){return t.push(e.buffer),{buffer:e.buffer,layout:new o.Gw(e.layout)}}function s(e){return new o.pV(e.layout).createView(e.buffer)}},95569:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});var o=n(22526),r=n(67009),s=n(32666),i=n(79762);class a{async extract(e){const t=c(e),n=(0,i.Kl)(t),o=[t.data.buffer];return{result:l(n,o),transferList:o}}async extractComponentsEdgeLocations(e){const t=c(e),n=(0,i.kY)(t.data,t.skipDeduplicate,t.indices,t.indicesLength),r=(0,s.n)(n,f),a=[];return{result:(0,o.H)(r.regular.instancesData,a),transferList:a}}async extractEdgeLocations(e){const t=c(e),n=(0,i.kY)(t.data,t.skipDeduplicate,t.indices,t.indicesLength),r=(0,s.n)(n,u),a=[];return{result:(0,o.H)(r.regular.instancesData,a),transferList:a}}}function c(e){return{data:r.EdgeInputBufferLayout.createView(e.dataBuffer),indices:"Uint32Array"===e.indicesType?new Uint32Array(e.indices):"Uint16Array"===e.indicesType?new Uint16Array(e.indices):e.indices,indicesLength:e.indicesLength,writerSettings:e.writerSettings,skipDeduplicate:e.skipDeduplicate}}function l(e,t){return t.push(e.regular.lodInfo.lengths.buffer),t.push(e.silhouette.lodInfo.lengths.buffer),{regular:{instancesData:(0,o.H)(e.regular.instancesData,t),lodInfo:{lengths:e.regular.lodInfo.lengths.buffer}},silhouette:{instancesData:(0,o.H)(e.silhouette.instancesData,t),lodInfo:{lengths:e.silhouette.lodInfo.lengths.buffer}},averageEdgeLength:e.averageEdgeLength}}const u=new class{allocate(e){return i.Yr.createBuffer(e)}trim(e,t){return e.slice(0,t)}write(e,t,n){e.position0.setVec(t,n.position0),e.position1.setVec(t,n.position1)}},f=new class{allocate(e){return i.extractComponentsEdgeLocationsLayout.createBuffer(e)}trim(e,t){return e.slice(0,t)}write(e,t,n){e.position0.setVec(t,n.position0),e.position1.setVec(t,n.position1),e.componentIndex.set(t,n.componentIndex)}}},67009:(e,t,n)=>{n.d(t,{EdgeInputBufferLayout:()=>i,Hr:()=>u,dG:()=>l,dx:()=>c,k3:()=>f,rD:()=>a});var o=n(50256),r=n(55158),s=n(4760);const i=(0,r.U$)().vec3f(s.T.POSITION).u16(s.T.COMPONENTINDEX).freeze(),a=(0,r.U$)().vec2u8(s.T.SIDENESS).freeze(),c=(0,o.K)(a),l=(0,r.U$)().vec3f(s.T.POSITION0).vec3f(s.T.POSITION1).vec2i16(s.T.NORMALCOMPRESSED).u16(s.T.COMPONENTINDEX).u8(s.T.VARIANTOFFSET,{glNormalized:!0}).u8(s.T.VARIANTSTROKE).u8(s.T.VARIANTEXTENSION,{glNormalized:!0}).freeze(),u=(0,r.U$)().vec3f(s.T.POSITION0).vec3f(s.T.POSITION1).vec2i16(s.T.NORMALCOMPRESSED).vec2i16(s.T.NORMAL2COMPRESSED).u16(s.T.COMPONENTINDEX).u8(s.T.VARIANTOFFSET,{glNormalized:!0}).u8(s.T.VARIANTSTROKE).u8(s.T.VARIANTEXTENSION,{glNormalized:!0}).freeze(),f=new Map([[s.T.POSITION0,0],[s.T.POSITION1,1],[s.T.COMPONENTINDEX,2],[s.T.VARIANTOFFSET,3],[s.T.VARIANTSTROKE,4],[s.T.VARIANTEXTENSION,5],[s.T.NORMALCOMPRESSED,6],[s.T.NORMAL2COMPRESSED,7],[s.T.SIDENESS,8]])},41371:(e,t,n)=>{n.d(t,{D:()=>N,q:()=>I});var o=n(84936),r=n(32035),s=n(12400),i=n(50256),a=n(52920),c=n(67009);class l{updateSettings(e){this.settings=e,this._edgeHashFunction=e.reducedPrecision?h:g}write(e,t,n){A.seed=this._edgeHashFunction(n);const o=A.getIntRange(0,255),r=A.getIntRange(0,this.settings.variants-1),s=A.getFloat(),i=255*(.5*function(e,t){return Math.abs(e)**t*Math.sign(e)}(-(1-Math.min(s/.7,1))+Math.max(0,s-.7)/(1-.7),1.2)+.5);e.position0.setVec(t,n.position0),e.position1.setVec(t,n.position1),e.componentIndex.set(t,n.componentIndex),e.variantOffset.set(t,o),e.variantStroke.set(t,r),e.variantExtension.set(t,i)}}const u=new Float32Array(6),f=new Uint32Array(u.buffer),d=new Uint32Array(1);function g(e){return u[0]=e.position0[0],u[1]=e.position0[1],u[2]=e.position0[2],u[3]=e.position1[0],u[4]=e.position1[1],u[5]=e.position1[2],d[0]=31*(31*(31*(31*(31*(166811+f[0])+f[1])+f[2])+f[3])+f[4])+f[5],d[0]}function h(e){const t=u;t[0]=T(e.position0[0]),t[1]=T(e.position0[1]),t[2]=T(e.position0[2]),t[3]=T(e.position1[0]),t[4]=T(e.position1[1]),t[5]=T(e.position1[2]),d[0]=5381;for(let n=0;n<f.length;n++)d[0]=31*d[0]+f[n];return d[0]}const p=1e4;function T(e){return Math.round(e*p)/p}class N{constructor(){this._commonWriter=new l}updateSettings(e){this._commonWriter.updateSettings(e)}allocate(e){return c.dG.createBuffer(e)}write(e,t,n){this._commonWriter.write(e,t,n),(0,r.g)(m,n.faceNormal0,n.faceNormal1),(0,r.n)(m,m);const{typedBuffer:o,typedBufferStride:s}=e.normalCompressed;(0,a.hd)(o,t,m[0],m[1],m[2],s)}}N.Layout=c.dG,N.glLayout=(0,i.K)(c.dG,1);class I{constructor(){this._commonWriter=new l}updateSettings(e){this._commonWriter.updateSettings(e)}allocate(e){return c.Hr.createBuffer(e)}write(e,t,n){this._commonWriter.write(e,t,n);{const{typedBuffer:o,typedBufferStride:r}=e.normalCompressed;(0,a.hd)(o,t,n.faceNormal0[0],n.faceNormal0[1],n.faceNormal0[2],r)}{const{typedBuffer:o,typedBufferStride:r}=e.normal2Compressed;(0,a.hd)(o,t,n.faceNormal1[0],n.faceNormal1[1],n.faceNormal1[2],r)}}}I.Layout=c.Hr,I.glLayout=(0,i.K)(c.Hr,1);const m=(0,s.Ue)(),A=new o.Z},32666:(e,t,n)=>{n.d(t,{n:()=>c});var o=n(16889),r=n(10199),s=n(32035),i=n(12400);const a=-1;function c(e,t,n){const o=e.vertices.position,r=e.vertices.componentIndex,i=p.position0,c=p.position1,f=p.faceNormal0,g=p.faceNormal1,{edges:h,normals:T}=u(e),N=h.length/4,I=t.allocate(N);let m=0;const A=N,S=null===n||void 0===n?void 0:n.allocate(A);let v=0,E=0,L=0;d.length=0;for(let a=0;a<N;++a){const e=4*a;o.getVec(h.data[e],i),o.getVec(h.data[e+1],c);const t=d.pushNew();t.index=4*a,t.length=(0,s.j)(i,c)}d.sort(((e,t)=>t.length-e.length));const U=new Array,D=new Array;d.forAll((e=>{let{length:u,index:d}=e;const N=h.data[d],A=h.data[d+1],V=h.data[d+2],M=h.data[d+3],R=M===a;if(o.getVec(N,i),o.getVec(A,c),R){const e=3*V;(0,s.i)(f,T.data[e],T.data[e+1],T.data[e+2]),(0,s.c)(g,f),p.componentIndex=r.get(N),p.cosAngle=(0,s.f)(f,g)}else{let e=3*V;if((0,s.i)(f,T.data[e],T.data[e+1],T.data[e+2]),e=3*M,(0,s.i)(g,T.data[e],T.data[e+1],T.data[e+2]),p.componentIndex=r.get(N),p.cosAngle=(0,s.f)(f,g),function(e,t){return e.cosAngle>t}(p,O))return;p.cosAngle<-.9999&&(0,s.c)(g,f)}E+=u,L++,R||function(e,t){return e.cosAngle<t}(p,y)?(t.write(I,m++,p),U.push(u)):l(p,w)&&(S&&n&&n.write(S,v++,p),D.push(u))}));const V=new Float32Array(U.reverse()),M=new Float32Array(D.reverse()),R=S&&n?{instancesData:S.slice(0,v),lodInfo:{lengths:M}}:void 0;return{regular:{instancesData:I.slice(0,m),lodInfo:{lengths:V}},silhouette:R,averageEdgeLength:E/L}}function l(e,t){const n=(0,o.ZF)(e.cosAngle);return(0,s.o)(N,e.position1,e.position0),n*((0,s.f)((0,s.e)(T,e.faceNormal0,e.faceNormal1),N)>0?-1:1)>t}function u(e){const t=e.faces.length/3,n=e.faces,o=e.neighbors,r=e.vertices.position;g.length=h.length=0;for(let i=0;i<t;i++){const e=3*i,t=o[e],c=o[e+1],l=o[e+2],u=n[e],f=n[e+1],d=n[e+2];r.getVec(u,I),r.getVec(f,m),r.getVec(d,A),(0,s.d)(m,m,I),(0,s.d)(A,A,I),(0,s.e)(I,m,A),(0,s.n)(I,I),h.pushArray(I),(t===a||u<f)&&(g.push(u),g.push(f),g.push(i),g.push(t)),(c===a||f<d)&&(g.push(f),g.push(d),g.push(i),g.push(c)),(l===a||d<u)&&(g.push(d),g.push(u),g.push(i),g.push(l))}return{edges:g,normals:h}}class f{constructor(){this.index=0,this.length=0}}const d=new r.Z({allocator:e=>e||new f,deallocator:null}),g=new r.Z({deallocator:null}),h=new r.Z({deallocator:null}),p=new class{constructor(){this.position0=(0,i.Ue)(),this.position1=(0,i.Ue)(),this.faceNormal0=(0,i.Ue)(),this.faceNormal1=(0,i.Ue)(),this.componentIndex=0,this.cosAngle=0}},T=(0,i.Ue)(),N=(0,i.Ue)(),I=(0,i.Ue)(),m=(0,i.Ue)(),A=(0,i.Ue)(),w=(0,o.Vl)(4),O=Math.cos(w),S=(0,o.Vl)(35),y=Math.cos(S)},79762:(e,t,n)=>{n.d(t,{Kl:()=>u,extractComponentsEdgeLocationsLayout:()=>T,kY:()=>f,Yr:()=>p});var o=n(35888);function r(e,t,n){const o=t/3,r=new Uint32Array(n+1),s=new Uint32Array(n+1),i=(e,t)=>{e<t?r[e+1]++:s[t+1]++};for(let N=0;N<o;N++){const t=e[3*N],n=e[3*N+1],o=e[3*N+2];i(t,n),i(n,o),i(o,t)}let a=0,c=0;for(let N=0;N<n;N++){const e=r[N+1],t=s[N+1];r[N+1]=a,s[N+1]=c,a+=e,c+=t}const l=new Uint32Array(6*o),u=r[n],f=(e,t,n)=>{if(e<t){const o=r[e+1]++;l[2*o]=t,l[2*o+1]=n}else{const o=s[t+1]++;l[2*u+2*o]=e,l[2*u+2*o+1]=n}};for(let N=0;N<o;N++){const t=e[3*N],n=e[3*N+1],o=e[3*N+2];f(t,n,N),f(n,o,N),f(o,t,N)}const d=(e,t)=>{const n=2*e,o=t-e;for(let r=1;r<o;r++){const e=l[n+2*r],t=l[n+2*r+1];let o=r-1;for(;o>=0&&l[n+2*o]>e;o--)l[n+2*o+2]=l[n+2*o],l[n+2*o+3]=l[n+2*o+1];l[n+2*o+2]=e,l[n+2*o+3]=t}};for(let N=0;N<n;N++)d(r[N],r[N+1]),d(u+s[N],u+s[N+1]);const g=new Int32Array(3*o),h=(t,n)=>t===e[3*n]?0:t===e[3*n+1]?1:t===e[3*n+2]?2:-1,p=(e,t)=>{const n=h(e,t);g[3*t+n]=-1},T=(e,t,n,o)=>{const r=h(e,t);g[3*t+r]=o;const s=h(n,o);g[3*o+s]=t};for(let N=0;N<n;N++){let e=r[N];const t=r[N+1];let n=s[N];const o=s[N+1];for(;e<t&&n<o;){const t=l[2*e],o=l[2*u+2*n];t===o?(T(N,l[2*e+1],o,l[2*u+2*n+1]),e++,n++):t<o?(p(N,l[2*e+1]),e++):(p(o,l[2*u+2*n+1]),n++)}for(;e<t;)p(N,l[2*e+1]),e++;for(;n<o;)p(l[2*u+2*n],l[2*u+2*n+1]),n++}return g}var s=n(55158),i=n(4760),a=n(67009),c=n(41371),l=n(32666);function u(e){const t=f(e.data,e.skipDeduplicate,e.indices,e.indicesLength);return g.updateSettings(e.writerSettings),h.updateSettings(e.writerSettings),(0,l.n)(t,g,h)}function f(e,t,n,s){if(t){const t=r(n,s,e.count);return new d(n,s,t,e)}const i=(0,o.d)(e.buffer,e.stride/4,{originalIndices:n,originalIndicesLength:s}),c=r(i.indices,s,i.uniqueCount);return{faces:i.indices,facesLength:i.indices.length,neighbors:c,vertices:a.EdgeInputBufferLayout.createView(i.buffer)}}class d{constructor(e,t,n,o){this.faces=e,this.facesLength=t,this.neighbors=n,this.vertices=o}}const g=new c.D,h=new c.q,p=(0,s.U$)().vec3f(i.T.POSITION0).vec3f(i.T.POSITION1),T=(0,s.U$)().vec3f(i.T.POSITION0).vec3f(i.T.POSITION1).u16(i.T.COMPONENTINDEX)}}]);
//# sourceMappingURL=5569.699695ab.chunk.js.map