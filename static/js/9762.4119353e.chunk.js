"use strict";(self.webpackChunksc_envimonitor=self.webpackChunksc_envimonitor||[]).push([[9762,7009],{35888:(t,e,n)=>{n.d(e,{d:()=>s});var o=n(16889),r=n(39406);function s(t,e,n){var s;const u=Array.isArray(t),f=u?t.length/e:t.byteLength/(4*e),d=u?t:new Uint32Array(t,0,f*e),h=null!==(s=null===n||void 0===n?void 0:n.minReduction)&&void 0!==s?s:0,g=(null===n||void 0===n?void 0:n.originalIndices)||null,p=g?g.length:0,N=(null===n||void 0===n?void 0:n.componentOffsets)||null;let T=0;if(N)for(let o=0;o<N.length-1;o++){const t=N[o+1]-N[o];t>T&&(T=t)}else T=f;const I=Math.floor(1.1*T)+1;(null==l||l.length<2*I)&&(l=new Uint32Array((0,o.Sf)(2*I)));for(let o=0;o<2*I;o++)l[o]=0;let m=0;const A=!!N&&!!g,O=A?p:f;let S=(0,r.$z)(f);const v=new Uint32Array(p),w=1.96;let E=0!==h?Math.ceil(4*w*w/(h*h)*h*(1-h)):O,y=1,M=N?N[1]:O;for(let o=0;o<O;o++){if(o===E){const t=1-m/o;if(t+w*Math.sqrt(t*(1-t)/o)<h)return null;E*=2}if(o===M){for(let t=0;t<2*I;t++)l[t]=0;if(g)for(let t=N[y-1];t<N[y];t++)v[t]=S[g[t]];M=N[++y]}const t=A?g[o]:o,n=t*e,r=a(d,n,e);let s=r%I,c=m;for(;0!==l[2*s+1];){if(l[2*s]===r){const t=l[2*s+1]-1;if(i(d,n,t*e,e)){c=S[t];break}}s++,s>=I&&(s-=I)}c===m&&(l[2*s]=r,l[2*s+1]=t+1,m++),S[t]=c}if(0!==h&&1-m/f<h)return null;if(A){for(let t=N[y-1];t<v.length;t++)v[t]=S[g[t]];S=(0,r.mi)(v)}const U=u?new Array(m):new Uint32Array(m*e);m=0;for(let o=0;o<O;o++)S[o]===m&&(c(d,(A?g[o]:o)*e,U,m*e,e),m++);if(g&&!A){const t=new Uint32Array(p);for(let e=0;e<t.length;e++)t[e]=S[g[e]];S=(0,r.mi)(t)}return{buffer:Array.isArray(U)?U:U.buffer,indices:S,uniqueCount:m}}function i(t,e,n,o){for(let r=0;r<o;r++)if(t[e+r]!==t[n+r])return!1;return!0}function c(t,e,n,o,r){for(let s=0;s<r;s++)n[o+s]=t[e+s]}function a(t,e,n){let o=0;for(let r=0;r<n;r++)o=t[e+r]+o|0,o=o+(o<<11)+(o>>>2)|0;return o>>>0}let l=null},67009:(t,e,n)=>{n.d(e,{EdgeInputBufferLayout:()=>i,Hr:()=>u,dG:()=>l,dx:()=>a,k3:()=>f,rD:()=>c});var o=n(50256),r=n(55158),s=n(4760);const i=(0,r.U$)().vec3f(s.T.POSITION).u16(s.T.COMPONENTINDEX).freeze(),c=(0,r.U$)().vec2u8(s.T.SIDENESS).freeze(),a=(0,o.K)(c),l=(0,r.U$)().vec3f(s.T.POSITION0).vec3f(s.T.POSITION1).vec2i16(s.T.NORMALCOMPRESSED).u16(s.T.COMPONENTINDEX).u8(s.T.VARIANTOFFSET,{glNormalized:!0}).u8(s.T.VARIANTSTROKE).u8(s.T.VARIANTEXTENSION,{glNormalized:!0}).freeze(),u=(0,r.U$)().vec3f(s.T.POSITION0).vec3f(s.T.POSITION1).vec2i16(s.T.NORMALCOMPRESSED).vec2i16(s.T.NORMAL2COMPRESSED).u16(s.T.COMPONENTINDEX).u8(s.T.VARIANTOFFSET,{glNormalized:!0}).u8(s.T.VARIANTSTROKE).u8(s.T.VARIANTEXTENSION,{glNormalized:!0}).freeze(),f=new Map([[s.T.POSITION0,0],[s.T.POSITION1,1],[s.T.COMPONENTINDEX,2],[s.T.VARIANTOFFSET,3],[s.T.VARIANTSTROKE,4],[s.T.VARIANTEXTENSION,5],[s.T.NORMALCOMPRESSED,6],[s.T.NORMAL2COMPRESSED,7],[s.T.SIDENESS,8]])},41371:(t,e,n)=>{n.d(e,{D:()=>T,q:()=>I});var o=n(84936),r=n(32035),s=n(12400),i=n(50256),c=n(52920),a=n(67009);class l{updateSettings(t){this.settings=t,this._edgeHashFunction=t.reducedPrecision?g:h}write(t,e,n){A.seed=this._edgeHashFunction(n);const o=A.getIntRange(0,255),r=A.getIntRange(0,this.settings.variants-1),s=A.getFloat(),i=255*(.5*function(t,e){return Math.abs(t)**e*Math.sign(t)}(-(1-Math.min(s/.7,1))+Math.max(0,s-.7)/(1-.7),1.2)+.5);t.position0.setVec(e,n.position0),t.position1.setVec(e,n.position1),t.componentIndex.set(e,n.componentIndex),t.variantOffset.set(e,o),t.variantStroke.set(e,r),t.variantExtension.set(e,i)}}const u=new Float32Array(6),f=new Uint32Array(u.buffer),d=new Uint32Array(1);function h(t){return u[0]=t.position0[0],u[1]=t.position0[1],u[2]=t.position0[2],u[3]=t.position1[0],u[4]=t.position1[1],u[5]=t.position1[2],d[0]=31*(31*(31*(31*(31*(166811+f[0])+f[1])+f[2])+f[3])+f[4])+f[5],d[0]}function g(t){const e=u;e[0]=N(t.position0[0]),e[1]=N(t.position0[1]),e[2]=N(t.position0[2]),e[3]=N(t.position1[0]),e[4]=N(t.position1[1]),e[5]=N(t.position1[2]),d[0]=5381;for(let n=0;n<f.length;n++)d[0]=31*d[0]+f[n];return d[0]}const p=1e4;function N(t){return Math.round(t*p)/p}class T{constructor(){this._commonWriter=new l}updateSettings(t){this._commonWriter.updateSettings(t)}allocate(t){return a.dG.createBuffer(t)}write(t,e,n){this._commonWriter.write(t,e,n),(0,r.g)(m,n.faceNormal0,n.faceNormal1),(0,r.n)(m,m);const{typedBuffer:o,typedBufferStride:s}=t.normalCompressed;(0,c.hd)(o,e,m[0],m[1],m[2],s)}}T.Layout=a.dG,T.glLayout=(0,i.K)(a.dG,1);class I{constructor(){this._commonWriter=new l}updateSettings(t){this._commonWriter.updateSettings(t)}allocate(t){return a.Hr.createBuffer(t)}write(t,e,n){this._commonWriter.write(t,e,n);{const{typedBuffer:o,typedBufferStride:r}=t.normalCompressed;(0,c.hd)(o,e,n.faceNormal0[0],n.faceNormal0[1],n.faceNormal0[2],r)}{const{typedBuffer:o,typedBufferStride:r}=t.normal2Compressed;(0,c.hd)(o,e,n.faceNormal1[0],n.faceNormal1[1],n.faceNormal1[2],r)}}}I.Layout=a.Hr,I.glLayout=(0,i.K)(a.Hr,1);const m=(0,s.Ue)(),A=new o.Z},32666:(t,e,n)=>{n.d(e,{n:()=>a});var o=n(16889),r=n(10199),s=n(32035),i=n(12400);const c=-1;function a(t,e,n){const o=t.vertices.position,r=t.vertices.componentIndex,i=p.position0,a=p.position1,f=p.faceNormal0,h=p.faceNormal1,{edges:g,normals:N}=u(t),T=g.length/4,I=e.allocate(T);let m=0;const A=T,v=null===n||void 0===n?void 0:n.allocate(A);let E=0,y=0,M=0;d.length=0;for(let c=0;c<T;++c){const t=4*c;o.getVec(g.data[t],i),o.getVec(g.data[t+1],a);const e=d.pushNew();e.index=4*c,e.length=(0,s.j)(i,a)}d.sort(((t,e)=>e.length-t.length));const U=new Array,R=new Array;d.forAll((t=>{let{length:u,index:d}=t;const T=g.data[d],A=g.data[d+1],P=g.data[d+2],V=g.data[d+3],L=V===c;if(o.getVec(T,i),o.getVec(A,a),L){const t=3*P;(0,s.i)(f,N.data[t],N.data[t+1],N.data[t+2]),(0,s.c)(h,f),p.componentIndex=r.get(T),p.cosAngle=(0,s.f)(f,h)}else{let t=3*P;if((0,s.i)(f,N.data[t],N.data[t+1],N.data[t+2]),t=3*V,(0,s.i)(h,N.data[t],N.data[t+1],N.data[t+2]),p.componentIndex=r.get(T),p.cosAngle=(0,s.f)(f,h),function(t,e){return t.cosAngle>e}(p,S))return;p.cosAngle<-.9999&&(0,s.c)(h,f)}y+=u,M++,L||function(t,e){return t.cosAngle<e}(p,w)?(e.write(I,m++,p),U.push(u)):l(p,O)&&(v&&n&&n.write(v,E++,p),R.push(u))}));const P=new Float32Array(U.reverse()),V=new Float32Array(R.reverse()),L=v&&n?{instancesData:v.slice(0,E),lodInfo:{lengths:V}}:void 0;return{regular:{instancesData:I.slice(0,m),lodInfo:{lengths:P}},silhouette:L,averageEdgeLength:y/M}}function l(t,e){const n=(0,o.ZF)(t.cosAngle);return(0,s.o)(T,t.position1,t.position0),n*((0,s.f)((0,s.e)(N,t.faceNormal0,t.faceNormal1),T)>0?-1:1)>e}function u(t){const e=t.faces.length/3,n=t.faces,o=t.neighbors,r=t.vertices.position;h.length=g.length=0;for(let i=0;i<e;i++){const t=3*i,e=o[t],a=o[t+1],l=o[t+2],u=n[t],f=n[t+1],d=n[t+2];r.getVec(u,I),r.getVec(f,m),r.getVec(d,A),(0,s.d)(m,m,I),(0,s.d)(A,A,I),(0,s.e)(I,m,A),(0,s.n)(I,I),g.pushArray(I),(e===c||u<f)&&(h.push(u),h.push(f),h.push(i),h.push(e)),(a===c||f<d)&&(h.push(f),h.push(d),h.push(i),h.push(a)),(l===c||d<u)&&(h.push(d),h.push(u),h.push(i),h.push(l))}return{edges:h,normals:g}}class f{constructor(){this.index=0,this.length=0}}const d=new r.Z({allocator:t=>t||new f,deallocator:null}),h=new r.Z({deallocator:null}),g=new r.Z({deallocator:null}),p=new class{constructor(){this.position0=(0,i.Ue)(),this.position1=(0,i.Ue)(),this.faceNormal0=(0,i.Ue)(),this.faceNormal1=(0,i.Ue)(),this.componentIndex=0,this.cosAngle=0}},N=(0,i.Ue)(),T=(0,i.Ue)(),I=(0,i.Ue)(),m=(0,i.Ue)(),A=(0,i.Ue)(),O=(0,o.Vl)(4),S=Math.cos(O),v=(0,o.Vl)(35),w=Math.cos(v)},79762:(t,e,n)=>{n.d(e,{Kl:()=>u,extractComponentsEdgeLocationsLayout:()=>N,kY:()=>f,Yr:()=>p});var o=n(35888);function r(t,e,n){const o=e/3,r=new Uint32Array(n+1),s=new Uint32Array(n+1),i=(t,e)=>{t<e?r[t+1]++:s[e+1]++};for(let T=0;T<o;T++){const e=t[3*T],n=t[3*T+1],o=t[3*T+2];i(e,n),i(n,o),i(o,e)}let c=0,a=0;for(let T=0;T<n;T++){const t=r[T+1],e=s[T+1];r[T+1]=c,s[T+1]=a,c+=t,a+=e}const l=new Uint32Array(6*o),u=r[n],f=(t,e,n)=>{if(t<e){const o=r[t+1]++;l[2*o]=e,l[2*o+1]=n}else{const o=s[e+1]++;l[2*u+2*o]=t,l[2*u+2*o+1]=n}};for(let T=0;T<o;T++){const e=t[3*T],n=t[3*T+1],o=t[3*T+2];f(e,n,T),f(n,o,T),f(o,e,T)}const d=(t,e)=>{const n=2*t,o=e-t;for(let r=1;r<o;r++){const t=l[n+2*r],e=l[n+2*r+1];let o=r-1;for(;o>=0&&l[n+2*o]>t;o--)l[n+2*o+2]=l[n+2*o],l[n+2*o+3]=l[n+2*o+1];l[n+2*o+2]=t,l[n+2*o+3]=e}};for(let T=0;T<n;T++)d(r[T],r[T+1]),d(u+s[T],u+s[T+1]);const h=new Int32Array(3*o),g=(e,n)=>e===t[3*n]?0:e===t[3*n+1]?1:e===t[3*n+2]?2:-1,p=(t,e)=>{const n=g(t,e);h[3*e+n]=-1},N=(t,e,n,o)=>{const r=g(t,e);h[3*e+r]=o;const s=g(n,o);h[3*o+s]=e};for(let T=0;T<n;T++){let t=r[T];const e=r[T+1];let n=s[T];const o=s[T+1];for(;t<e&&n<o;){const e=l[2*t],o=l[2*u+2*n];e===o?(N(T,l[2*t+1],o,l[2*u+2*n+1]),t++,n++):e<o?(p(T,l[2*t+1]),t++):(p(o,l[2*u+2*n+1]),n++)}for(;t<e;)p(T,l[2*t+1]),t++;for(;n<o;)p(l[2*u+2*n],l[2*u+2*n+1]),n++}return h}var s=n(55158),i=n(4760),c=n(67009),a=n(41371),l=n(32666);function u(t){const e=f(t.data,t.skipDeduplicate,t.indices,t.indicesLength);return h.updateSettings(t.writerSettings),g.updateSettings(t.writerSettings),(0,l.n)(e,h,g)}function f(t,e,n,s){if(e){const e=r(n,s,t.count);return new d(n,s,e,t)}const i=(0,o.d)(t.buffer,t.stride/4,{originalIndices:n,originalIndicesLength:s}),a=r(i.indices,s,i.uniqueCount);return{faces:i.indices,facesLength:i.indices.length,neighbors:a,vertices:c.EdgeInputBufferLayout.createView(i.buffer)}}class d{constructor(t,e,n,o){this.faces=t,this.facesLength=e,this.neighbors=n,this.vertices=o}}const h=new a.D,g=new a.q,p=(0,s.U$)().vec3f(i.T.POSITION0).vec3f(i.T.POSITION1),N=(0,s.U$)().vec3f(i.T.POSITION0).vec3f(i.T.POSITION1).u16(i.T.COMPONENTINDEX)}}]);
//# sourceMappingURL=9762.4119353e.chunk.js.map