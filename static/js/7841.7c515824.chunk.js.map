{"version":3,"file":"static/js/7841.7c515824.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/layers/support/timeSupport.js","../node_modules/@arcgis/core/support/timeUtils.js","../node_modules/@arcgis/core/renderers/support/clickToleranceUtils.js","../node_modules/@arcgis/core/views/webgl/rasterUtils.js","../node_modules/@arcgis/core/views/3d/terrain/RasterTile.js","../node_modules/@arcgis/core/views/layers/ImageryTileLayerView.js","../node_modules/@arcgis/core/views/3d/layers/ImageryTileLayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/LayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/TiledLayerView3D.js","../node_modules/@arcgis/core/views/layers/LayerView.js","../node_modules/@arcgis/core/views/layers/RefreshableLayerView.js","../node_modules/@arcgis/core/views/layers/support/popupUtils.js","../node_modules/@arcgis/core/views/support/drapedUtils.js","../node_modules/@arcgis/core/webmap/Version.js","../node_modules/@arcgis/core/webmap/utils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{toLocalTimeExtent as e,toUTCTimeExtent as t}from\"../../support/timeUtils.js\";function i(i,n,s){if(null==i?.timeInfo)return null;const{datesInUnknownTimezone:l=!1,timeOffset:o,useViewTime:m}=i;let u=i.timeExtent;l&&(u=e(u));let r=m?n&&u?n.intersection(u):n||u:u;return!r||r.isEmpty||r.isAllTime?r:(o&&(r=r.offset(-o.value,o.unit)),l&&(r=t(r)),r.equals(s)?s:r)}export{i as combineTimeExtent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../core/arrayUtils.js\";import{deprecatedFunction as e}from\"../core/deprecate.js\";import{clone as n}from\"../core/lang.js\";import i from\"../core/Logger.js\";import{offsetDate as r}from\"../core/timeUtils.js\";import s from\"../time/TimeExtent.js\";import{isWebMap as l}from\"../webmap/utils.js\";import{isWebScene as o}from\"../webscene/utils.js\";function m(t){return void 0!==t.timeInfo}async function u(t,e){return t.widgets?.timeSlider?.fullTimeExtent??f(t.allLayers,e)}function a(t){const e=t.numThumbs??2,n=t.currentTimeExtent;if(n){const{start:t,end:i}=n;return null!=t&&null!=i&&t.getTime()===i.getTime()?\"instant\":2===e?\"time-window\":null==t||0===t.getTime()?\"cumulative-from-start\":\"cumulative-from-end\"}return 2===e?\"time-window\":\"cumulative-from-start\"}function c(t){const{numStops:e,stopInterval:i,stops:r}=t;return r?{dates:n(r)}:i?{interval:i.clone()}:{count:e??5}}async function f(e,n){if(0===e.length)return s.allTime;await Promise.all(e.map((t=>t.load({signal:n}))));const i=e.filter(m),r=e.filter((t=>!m(t)&&null!=t.visibilityTimeExtent));if(0===i.length&&0===r.length)return s.allTime;const l=[],o=[];for(const t of i)\"feature\"!==t?.type&&\"map-image\"!==t?.type||!t.timeInfo?.hasLiveData?o.push(t):l.push(t);const u=t=>null==t||t.isAllTime,a=[...o.map((t=>{const e=t.timeInfo?.fullTimeExtent,{visibilityTimeExtent:n}=t;return e?.intersection(n)??n})),...r.map((t=>t.visibilityTimeExtent))];if(a.some(u))return s.allTime;const c=l.map((async t=>{const e=(await t.fetchRecomputedExtents({signal:n}))?.timeExtent??t.timeInfo?.fullTimeExtent,{visibilityTimeExtent:i}=t;return e?.intersection(i)??i})),f=(await Promise.allSettled(c)).map((t=>\"fulfilled\"===t.status?t.value:null));if(f.some(u))return s.allTime;const p=[...f,...a].filter(t);if(0===p.length)return s.allTime;return p.reduce(((t,e)=>t.union(e)))}function p(t,e){const n=t.currentTimeExtent;if(!n)return null;const{start:i,end:r}=n,l=i??r??null;switch(e){case\"time-window\":return new s({start:i,end:r});case\"cumulative-from-start\":return new s({start:null,end:l});case\"cumulative-from-end\":return new s({start:l,end:null});case\"instant\":return new s({start:l,end:l})}}async function d(t,n){return e(i.getLogger(\"esri.support.timeUtils.getTimeSliderSettingsFromWebMap\"),\"`timeUtils.getTimeSliderSettingsFromWebMap` is deprecated in favor of 'timeUtils.getTimeSliderSettingsFromWebDocument'\",{replacement:\"timeUtils.getTimeSliderSettingsFromWebDocument\",version:\"4.30\",see:\"https://developers.arcgis.com/javascript/latest/api-reference/esri-support-timeUtils.html#getTimeSliderSettingsFromWebDocument\",warnOnce:!0}),null!=t&&l(t)?await g(t,n):null}async function g(t,e){if(!l(t)&&!o(t))return null;await t.load({signal:e});const n=t?.widgets?.timeSlider;if(!n)return null;const i=await u(t,e),r=n.loop,s=a(n);return{fullTimeExtent:i,loop:r,mode:s,playRate:n.stopDelay??2e3,stops:c(n),timeExtent:p(n,s)}}function T(t){if(!t)return t;const{start:e,end:n}=t;return new s({start:null!=e?r(e,-e.getTimezoneOffset(),\"minutes\"):e,end:null!=n?r(n,-n.getTimezoneOffset(),\"minutes\"):n})}function w(t){if(!t)return t;const{start:e,end:n}=t;return new s({start:null!=e?r(e,e.getTimezoneOffset(),\"minutes\"):e,end:null!=n?r(n,n.getTimezoneOffset(),\"minutes\"):n})}export{f as getTimeExtentFromLayers,g as getTimeSliderSettingsFromWebDocument,d as getTimeSliderSettingsFromWebMap,w as toLocalTimeExtent,T as toUTCTimeExtent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nfunction t(t,e){return e?\"xoffset\"in e&&e.xoffset?Math.max(t,Math.abs(e.xoffset)):\"yoffset\"in e&&e.yoffset?Math.max(t,Math.abs(e.yoffset||0)):t:t}function e(t){let e=0,n=0;for(let r=0;r<t.length;r++){const o=t[r].size;\"number\"==typeof o&&(e+=o,n++)}return e/n}function n(t,n){return\"number\"==typeof t?t:t?.stops?.length?e(t.stops):n}function r(t,e){if(!e)return t;const r=e.filter((t=>\"size\"===t.type)).map((e=>{const{maxSize:r,minSize:o}=e;return(n(r,t)+n(o,t))/2}));let o=0;const s=r.length;if(0===s)return t;for(let n=0;n<s;n++)o+=r[n];const f=Math.floor(o/s);return Math.max(f,t)}function o(e){const n=e?.renderer,o=e?.pointerType,s=\"touch\"===o?9:6;if(!n)return s;const f=\"visualVariables\"in n?r(s,n.visualVariables):s;if(\"simple\"===n.type)return t(f,n.symbol);if(\"unique-value\"===n.type){let e=f;return n.uniqueValueInfos?.forEach((n=>{e=t(e,n.symbol)})),e}if(\"class-breaks\"===n.type){let e=f;return n.classBreakInfos.forEach((n=>{e=t(e,n.symbol)})),e}return\"dot-density\"===n.type||n.type,f}export{o as calculateTolerance};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{ZEROS as e}from\"../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{PixelType as t,SizedPixelFormat as n,PixelFormat as r,TextureSamplingMode as a,TextureWrapMode as i,UniformType as o}from\"./enums.js\";import{Texture as s}from\"./Texture.js\";import{TextureDescriptor as u}from\"./TextureDescriptor.js\";function f(e,o,f=\"nearest\",c=!1){const m=!(c&&\"u8\"===o.pixelType),l=m?t.FLOAT:t.UNSIGNED_BYTE,_=null==o.pixels||0===o.pixels.length?null:m?o.getAsRGBAFloat():o.getAsRGBA(),g=e.capabilities.textureFloatLinear,p=new u;return p.width=o.width,p.height=o.height,p.internalFormat=m?n.RGBA32F:r.RGBA,p.samplingMode=!g||\"bilinear\"!==f&&\"cubic\"!==f?a.NEAREST:a.LINEAR,p.dataType=l,p.wrapMode=i.CLAMP_TO_EDGE,new s(e,p,_)}function c(e,r){const{spacing:o,offsets:f,coefficients:c,size:[m,l]}=r,_=o[0]>1,g=new u;g.width=_?4*m:m,g.height=l,g.internalFormat=n.RGBA32F,g.dataType=t.FLOAT,g.samplingMode=a.NEAREST,g.wrapMode=i.CLAMP_TO_EDGE;const p=new Float32Array(_?m*l*16:2*f.length);if(_&&null!=c)for(let t=0,n=0;t<c.length;t++)p[n++]=c[t],t%3==2&&(p[n++]=1);else for(let t=0;t<l;t++)for(let e=0;e<m;e++){const n=4*(t*m+e),r=2*(e*l+t);p[n]=f[r],p[n+1]=f[r+1],p[n+3]=-1===f[r]?0:1}return new s(e,g,p)}function m(e,t){const n=new u;return n.internalFormat=r.RGBA,n.width=t.length/4,n.height=1,n.samplingMode=a.NEAREST,n.wrapMode=i.CLAMP_TO_EDGE,new s(e,n,t)}function l(t,n,r,a=1,i=!0){return{u_flipY:i,u_applyTransform:!!t,u_opacity:a,u_transformSpacing:t?t.spacing:e,u_transformGridSize:t?t.size:e,u_targetImageSize:n,u_srcImageSize:r}}function _(e,t){return{u_colormapOffset:t||0,u_colormapMaxIndex:e?e.length/4-1:0}}function g(e,t){return{u_scale:e,u_offset:t}}function p(e){return{u_bandCount:e.bandCount,u_minOutput:e.outMin,u_maxOutput:e.outMax,u_minCutOff:e.minCutOff,u_maxCutOff:e.maxCutOff,u_factor:e.factor,u_useGamma:e.useGamma,u_gamma:e.gamma,u_gammaCorrection:e.gammaCorrection}}function A(e){return{u_hillshadeType:e.hillshadeType,u_sinZcosAs:e.sinZcosAs,u_sinZsinAs:e.sinZsinAs,u_cosZs:e.cosZs,u_weights:e.weights,u_factor:e.factor,u_minValue:e.minValue,u_maxValue:e.maxValue}}function T(e,t){const n=e.gl,r=t.glName,a=new Map;if(null==r)return a;const i=n.getProgramParameter(r,n.ACTIVE_UNIFORMS);let o;for(let s=0;s<i;s++)o=n.getActiveUniform(r,s),o&&a.set(o.name,{location:n.getUniformLocation(r,o.name),info:o});return a}function h(e,t,n){Object.keys(n).forEach((r=>{const a=t.get(r)||t.get(r+\"[0]\");a&&E(e,r,n[r],a)}))}function O(e,t,n,r){n.length===r.length&&(r.some((e=>null==e))||n.some((e=>null==e))||n.forEach(((n,a)=>{t.setUniform1i(n,a),e.bindTexture(r[a],a)})))}function E(e,t,n,r){if(null===r||null==n)return!1;const{info:a}=r;switch(a.type){case o.FLOAT:a.size>1?e.setUniform1fv(t,n):e.setUniform1f(t,n);break;case o.FLOAT_VEC2:e.setUniform2fv(t,n);break;case o.FLOAT_VEC3:e.setUniform3fv(t,n);break;case o.FLOAT_VEC4:e.setUniform4fv(t,n);break;case o.FLOAT_MAT3:e.setUniformMatrix3fv(t,n);break;case o.FLOAT_MAT4:e.setUniformMatrix4fv(t,n);break;case o.INT:a.size>1?e.setUniform1iv(t,n):e.setUniform1i(t,n);break;case o.BOOL:e.setUniform1i(t,n?1:0);break;case o.INT_VEC2:case o.BOOL_VEC2:e.setUniform2iv(t,n);break;case o.INT_VEC3:case o.BOOL_VEC3:e.setUniform3iv(t,n);break;case o.INT_VEC4:case o.BOOL_VEC4:e.setUniform4iv(t,n);break;default:return!1}return!0}export{m as createColormapTexture,f as createRasterTexture,c as createTransformTexture,g as getBasicGridUniforms,_ as getColormapUniforms,l as getCommonUniforms,A as getShadedReliefUniforms,p as getStretchUniforms,T as getUniformLocationInfos,O as setTextures,h as setUniforms};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{disposeMaybe as t}from\"../../../core/maybe.js\";import{C as e}from\"../../../chunks/RasterColorizer.glsl.js\";import{TextureSamplingMode as r}from\"../../webgl/enums.js\";import{createTransformTexture as s,getCommonUniforms as i,getColormapUniforms as o,getStretchUniforms as a,getShadedReliefUniforms as l,createRasterTexture as h,createColormapTexture as n}from\"../../webgl/rasterUtils.js\";const u={bandCount:3,outMin:0,outMax:1,minCutOff:[0,0,0],maxCutOff:[255,255,255],factor:[1/255,1/255,1/255],useGamma:!1,gamma:[1,1,1],gammaCorrection:[1,1,1],colormap:null,colormapOffset:null,stretchType:\"none\",type:\"stretch\"};class m{constructor(t,e,r=null,s=null){this.lij=t,this.type=\"raster-tile\",this._memoryUsed=null,this._source=null,this._symbolizerParameters=null,this._bandIds=null,this._interpolation=null,this._dirty=!1,this._transformGrid=null,this.isRendereredSource=!1,this.symbolizerRenderer=null,this.rawPixelData=null,this.opacity=1,this.source=e,this.width=r||e.width,this.height=s||e.height}get source(){return this._source}set source(e){this._source=e,this._rasterTexture=t(this._rasterTexture),this._memoryUsed=null}get symbolizerParameters(){return this.isRendereredSource?{...u,maxCutOff:[1,1,1],factor:[1,1,1]}:this._symbolizerParameters||u}set symbolizerParameters(t){this._symbolizerParameters=t}get bandIds(){return this._bandIds}set bandIds(t){if(null!=t&&t.length>0){this._bandIds&&t.every(((t,e)=>!!this._bandIds?.[e]&&t===this._bandIds[e]))||(this._bandIds=t,this._dirty=!0)}else this._bandIds=null}get interpolation(){return this._interpolation||\"nearest\"}set interpolation(t){if(this._interpolation=t,null!=this._rasterTexture){const e=this._getRasterTextureInterpolation(t);this._rasterTexture.setSamplingMode(\"bilinear\"===e?r.LINEAR:r.NEAREST)}}get transformGrid(){return this._transformGrid}set transformGrid(e){this._transformGrid=e,this._transformGridTexture=t(this._transformGridTexture),this._memoryUsed=null}bind(t){return!!(this.source&&this.source.pixels&&this.source.pixels.length>0)&&((null==this._rasterTexture||this._dirty)&&this._updateRasterTexture(t,this.bandIds),null!=this._rasterTexture&&(this._updateColormapTexture(t),this.transformGrid&&null==this._transformGridTexture&&(this._transformGridTexture=s(t,this.transformGrid))),!0)}getUniforms(){const{symbolizerParameters:t,transformGrid:r,width:s,height:h,opacity:n}=this,u=i(r,[s,h],[this.source.width,this.source.height],n),m=o(t.colormap,t.colormapOffset),d=\"stretch\"===this.symbolizerParameters.type?a(this.symbolizerParameters):null,_=\"hillshade\"===this.symbolizerParameters.type?l(this.symbolizerParameters):null;return new e(u,m,d||_,this._rasterTexture,this._transformGridTexture,this._colormapTexture)}get isBilinearWithStretchColorRamp(){const{symbolizerParameters:t}=this;return\"bilinear\"===this.interpolation&&null!=t.colormap&&\"stretch\"===t.type}get memoryUsage(){if(null==this._memoryUsed){const t=[this._rasterTexture,this._transformGridTexture,this._colormapTexture];this._memoryUsed=t.map((t=>null!=t?t.descriptor.width*t.descriptor.height*4:0)).reduce(((t,e)=>t+e),0)}return this._memoryUsed}release(){return this._rasterTexture=t(this._rasterTexture),this._transformGridTexture=t(this._transformGridTexture),this._colormapTexture=t(this._colormapTexture),this.source=null,this.transformGrid=null,this.rawPixelData=null,!0}_updateRasterTexture(e,r){const s=this.source?this.source.extractBands(r):null;if(!(s?.pixels&&s.pixels.length>0))return void(this._rasterTexture=t(this._rasterTexture));const i=null==r&&null==this.bandIds||null!=r&&null!=this.bandIds&&r.join(\"\")===this.bandIds.join(\"\");if(null!=this._rasterTexture&&i)return;this._rasterTexture=t(this._rasterTexture);const o=this._getRasterTextureInterpolation(this.interpolation);this._rasterTexture=h(e,s,o,this.isRendereredSource||this.hasStretchTypeNone())}hasStretchTypeNone(){return\"stretchType\"in this.symbolizerParameters&&\"none\"===this.symbolizerParameters.stretchType&&!this.symbolizerParameters.useGamma&&\"u8\"===this.source.pixelType}_getRasterTextureInterpolation(t){return\"lut\"===this.symbolizerParameters.type||\"nearest\"===t||\"majority\"===t||this.isBilinearWithStretchColorRamp?\"nearest\":\"bilinear\"}_updateColormapTexture(e){const r=this._colormap,s=this.symbolizerParameters.colormap;return s?r?s.length!==r.length||s.some(((t,e)=>t!==r[e]))?(this._colormapTexture=t(this._colormapTexture),this._colormapTexture=n(e,s),void(this._colormap=s)):void 0:(this._colormapTexture=n(e,s),void(this._colormap=s)):(this._colormapTexture=t(this._colormapTexture),void(this._colormap=null))}}export{m as RasterTile};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../Graphic.js\";import r from\"../../core/Error.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{combineTimeExtent as i}from\"../../layers/support/timeSupport.js\";import{getDefaultDatumTransformationForDataset as o,projectDatasetExtent as n}from\"../../layers/support/rasterFunctions/rasterProjectionHelper.js\";import{getFetchPopupTemplate as l}from\"./support/popupUtils.js\";const u=u=>{let p=class extends u{constructor(){super(...arguments),this._rasterFieldPrefix=\"Raster.\",this.layer=null,this.tileInfo=null}get fullExtent(){try{return this.layer.loaded?this._getFullExtent():null}catch{return null}}get timeExtent(){return i(this.layer,this.view?.timeExtent,this._get(\"timeExtent\"))}get hasTilingEffects(){return!!(this.layer.renderer&&\"dynamicRangeAdjustment\"in this.layer.renderer&&this.layer.renderer.dynamicRangeAdjustment)}get datumTransformation(){try{return this.layer.loaded?o(this.layer.fullExtent,this.view.spatialReference,!0):null}catch{return null}}supportsSpatialReference(e){try{return!this.layer.loaded||!!n(this.layer.serviceRasterInfo,e)}catch{return!1}}async fetchPopupFeaturesAtLocation(e,s){const{layer:a}=this;if(!e)throw new r(\"imageryTileLayerView:fetchPopupFeatures\",\"Nothing to fetch without area\",{layer:a});const{popupEnabled:i}=a,o=l(a,s);if(!i||null==o)return[];const n=[],{value:u,magdirValue:p,processedValue:c}=await a.identify(e,{timeExtent:this.timeExtent,signal:s?.signal});let m=\"\";if(u?.length){m=\"imagery-tile\"===a.type&&a.hasStandardTime()&&null!=u[0]?u.map((e=>a.getStandardTimeValue(e))).join(\", \"):u.join(\", \");const e={ObjectId:0},r=\"Raster.ServicePixelValue\";e[r]=\"imagery-tile\"===a.type&&\"Function\"===a.raster.datasetFormat?c?.join(\", \"):m,e[r+\".Raw\"]=m;const s=a.raster?.rasterInfo??a.serviceRasterInfo,i=s?.attributeTable;if(null!=i){const{fields:t,features:s}=i,a=t.find((({name:e})=>\"value\"===e.toLowerCase())),o=e[r],n=a?s.find((e=>String(e.attributes[a.name])===o)):null;if(n)for(const r in n.attributes)if(n.attributes.hasOwnProperty(r)){e[this._rasterFieldPrefix+r]=n.attributes[r]}}const o=s?.dataType;\"vector-magdir\"!==o&&\"vector-uv\"!==o||(e[\"Raster.Magnitude\"]=p?.[0],e[\"Raster.Direction\"]=p?.[1]);const l=new t({geometry:this.fullExtent?.clone(),attributes:e,layer:a,sourceLayer:a});n.push(l)}return n}_getFullExtent(){return n(this.layer.serviceRasterInfo,this.view.spatialReference)}};return e([s()],p.prototype,\"fullExtent\",null),e([s()],p.prototype,\"layer\",void 0),e([s({readOnly:!0})],p.prototype,\"timeExtent\",null),e([s()],p.prototype,\"tileInfo\",void 0),e([s({readOnly:!0})],p.prototype,\"hasTilingEffects\",null),e([s()],p.prototype,\"datumTransformation\",null),p=e([a(\"esri.views.layers.ImageryTileLayerView\")],p),p};export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Error.js\";import{whenOnce as r}from\"../../../core/reactiveUtils.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import{projectDatasetExtent as a}from\"../../../layers/support/rasterFunctions/rasterProjectionHelper.js\";import{LayerView3D as l}from\"./LayerView3D.js\";import{TiledLayerView3D as n}from\"./TiledLayerView3D.js\";import{RasterTile as o}from\"../terrain/RasterTile.js\";import m from\"../../layers/ImageryTileLayerView.js\";import p from\"../../layers/LayerView.js\";import h from\"../../layers/RefreshableLayerView.js\";import{createQueryGeometry as c}from\"../../support/drapedUtils.js\";import{getWebGLCapabilities as d}from\"../../webgl/capabilities.js\";let y=class extends(m(h(n(l(p))))){constructor(){super(...arguments),this.type=\"imagery-tile-3d\",this._isAlignedMapTile=!0}initialize(){this.layer.increaseRasterJobHandlerUsage(),null==this.fullExtent&&this.addResolvingPromise(Promise.reject(new t(\"layerview:spatial-reference-incompatible\",\"The layer extent cannot be projected to the view's spatial reference\",{layer:this.layer})));const e=r((()=>this.view?.basemapTerrain?.tilingSchemeLocked)).then((()=>{const e=this.view.basemapTerrain.tilingScheme,t=this.layer.tileInfo;this._isAlignedMapTile=[\"png\",\"png24\",\"png32\",\"jpg\",\"mixed\"].includes(t.format)&&e.compatibleWith(t),this.tileInfo=this._isAlignedMapTile?t:e.toTileInfo(),this._updatingHandles.add((()=>[this.layer.renderer,this.layer.interpolation,this.layer.bandIds,this.layer.multidimensionalDefinition,this.layer.multidimensionalSubset,this.layer.rasterFunction,this.timeExtent]),(()=>this.refresh()))}));this.addResolvingPromise(e)}destroy(){this.layer.decreaseRasterJobHandlerUsage()}get _blankTile(){const e=document.createElement(\"canvas\"),t=e.getContext(\"2d\"),[r,i]=this.tileInfo.size;return e.width=r,e.height=i,t.clearRect(0,0,r,i),t.getImageData(0,0,r,i)}get imageFormatIsOpaque(){return\"jpg\"===this.layer.tileInfo.format}get hasMixedImageFormats(){return\"mixed\"===this.layer.tileInfo.format}get dataLevelRange(){const e=this.layer.tileInfo,t=this.tileInfo.lodAt(0)?.scale,r=this.layer.tileInfo.lodAt(e.lods.length-1)?.scale;return this.levelRangeFromScaleRange(t,r)}_getFullExtent(){return a(this.layer.serviceRasterInfo,this.view.basemapTerrain?.spatialReference??this.view.spatialReference)}async fetchTile(e,t){const r=this.tileInfo,i=this._canSymbolizeInWebGL(),s={tileInfo:r,requestRawData:i,signal:t.signal,timeExtent:this.timeExtent,requestAsImageElement:this._isAlignedMapTile,noClip:!1},{layer:a}=this,[l,n,m]=e,p=await a.fetchTile(l,n,m,s);if(p instanceof HTMLImageElement)return p;let h=p?.pixelBlock;if(null==h)return this._blankTile;if(!i&&(h=await a.applyRenderer(p),null==h))return this._blankTile;const c=new o([l,n,m],h,r.size[0],r.size[1]);return i?(c.symbolizerRenderer=a.symbolizer.rendererJSON,c.symbolizerParameters=a.symbolizer.generateWebGLParameters(this._getSymbolizerOptions(l)),c.transformGrid=p.transformGrid,c.bandIds=a.bandIds):(c.isRendereredSource=!0,c.bandIds=null),c.interpolation=a.interpolation,c}_getSymbolizerOptions(e){const t=this.tileInfo.lodAt(e).resolution;return{pixelBlock:null,isGCS:null!=this.view.basemapTerrain?.spatialReference?this.view.basemapTerrain.spatialReference.isGeographic:this.view.spatialReference.isGeographic,resolution:{x:t,y:t},bandIds:this.layer.bandIds}}ensureSymbolizerParameters(e){this._canSymbolizeInWebGL()&&JSON.stringify(e.symbolizerRenderer)!==JSON.stringify(this.layer.symbolizer.rendererJSON)&&(e.symbolizerParameters=this.layer.symbolizer.generateWebGLParameters(this._getSymbolizerOptions(e.lij[0])))}createFetchPopupFeaturesQueryGeometry(e,t){return c(e,t,this.view)}refresh(){this.emit(\"data-changed\")}async doRefresh(){this.suspended||this.emit(\"data-changed\")}_canSymbolizeInWebGL(){const e=d(),{symbolizer:t}=this.layer,r=t.lookup?.colormapLut?.indexedColormap,i=!!this.layer.rasterFunction?.hasClipFunction,s=r&&r.length>4*(e.maxTextureSize||4906);return t.canRenderInWebGL&&!s&&!i}};e([i({readOnly:!0})],y.prototype,\"_blankTile\",null),e([i({readOnly:!0})],y.prototype,\"imageFormatIsOpaque\",null),e([i({readOnly:!0})],y.prototype,\"hasMixedImageFormats\",null),e([i({readOnly:!0})],y.prototype,\"dataLevelRange\",null),y=e([s(\"esri.views.3d.layers.ImageryTileLayerView3D\")],y);const u=y;export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{makeHandle as s}from\"../../../core/handleUtils.js\";import{throwIfAborted as e}from\"../../../core/promiseUtils.js\";import{whenOnce as t}from\"../../../core/reactiveUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{supportsHeightModelInfo as p,rejectLayerError as a}from\"../../../geometry/support/heightModelInfoUtils.js\";const l=l=>{let n=class extends l{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(){super.postscript(),p(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const o=new AbortController,r=o.signal;this.addHandles(s((()=>o.abort()))),await t((()=>this.view.defaultsFromMap?.heightModelInfoReady),r),e(r);const i=a(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}};return o([r()],n.prototype,\"view\",void 0),o([r()],n.prototype,\"slicePlaneEnabled\",void 0),n=o([i(\"esri.views.3d.layers.LayerView3D\")],n),n};export{l as LayerView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Error.js\";import{whenOnce as i}from\"../../../core/reactiveUtils.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import{LayerViewPerformanceInfo as l}from\"./support/LayerViewPerformanceInfo.js\";import{updatingProgress as s,updatingProgressValue as n}from\"../support/updatingProperties.js\";import{checkIfTileInfoSupportedForView as o}from\"../terrain/terrainUtils.js\";import{isScaleRangeActive as c,validateScaleRange as h}from\"../../support/layerViewUtils.js\";const p=p=>{let m=class extends p{constructor(){super(...arguments),this.hasMixedImageFormats=!0}get imageFormatIsOpaque(){return!1}get fullExtent(){return this.layer.fullExtent}get isOpaque(){return this.fullOpacity>=1&&this.imageFormatIsOpaque}get visibleAtCurrentScale(){if(!c(this.layer.minScale,this.layer.maxScale)||!this.view.scale)return!0;const e=Math.round(this.view.basemapTerrain.tilingScheme.levelAtScale(this.view.scale));return e>=this.displayLevelRange.minLevel&&e<=this.displayLevelRange.maxLevel}get dataScaleRange(){const e=this.tileInfo.lods;let t=e[0].scale,i=e[e.length-1].scale;if(\"tilemapCache\"in this.layer&&this.layer.tilemapCache){const{effectiveMinLOD:e,effectiveMaxLOD:a}=this.layer.tilemapCache;t=this.tileInfo.lodAt(e).scale,i=this.tileInfo.lodAt(a).scale}return{minScale:t,maxScale:i}}canResume(){const e=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready&&h(e)&&this.visibleAtCurrentTimeExtent||!1}get dataLevelRange(){const{minScale:e,maxScale:t}=this.dataScaleRange;return this.levelRangeFromScaleRange(e,t)}get displayLevelRange(){const e=this.layer.minScale||this.dataScaleRange.minScale,t=this.layer.maxScale||this.dataScaleRange.maxScale,i=this.levelRangeFromScaleRange(e,t);return this.layer.maxScale&&i.maxLevel++,i}get performanceInfo(){return new l(this.view.basemapTerrain.getUsedMemoryForLayerView(this))}getTileUrl(e){return this.layer.getTileUrl(e[0],e[1],e[2])}_addTilingSchemeMatchPromise(){if(null==this.fullExtent)return this.addResolvingPromise(Promise.reject(new t(\"tilingscheme:extent-not-defined\",\"This layer doesn't define a fullExtent.\")));const e=this._getTileInfoSupportError(this.tileInfo,this.fullExtent);if(e)return this.addResolvingPromise(Promise.reject(e));this.addResolvingPromise(i((()=>this.view?.basemapTerrain?.tilingSchemeLocked)).then((()=>{const e=this.view.basemapTerrain.tilingScheme,t=\"tilemapCache\"in this.layer?this.layer.tilemapCache?.effectiveMaxLOD:void 0,i=this._getTileInfoCompatibilityError(this.tileInfo,e,t);if(i)throw i})))}_getTileInfoSupportError(e,i){const a=o(e,i,this.view.spatialReference,this.view.state.viewingMode,\"tilemapCache\"in this.layer?this.layer.tilemapCache?.effectiveMaxLOD:void 0);if(!a)return;const r={layer:this.layer,error:a};switch(a.name){case\"tilingscheme:spatial-reference-mismatch\":case\"tilingscheme:global-unsupported-spatial-reference\":case\"tilingscheme:local-unsupported-spatial-reference\":return new t(\"layerview:spatial-reference-incompatible\",\"The spatial reference of this layer does not meet the requirements of the view\",r);default:return new t(\"layerview:tiling-scheme-unsupported\",\"The tiling scheme of this layer is not supported by SceneView\",r)}}_getTileInfoCompatibilityError(e,i,a){return null!=e&&i.compatibleWith(e,a)?null:new t(\"layerview:tiling-scheme-incompatible\",\"The tiling scheme of this layer is incompatible with the tiling scheme of the surface\")}levelRangeFromScaleRange(e,t){const i={minLevel:0,maxLevel:1/0},a=this.view&&this.view.basemapTerrain&&this.view.basemapTerrain.tilingScheme;if(!a)return i;const r=a.levels[0],l=e=>{const t=Math.log(r.scale/e)/Math.LN2;return.5-Math.abs(.5-t%1)<1e-9?Math.round(t):Math.ceil(t)};return null!=e&&e>0&&(i.minLevel=Math.max(0,l(e))),null!=t&&t>0&&(i.maxLevel=Math.max(0,l(t))),i}isUpdating(){return!!(this.view&&this.view.basemapTerrain&&this.view.basemapTerrain.updating)}};return e([a({readOnly:!0})],m.prototype,\"imageFormatIsOpaque\",null),e([a({readOnly:!0})],m.prototype,\"updating\",void 0),e([a(s)],m.prototype,\"updatingProgress\",void 0),e([a(n)],m.prototype,\"updatingProgressValue\",void 0),e([a()],m.prototype,\"hasMixedImageFormats\",void 0),e([a()],m.prototype,\"fullExtent\",null),e([a({readOnly:!0})],m.prototype,\"isOpaque\",null),e([a({readOnly:!0})],m.prototype,\"visibleAtCurrentScale\",null),e([a()],m.prototype,\"dataScaleRange\",null),e([a({readOnly:!0})],m.prototype,\"dataLevelRange\",null),e([a({readOnly:!0})],m.prototype,\"displayLevelRange\",null),e([a()],m.prototype,\"layer\",void 0),m=e([r(\"esri.views.3d.layers.TiledLayerView3D\")],m),m};export{p as TiledLayerView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import r from\"../../core/Evented.js\";import{IdentifiableMixin as i}from\"../../core/Identifiable.js\";import s from\"../../core/Logger.js\";import{destroyMaybe as n}from\"../../core/maybe.js\";import{EsriPromiseMixin as l}from\"../../core/Promise.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as p}from\"../../core/support/UpdatingHandles.js\";import{validateScaleRange as d}from\"../support/layerViewUtils.js\";let u=class extends(i(l(r.EventedMixin(t)))){constructor(e){super(e),this._updatingHandles=new p,this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const t=this.layer&&this.layer.id||\"no id\",r=this.layer?.title||\"no title\";s.getLogger(this).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}}))}destroy(){this._updatingHandles=n(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return this.destroyed||!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get updateSuspended(){return this.suspended}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome(\"visible\",e)}get visibleAtCurrentScale(){return!0}get visibleAtCurrentTimeExtent(){const e=this.view.timeExtent,t=this.layer?.visibilityTimeExtent;return!e||!t||!e.intersection(t).isEmpty}canResume(){const e=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready&&d(e)&&this.visibleAtCurrentScale&&this.visibleAtCurrentTimeExtent||!1}getSuspendInfo(){const e=this.parent?.suspended?this.parent.suspendInfo:{},t=this;t.view?.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0);const r=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return d(r)&&this.visibleAtCurrentScale||(e.outsideScaleRange=!0),this.visibleAtCurrentTimeExtent||(e.outsideVisibilityTimeExtent=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([o()],u.prototype,\"view\",void 0),e([o()],u.prototype,\"fullOpacity\",null),e([o()],u.prototype,\"layer\",void 0),e([o()],u.prototype,\"parent\",void 0),e([o({readOnly:!0})],u.prototype,\"suspended\",null),e([o({readOnly:!0})],u.prototype,\"suspendInfo\",null),e([o({readOnly:!0})],u.prototype,\"legendEnabled\",null),e([o({type:Boolean,readOnly:!0})],u.prototype,\"updating\",null),e([o({readOnly:!0})],u.prototype,\"updatingProgress\",null),e([o()],u.prototype,\"updateSuspended\",null),e([o()],u.prototype,\"visible\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentScale\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentTimeExtent\",null),u=e([a(\"esri.views.layers.LayerView\")],u);const y=u;export{y as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Logger.js\";import{isAbortError as s}from\"../../core/promiseUtils.js\";import{on as o}from\"../../core/reactiveUtils.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import\"../../core/Error.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";const i=i=>{let a=class extends i{initialize(){this.addHandles(o((()=>this.layer),\"refresh\",(r=>{this.doRefresh(r.dataChanged).catch((r=>{s(r)||e.getLogger(this).error(r)}))})),\"RefreshableLayerView\")}};return a=r([t(\"esri.views.layers.RefreshableLayerView\")],a),a};export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{getFeatureEditFields as e,fixFields as l}from\"../../../layers/support/fieldUtils.js\";async function n(n,p=n.popupTemplate){if(null==p)return[];const u=await p.getRequiredFields(n.fieldsIndex),{lastEditInfoEnabled:t}=p,{objectIdField:d,typeIdField:s,globalIdField:i,relationships:a}=n;if(u.includes(\"*\"))return[\"*\"];const o=t?e(n):[],f=l(n.fieldsIndex,[...u,...o]);return s&&f.push(s),f&&d&&n.fieldsIndex?.has(d)&&!f.includes(d)&&f.push(d),f&&i&&n.fieldsIndex?.has(i)&&!f.includes(i)&&f.push(i),a&&a.forEach((e=>{const{keyField:l}=e;f&&l&&n.fieldsIndex?.has(l)&&!f.includes(l)&&f.push(l)})),f}function p(e,l){return e.popupTemplate?e.popupTemplate:null!=l&&l.defaultPopupTemplateEnabled&&null!=e.defaultPopupTemplate?e.defaultPopupTemplate:null}function u(e,l){return null!=p(e,{defaultPopupTemplateEnabled:l})}export{p as getFetchPopupTemplate,n as getRequiredFields,u as hasPopupTemplate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import{getMetersPerUnitForSR as e}from\"../../core/unitUtils.js\";import{calculateTolerance as t}from\"../../renderers/support/clickToleranceUtils.js\";import n from\"../../geometry/Extent.js\";function r(t,r,i,a=new n){let o=0;if(\"2d\"===i.type)o=r*(i.resolution??0);else if(\"3d\"===i.type){const n=i.overlayPixelSizeInMapUnits(t),a=i.basemapSpatialReference;o=null==a||a.equals(i.spatialReference)?r*n:e(a)/e(i.spatialReference)}const s=t.x-o,l=t.y-o,m=t.x+o,p=t.y+o,{spatialReference:c}=i;return a.xmin=Math.min(s,m),a.ymin=Math.min(l,p),a.xmax=Math.max(s,m),a.ymax=Math.max(l,p),a.spatialReference=c,a}function i(e,n,i){const o=i.toMap(e);if(null==o)return!1;return r(o,t(),i,a).intersects(n)}const a=new n;export{r as createQueryGeometry,i as intersectsDrapedGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{Version as r}from\"../core/Version.js\";class s extends r{constructor(r,s){super(r,s,\"webmap\")}}export{s as Version};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{Version as e}from\"./Version.js\";function r(e){return null!=e&&\"object\"==typeof e&&\"declaredClass\"in e&&\"esri.WebMap\"===e.declaredClass}const n=new e(2,32);export{n as currentVersion,r as isWebMap};\n"],"names":["i","n","s","timeInfo","datesInUnknownTimezone","l","timeOffset","o","useViewTime","m","u","timeExtent","t","start","e","end","r","getTimezoneOffset","intersection","isEmpty","isAllTime","offset","value","unit","equals","xoffset","Math","max","abs","yoffset","_t$stops","stops","length","size","filter","type","map","maxSize","minSize","f","floor","renderer","pointerType","visualVariables","symbol","_n$uniqueValueInfos","uniqueValueInfos","forEach","classBreakInfos","internalFormat","RGBA","width","height","samplingMode","a","NEAREST","wrapMode","CLAMP_TO_EDGE","bandCount","outMin","outMax","minCutOff","maxCutOff","factor","useGamma","gamma","gammaCorrection","colormap","colormapOffset","stretchType","constructor","arguments","undefined","this","lij","_memoryUsed","_source","_symbolizerParameters","_bandIds","_interpolation","_dirty","_transformGrid","isRendereredSource","symbolizerRenderer","rawPixelData","opacity","source","_rasterTexture","symbolizerParameters","_objectSpread","bandIds","every","_this$_bandIds","interpolation","_getRasterTextureInterpolation","setSamplingMode","LINEAR","transformGrid","_transformGridTexture","bind","pixels","_updateRasterTexture","_updateColormapTexture","spacing","offsets","coefficients","c","_","g","RGBA32F","dataType","FLOAT","p","Float32Array","getUniforms","h","u_flipY","u_applyTransform","u_opacity","u_transformSpacing","u_transformGridSize","u_targetImageSize","u_srcImageSize","u_colormapOffset","u_colormapMaxIndex","d","u_bandCount","u_minOutput","u_maxOutput","u_minCutOff","u_maxCutOff","u_factor","u_useGamma","u_gamma","u_gammaCorrection","u_hillshadeType","hillshadeType","u_sinZcosAs","sinZcosAs","u_sinZsinAs","sinZsinAs","u_cosZs","cosZs","u_weights","weights","u_minValue","minValue","u_maxValue","maxValue","_colormapTexture","isBilinearWithStretchColorRamp","memoryUsage","descriptor","reduce","release","extractBands","join","pixelType","UNSIGNED_BYTE","getAsRGBAFloat","getAsRGBA","capabilities","textureFloatLinear","hasStretchTypeNone","_colormap","some","super","_rasterFieldPrefix","layer","tileInfo","fullExtent","loaded","_getFullExtent","_unused","_this$view","view","_get","hasTilingEffects","dynamicRangeAdjustment","datumTransformation","spatialReference","_unused2","supportsSpatialReference","serviceRasterInfo","_unused3","fetchPopupFeaturesAtLocation","popupEnabled","magdirValue","processedValue","identify","signal","_a$raster$rasterInfo","_a$raster","_this$fullExtent","hasStandardTime","getStandardTimeValue","ObjectId","raster","datasetFormat","rasterInfo","attributeTable","fields","features","find","_ref","name","toLowerCase","String","attributes","hasOwnProperty","geometry","clone","sourceLayer","push","prototype","readOnly","y","_isAlignedMapTile","initialize","increaseRasterJobHandlerUsage","addResolvingPromise","Promise","reject","basemapTerrain","tilingSchemeLocked","then","tilingScheme","includes","format","compatibleWith","toTileInfo","_updatingHandles","add","multidimensionalDefinition","multidimensionalSubset","rasterFunction","refresh","destroy","decreaseRasterJobHandlerUsage","_blankTile","document","createElement","getContext","clearRect","getImageData","imageFormatIsOpaque","hasMixedImageFormats","dataLevelRange","_this$tileInfo$lodAt","_this$layer$tileInfo$","lodAt","scale","lods","levelRangeFromScaleRange","_this$view$basemapTer","_this$view$basemapTer2","fetchTile","_canSymbolizeInWebGL","requestRawData","requestAsImageElement","noClip","HTMLImageElement","pixelBlock","applyRenderer","symbolizer","rendererJSON","generateWebGLParameters","_getSymbolizerOptions","_this$view$basemapTer3","resolution","isGCS","isGeographic","x","ensureSymbolizerParameters","JSON","stringify","createFetchPopupFeaturesQueryGeometry","emit","doRefresh","suspended","_t$lookup","_this$layer$rasterFun","lookup","colormapLut","indexedColormap","hasClipFunction","maxTextureSize","canRenderInWebGL","slicePlaneEnabled","supportsHeightUnitConversion","postscript","_validateHeightModelInfo","AbortController","addHandles","abort","_this$view$defaultsFr","defaultsFromMap","heightModelInfoReady","heightModelInfo","isOpaque","fullOpacity","visibleAtCurrentScale","minScale","maxScale","round","levelAtScale","displayLevelRange","minLevel","maxLevel","dataScaleRange","tilemapCache","effectiveMinLOD","effectiveMaxLOD","canResume","_this$layer","_this$parent","effectiveScaleRange","visible","parent","ready","visibleAtCurrentTimeExtent","performanceInfo","getUsedMemoryForLayerView","getTileUrl","_addTilingSchemeMatchPromise","_getTileInfoSupportError","_this$view2","_this$layer$tilemapCa","_getTileInfoCompatibilityError","_this$layer$tilemapCa2","state","viewingMode","error","levels","log","LN2","ceil","isUpdating","updating","EventedMixin","when","catch","id","title","getLogger","concat","_this$layer$opacity","_this$layer2","_this$parent$fullOpac","destroyed","suspendInfo","getSuspendInfo","legendEnabled","_this$layer3","_this$_updatingHandle","updatingProgress","updateSuspended","_this$layer4","_overrideIfSome","_this$layer5","visibilityTimeExtent","_this$layer6","_this$parent2","_this$parent3","_t$view","viewNotReady","layerNotLoaded","outsideScaleRange","outsideVisibilityTimeExtent","layerInvisible","Boolean","dataChanged","async","_n$fieldsIndex","_n$fieldsIndex2","popupTemplate","getRequiredFields","fieldsIndex","lastEditInfoEnabled","objectIdField","typeIdField","globalIdField","relationships","has","_n$fieldsIndex3","keyField","defaultPopupTemplateEnabled","defaultPopupTemplate","_i$resolution","overlayPixelSizeInMapUnits","basemapSpatialReference","xmin","min","ymin","xmax","ymax","toMap","intersects","declaredClass"],"sourceRoot":""}