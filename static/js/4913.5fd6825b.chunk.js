"use strict";(self.webpackChunksc_envimonitor=self.webpackChunksc_envimonitor||[]).push([[4913,6754],{79347:(t,e,n)=>{function r(t,e,n){n=n||2;var r,i,s,a,u,c,p,h=e&&e.length,d=h?e[0]*n:t.length,x=o(t,0,d,n,!0),y=[];if(!x||x.next===x.prev)return y;if(h&&(x=f(t,e,x,n)),t.length>80*n){r=s=t[0],i=a=t[1];for(var v=n;v<d;v+=n)(u=t[v])<r&&(r=u),(c=t[v+1])<i&&(i=c),u>s&&(s=u),c>a&&(a=c);p=0!==(p=Math.max(s-r,a-i))?1/p:0}return l(x,y,n,r,i,p),y}function o(t,e,n,r,o){var i,l;if(o===O(t,e,n,r)>0)for(i=e;i<n;i+=r)l=Z(i,t[i],t[i+1],l);else for(i=n-r;i>=e;i-=r)l=Z(i,t[i],t[i+1],l);if(l&&b(l,l.next)){var s=l.next;E(l),l=s}return l}function i(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!b(r,r.next)&&0!==w(r.prev,r,r.next))r=r.next;else{var o=r.prev;if(E(r),(r=e=o)===r.next)break;n=!0}}while(n||r!==e);return e}function l(t,e,n,r,o,f,p){if(t){!p&&f&&y(t,r,o,f);for(var h,d,x=t;t.prev!==t.next;)if(h=t.prev,d=t.next,f?a(t,r,o,f):s(t))e.push(h.i/n),e.push(t.i/n),e.push(d.i/n),E(t),t=d.next,x=d.next;else if((t=d)===x){p?1===p?l(t=u(i(t),e,n),e,n,r,o,f,2):2===p&&c(t,e,n,r,o,f):l(i(t),e,n,r,o,f,1);break}}}function s(t){var e=t.prev,n=t,r=t.next;if(w(e,n,r)>=0)return!1;for(var o=t.next.next;o!==t.prev;){if(m(e.x,e.y,n.x,n.y,r.x,r.y,o.x,o.y)&&w(o.prev,o,o.next)>=0)return!1;o=o.next}return!0}function a(t,e,n,r){var o=t.prev,i=t,l=t.next;if(w(o,i,l)>=0)return!1;for(var s=o.x<i.x?o.x<l.x?o.x:l.x:i.x<l.x?i.x:l.x,a=o.y<i.y?o.y<l.y?o.y:l.y:i.y<l.y?i.y:l.y,u=o.x>i.x?o.x>l.x?o.x:l.x:i.x>l.x?i.x:l.x,c=o.y>i.y?o.y>l.y?o.y:l.y:i.y>l.y?i.y:l.y,f=v(s,a,e,n,r),p=v(u,c,e,n,r),h=t.prevZ,d=t.nextZ;h&&h.z>=f&&d&&d.z<=p;){if(h!==t.prev&&h!==t.next&&m(o.x,o.y,i.x,i.y,l.x,l.y,h.x,h.y)&&w(h.prev,h,h.next)>=0)return!1;if(h=h.prevZ,d!==t.prev&&d!==t.next&&m(o.x,o.y,i.x,i.y,l.x,l.y,d.x,d.y)&&w(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(;h&&h.z>=f;){if(h!==t.prev&&h!==t.next&&m(o.x,o.y,i.x,i.y,l.x,l.y,h.x,h.y)&&w(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;d&&d.z<=p;){if(d!==t.prev&&d!==t.next&&m(o.x,o.y,i.x,i.y,l.x,l.y,d.x,d.y)&&w(d.prev,d,d.next)>=0)return!1;d=d.nextZ}return!0}function u(t,e,n){var r=t;do{var o=r.prev,l=r.next.next;!b(o,l)&&A(o,r,r.next,l)&&M(o,l)&&M(l,o)&&(e.push(o.i/n),e.push(r.i/n),e.push(l.i/n),E(r),E(r.next),r=t=l),r=r.next}while(r!==t);return i(r)}function c(t,e,n,r,o,s){var a=t;do{for(var u=a.next.next;u!==a.prev;){if(a.i!==u.i&&T(a,u)){var c=R(a,u);return a=i(a,a.next),c=i(c,c.next),l(a,e,n,r,o,s),void l(c,e,n,r,o,s)}u=u.next}a=a.next}while(a!==t)}function f(t,e,n,r){var l,s,a,u=[];for(l=0,s=e.length;l<s;l++)(a=o(t,e[l]*r,l<s-1?e[l+1]*r:t.length,r,!1))===a.next&&(a.steiner=!0),u.push(g(a));for(u.sort(p),l=0;l<u.length;l++)n=i(n=d(u[l],n),n.next);return n}function p(t,e){return t.x-e.x}function h(t){if(t.next.prev===t)return t;let e=t;for(;;){const n=e.next;if(n.prev===e||n===e||n===t)break;e=n}return e}function d(t,e){var n=function(t,e){var n,r=e,o=t.x,i=t.y,l=-1/0;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var s=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=o&&s>l){if(l=s,s===o){if(i===r.y)return r;if(i===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(o===l)return n;var a,u=n,c=n.x,f=n.y,p=1/0;r=n;do{o>=r.x&&r.x>=c&&o!==r.x&&m(i<f?o:l,i,c,f,i<f?l:o,i,r.x,r.y)&&(a=Math.abs(i-r.y)/(o-r.x),M(r,t)&&(a<p||a===p&&(r.x>n.x||r.x===n.x&&x(n,r)))&&(n=r,p=a)),r=r.next}while(r!==u);return n}(t,e);if(!n)return e;var r=R(n,t),o=i(n,n.next);let l=h(r);return i(l,l.next),o=h(o),h(e===n?o:e)}function x(t,e){return w(t.prev,t,e.prev)<0&&w(e.next,t,t.next)<0}function y(t,e,n,r){var o=t;do{null===o.z&&(o.z=v(o.x,o.y,e,n,r)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next}while(o!==t);o.prevZ.nextZ=null,o.prevZ=null,function(t){var e,n,r,o,i,l,s,a,u=1;do{for(n=t,t=null,i=null,l=0;n;){for(l++,r=n,s=0,e=0;e<u&&(s++,r=r.nextZ);e++);for(a=u;s>0||a>0&&r;)0!==s&&(0===a||!r||n.z<=r.z)?(o=n,n=n.nextZ,s--):(o=r,r=r.nextZ,a--),i?i.nextZ=o:t=o,o.prevZ=i,i=o;n=r}i.nextZ=null,u*=2}while(l>1)}(o)}function v(t,e,n,r,o){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*o)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*o)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function g(t){var e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function m(t,e,n,r,o,i,l,s){return(o-l)*(e-s)-(t-l)*(i-s)>=0&&(t-l)*(r-s)-(n-l)*(e-s)>=0&&(n-l)*(i-s)-(o-l)*(r-s)>=0}function T(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&A(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&(M(t,e)&&M(e,t)&&function(t,e){var n=t,r=!1,o=(t.x+e.x)/2,i=(t.y+e.y)/2;do{n.y>i!=n.next.y>i&&n.next.y!==n.y&&o<(n.next.x-n.x)*(i-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)&&(w(t.prev,t,e.prev)||w(t,e.prev,e))||b(t,e)&&w(t.prev,t,t.next)>0&&w(e.prev,e,e.next)>0)}function w(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function b(t,e){return t.x===e.x&&t.y===e.y}function A(t,e,n,r){var o=C(w(t,e,n)),i=C(w(t,e,r)),l=C(w(n,r,t)),s=C(w(n,r,e));return o!==i&&l!==s||!(0!==o||!_(t,n,e))||!(0!==i||!_(t,r,e))||!(0!==l||!_(n,t,r))||!(0!==s||!_(n,e,r))}function _(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function C(t){return t>0?1:t<0?-1:0}function M(t,e){return w(t.prev,t,t.next)<0?w(t,e,t.next)>=0&&w(t,t.prev,e)>=0:w(t,e,t.prev)<0||w(t,t.next,e)<0}function R(t,e){var n=new N(t.i,t.x,t.y),r=new N(e.i,e.x,e.y),o=t.next,i=e.prev;return t.next=e,e.prev=t,n.next=o,o.prev=n,r.next=n,n.prev=r,i.next=r,r.prev=i,r}function Z(t,e,n,r){var o=new N(t,e,n);return r?(o.next=r.next,o.prev=r,r.next.prev=o,r.next=o):(o.prev=o,o.next=o),o}function E(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function N(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function O(t,e,n,r){for(var o=0,i=e,l=n-r;i<n;i+=r)o+=(t[l]-t[i])*(t[i+1]+t[l+1]),l=i;return o}n.d(e,{e:()=>r}),r.deviation=function(t,e,n,r){var o=e&&e.length,i=o?e[0]*n:t.length,l=Math.abs(O(t,0,i,n));if(o)for(var s=0,a=e.length;s<a;s++){var u=e[s]*n,c=s<a-1?e[s+1]*n:t.length;l-=Math.abs(O(t,u,c,n))}var f=0;for(s=0;s<r.length;s+=3){var p=r[s]*n,h=r[s+1]*n,d=r[s+2]*n;f+=Math.abs((t[p]-t[d])*(t[h+1]-t[p+1])-(t[p]-t[h])*(t[d+1]-t[p+1]))}return 0===l&&0===f?0:Math.abs((f-l)/l)},r.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,o=0;o<t.length;o++){for(var i=0;i<t[o].length;i++)for(var l=0;l<e;l++)n.vertices.push(t[o][i][l]);o>0&&(r+=t[o-1].length,n.holes.push(r))}return n}},6754:(t,e,n)=>{n.d(e,{a:()=>o,b:()=>a,n:()=>l,s:()=>s,t:()=>i});n(93169);var r=n(32718);function o(t,e,n){i(t.typedBuffer,e.typedBuffer,n,t.typedBufferStride,e.typedBufferStride)}function i(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r;if(t.length/r!=e.length/o)return;const i=t.length/r,l=n[0],s=n[1],a=n[2],u=n[3],c=n[4],f=n[5],p=n[6],h=n[7],d=n[8];let x=0,y=0;for(let v=0;v<i;v++){const n=e[x],i=e[x+1],v=e[x+2],g=e[x+3];t[y]=l*n+u*i+p*v,t[y+1]=s*n+c*i+h*v,t[y+2]=a*n+f*i+d*v,t[y+3]=g,x+=o,y+=r}}function l(t,e){const n=Math.min(t.count,e.count),r=t.typedBuffer,o=t.typedBufferStride,i=e.typedBuffer,l=e.typedBufferStride;for(let s=0;s<n;s++){const t=s*o,e=s*l,n=i[e],a=i[e+1],u=i[e+2],c=n*n+a*a+u*u;if(c>0){const e=1/Math.sqrt(c);r[t]=e*n,r[t+1]=e*a,r[t+2]=e*u}}}function s(t,e,n){a(t.typedBuffer,e,n,t.typedBufferStride)}function a(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4;const o=Math.min(t.length/r,e.count),i=e.typedBuffer,l=e.typedBufferStride;let s=0,a=0;for(let u=0;u<o;u++)t[a]=n*i[s],t[a+1]=n*i[s+1],t[a+2]=n*i[s+2],t[a+3]=n*i[s+3],s+=l,a+=r}Object.freeze(Object.defineProperty({__proto__:null,normalize:l,scale:a,scaleView:s,transformMat3:i,transformMat3View:o,transformMat4:function(t,e,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:o;if(t.length/o!=e.length/i)return void r.Z.getLogger("esri.views.3d.support.buffer.math").error("source and destination buffers need to have the same number of elements");const l=t.length/o,s=n[0],a=n[1],u=n[2],c=n[3],f=n[4],p=n[5],h=n[6],d=n[7],x=n[8],y=n[9],v=n[10],g=n[11],m=n[12],T=n[13],w=n[14],b=n[15];let A=0,_=0;for(let r=0;r<l;r++){const n=e[A],r=e[A+1],l=e[A+2],C=e[A+3];t[_]=s*n+f*r+x*l+m*C,t[_+1]=a*n+p*r+y*l+T*C,t[_+2]=u*n+h*r+v*l+w*C,t[_+3]=c*n+d*r+g*l+b*C,A+=i,_+=o}},transformMat4View:function(t,e,n){if(t.count!==e.count)return;const r=t.count,o=n[0],i=n[1],l=n[2],s=n[3],a=n[4],u=n[5],c=n[6],f=n[7],p=n[8],h=n[9],d=n[10],x=n[11],y=n[12],v=n[13],g=n[14],m=n[15],T=t.typedBuffer,w=t.typedBufferStride,b=e.typedBuffer,A=e.typedBufferStride;for(let _=0;_<r;_++){const t=_*w,e=_*A,n=b[e],r=b[e+1],C=b[e+2],M=b[e+3];T[t]=o*n+a*r+p*C+y*M,T[t+1]=i*n+u*r+h*C+v*M,T[t+2]=l*n+c*r+d*C+g*M,T[t+3]=s*n+f*r+x*C+m*M}}},Symbol.toStringTag,{value:"Module"}))},64995:(t,e,n)=>{n.d(e,{Z:()=>y});var r,o=n(27366),i=n(46784),l=n(84652),s=n(32718),a=n(49861),u=n(89125),c=n(69912),f=n(25243),p=n(10891),h=n(53942),d=n(40726);let x=r=class extends i.wq{static from(t){return(0,f.TJ)(r,t)}constructor(t){super(t),this.faces=null,this.material=null,this.name=void 0,this.shading="source",this.trustSourceNormals=!1}castFaces(t){return(0,d.X)(t,Uint32Array,[Uint16Array],{loggerTag:".faces=",stride:3},s.Z.getLogger(this))}castMaterial(t){return(0,f.TJ)(t&&"object"==typeof t&&("metallic"in t||"roughness"in t||"metallicRoughnessTexture"in t)?h.Z:p.Z,t)}clone(){return new r({faces:(0,l.d9)(this.faces),shading:this.shading,material:(0,l.d9)(this.material),trustSourceNormals:this.trustSourceNormals,name:this.name})}cloneWithDeduplication(t,e){const n={faces:(0,l.d9)(this.faces),shading:this.shading,material:this.material?this.material.cloneWithDeduplication(t,e):null,trustSourceNormals:this.trustSourceNormals,name:this.name};return new r(n)}get memoryUsage(){let t=0;return null!=this.faces&&(t+=this.faces.byteLength),null!=this.material&&(t+=this.material.memoryUsage),t}};(0,o._)([(0,a.Cb)({json:{write:d.d}})],x.prototype,"faces",void 0),(0,o._)([(0,u.p)("faces")],x.prototype,"castFaces",null),(0,o._)([(0,a.Cb)({type:p.Z,json:{write:!0}})],x.prototype,"material",void 0),(0,o._)([(0,u.p)("material")],x.prototype,"castMaterial",null),(0,o._)([(0,a.Cb)({json:{write:!0}})],x.prototype,"name",void 0),(0,o._)([(0,a.Cb)({type:String,json:{write:!0}})],x.prototype,"shading",void 0),(0,o._)([(0,a.Cb)({type:Boolean})],x.prototype,"trustSourceNormals",void 0),x=r=(0,o._)([(0,c.j)("esri.geometry.support.MeshComponent")],x);const y=x},10891:(t,e,n)=>{n.d(e,{Z:()=>p});var r,o=n(27366),i=n(51995),l=n(46784),s=n(49861),a=(n(93169),n(32718),n(84936),n(69912)),u=n(79694),c=n(50565);let f=r=class extends l.wq{constructor(t){super(t),this.color=null,this.colorTexture=null,this.colorTextureTransform=null,this.normalTexture=void 0,this.normalTextureTransform=void 0,this.alphaMode="auto",this.alphaCutoff=.5,this.doubleSided=!0}clone(){return this.cloneWithDeduplication(null,new Map)}cloneWithDeduplication(t,e){const n=null!=t?t.get(this):null;if(n)return n;const o=new r(this.clonePropertiesWithDeduplication(e));return null!=t&&t.set(this,o),o}clonePropertiesWithDeduplication(t){var e,n,r,o;return{color:null!=this.color?this.color.clone():null,colorTexture:null===(e=this.colorTexture)||void 0===e?void 0:e.cloneWithDeduplication(t),normalTexture:null===(n=this.normalTexture)||void 0===n?void 0:n.cloneWithDeduplication(t),alphaMode:this.alphaMode,alphaCutoff:this.alphaCutoff,doubleSided:this.doubleSided,colorTextureTransform:null===(r=this.colorTextureTransform)||void 0===r?void 0:r.clone(),normalTextureTransform:null===(o=this.normalTextureTransform)||void 0===o?void 0:o.clone()}}get memoryUsage(){return this.getMemoryUsage()}getMemoryUsage(){let t=0;return t+=null!=this.color?16:0,null!=this.colorTexture&&(t+=this.colorTexture.memoryUsage),t+=null!=this.colorTextureTransform?20:0,null!=this.normalTexture&&(t+=this.normalTexture.memoryUsage),t+=null!=this.normalTextureTransform?20:0,t}};(0,o._)([(0,s.Cb)({type:i.Z,json:{write:!0}})],f.prototype,"color",void 0),(0,o._)([(0,s.Cb)({type:u.Z,json:{write:!0}})],f.prototype,"colorTexture",void 0),(0,o._)([(0,s.Cb)({type:c.Z,json:{write:!0}})],f.prototype,"colorTextureTransform",void 0),(0,o._)([(0,s.Cb)({type:u.Z,json:{write:!0}})],f.prototype,"normalTexture",void 0),(0,o._)([(0,s.Cb)({type:c.Z,json:{write:!0}})],f.prototype,"normalTextureTransform",void 0),(0,o._)([(0,s.Cb)({nonNullable:!0,json:{write:!0}})],f.prototype,"alphaMode",void 0),(0,o._)([(0,s.Cb)({nonNullable:!0,json:{write:!0}})],f.prototype,"alphaCutoff",void 0),(0,o._)([(0,s.Cb)({nonNullable:!0,json:{write:!0}})],f.prototype,"doubleSided",void 0),f=r=(0,o._)([(0,a.j)("esri.geometry.support.MeshMaterial")],f);const p=f},53942:(t,e,n)=>{n.d(e,{Z:()=>h});var r,o=n(9236),i=n(27366),l=n(51995),s=n(49861),a=(n(93169),n(32718),n(84936),n(69912)),u=n(10891),c=n(79694),f=n(50565);let p=r=class extends u.Z{constructor(t){super(t),this.emissiveColor=null,this.emissiveTexture=null,this.emissiveTextureTransform=void 0,this.occlusionTexture=null,this.occlusionTextureTransform=void 0,this.metallic=1,this.roughness=1,this.metallicRoughnessTexture=null,this.metallicRoughnessTextureTransform=void 0}clone(){return this.cloneWithDeduplication(null,new Map)}cloneWithDeduplication(t,e){const n=null!=t?t.get(this):null;if(n)return n;const o=new r(this.clonePropertiesWithDeduplication(e));return null!=t&&t.set(this,o),o}getMemoryUsage(){let t=super.getMemoryUsage();return t+=null!=this.emissiveColor?16:0,null!=this.emissiveTexture&&(t+=this.emissiveTexture.memoryUsage),t+=null!=this.emissiveTextureTransform?20:0,null!=this.occlusionTexture&&(t+=this.occlusionTexture.memoryUsage),t+=null!=this.occlusionTextureTransform?20:0,null!=this.metallicRoughnessTexture&&(t+=this.metallicRoughnessTexture.memoryUsage),t+=null!=this.metallicRoughnessTextureTransform?20:0,t}clonePropertiesWithDeduplication(t){var e,n,r,i,l,s,a;return(0,o.Z)((0,o.Z)({},super.clonePropertiesWithDeduplication(t)),{},{emissiveColor:null===(e=this.emissiveColor)||void 0===e?void 0:e.clone(),emissiveTexture:null===(n=this.emissiveTexture)||void 0===n?void 0:n.cloneWithDeduplication(t),emissiveTextureTransform:null===(r=this.emissiveTextureTransform)||void 0===r?void 0:r.clone(),occlusionTexture:null===(i=this.occlusionTexture)||void 0===i?void 0:i.cloneWithDeduplication(t),occlusionTextureTransform:null===(l=this.occlusionTextureTransform)||void 0===l?void 0:l.clone(),metallic:this.metallic,roughness:this.roughness,metallicRoughnessTexture:null===(s=this.metallicRoughnessTexture)||void 0===s?void 0:s.cloneWithDeduplication(t),metallicRoughnessTextureTransform:null===(a=this.metallicRoughnessTextureTransform)||void 0===a?void 0:a.clone()})}};(0,i._)([(0,s.Cb)({type:l.Z,json:{write:!0}})],p.prototype,"emissiveColor",void 0),(0,i._)([(0,s.Cb)({type:c.Z,json:{write:!0}})],p.prototype,"emissiveTexture",void 0),(0,i._)([(0,s.Cb)({type:f.Z,json:{write:!0}})],p.prototype,"emissiveTextureTransform",void 0),(0,i._)([(0,s.Cb)({type:c.Z,json:{write:!0}})],p.prototype,"occlusionTexture",void 0),(0,i._)([(0,s.Cb)({type:f.Z,json:{write:!0}})],p.prototype,"occlusionTextureTransform",void 0),(0,i._)([(0,s.Cb)({type:Number,nonNullable:!0,json:{write:!0},range:{min:0,max:1}})],p.prototype,"metallic",void 0),(0,i._)([(0,s.Cb)({type:Number,nonNullable:!0,json:{write:!0},range:{min:0,max:1}})],p.prototype,"roughness",void 0),(0,i._)([(0,s.Cb)({type:c.Z,json:{write:!0}})],p.prototype,"metallicRoughnessTexture",void 0),(0,i._)([(0,s.Cb)({type:f.Z,json:{write:!0}})],p.prototype,"metallicRoughnessTextureTransform",void 0),p=r=(0,i._)([(0,a.j)("esri.geometry.support.MeshMaterialMetallicRoughness")],p);const h=p},79694:(t,e,n)=>{n.d(e,{Z:()=>m});var r,o=n(27366),i=(n(93169),n(51e3)),l=n(46784),s=n(49861),a=n(25243),u=(n(84936),n(38511)),c=n(69912),f=n(31201),p=n(53283);const h=new WeakMap;let d=0,x=r=class extends l.wq{constructor(t){super(t),this.wrap="repeat"}get url(){return this._get("url")||null}set url(t){this._set("url",t),t&&this._set("data",null)}get data(){return this._get("data")||null}set data(t){this._set("data",t),t&&this._set("url",null)}writeData(t,e,n,r){if(t instanceof HTMLImageElement){const o={type:"image-element",src:(0,p.t)(t.src,r),crossOrigin:t.crossOrigin};e[n]=o}else if(t instanceof HTMLCanvasElement){const r={type:"canvas-element",imageData:y(t.getContext("2d").getImageData(0,0,t.width,t.height))};e[n]=r}else if(t instanceof HTMLVideoElement){const o={type:"video-element",src:(0,p.t)(t.src,r),autoplay:t.autoplay,loop:t.loop,muted:t.muted,crossOrigin:t.crossOrigin,preload:t.preload};e[n]=o}else if(t instanceof ImageData){const r={type:"image-data",imageData:y(t)};e[n]=r}}readData(t){switch(t.type){case"image-element":{const e=new Image;return e.src=t.src,e.crossOrigin=t.crossOrigin,e}case"canvas-element":{const e=v(t.imageData),n=document.createElement("canvas");return n.width=e.width,n.height=e.height,n.getContext("2d").putImageData(e,0,0),n}case"image-data":return v(t.imageData);case"video-element":{const e=document.createElement("video");return e.src=t.src,e.crossOrigin=t.crossOrigin,e.autoplay=t.autoplay,e.loop=t.loop,e.muted=t.muted,e.preload=t.preload,e}default:return}}get transparent(){const{data:t,url:e}=this;return t instanceof HTMLCanvasElement?g(t.getContext("2d").getImageData(0,0,t.width,t.height)):t instanceof ImageData?g(t):!((null===e||void 0===e||!e.toLowerCase().endsWith(".png"))&&(null===e||void 0===e||!e.toLocaleLowerCase().startsWith("data:image/png;")))}set transparent(t){this._overrideIfSome("transparent",t)}get contentHash(){var t=this;const e="string"==typeof this.wrap?this.wrap:"object"==typeof this.wrap?"".concat(this.wrap.horizontal,"/").concat(this.wrap.vertical):"",n=function(){return"d:".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",",t:").concat(t.transparent,",w:").concat(e)};return null!=this.url?n(this.url):null!=this.data?this.data instanceof HTMLImageElement||this.data instanceof HTMLVideoElement?n(this.data.src):(h.has(this.data)||h.set(this.data,++d),n(h.get(this.data))):n()}get memoryUsage(){let t=0;if(t+=null!=this.url?this.url.length:0,null!=this.data){const e=this.data;"data"in e?t+=e.data.byteLength:e instanceof HTMLImageElement?t+=e.naturalWidth*e.naturalHeight*3:e instanceof HTMLCanvasElement&&(t+=e.width*e.height*3)}return t}clone(){const t={url:this.url,data:this.data,wrap:this._cloneWrap()};return new r(t)}cloneWithDeduplication(t){const e=t.get(this);if(e)return e;const n=this.clone();return t.set(this,n),n}_cloneWrap(){return"string"==typeof this.wrap?this.wrap:{horizontal:this.wrap.horizontal,vertical:this.wrap.vertical}}static from(t){return"string"==typeof t?new r({url:t}):t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof ImageData||t instanceof HTMLVideoElement?new r({data:t}):(0,a.TJ)(r,t)}};function y(t){let e="";for(let n=0;n<t.data.length;n++)e+=String.fromCharCode(t.data[n]);return{data:btoa(e),width:t.width,height:t.height}}function v(t){const e=atob(t.data),n=new Uint8ClampedArray(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return(0,i.Jl)(n,t.width,t.height)}function g(t){for(let e=3;e<t.data.length;e+=4)if(255!==t.data[e])return!0;return!1}(0,o._)([(0,s.Cb)({type:String,json:{write:p.w}})],x.prototype,"url",null),(0,o._)([(0,s.Cb)({json:{write:{overridePolicy(){return{enabled:!this.url}}}}}),(0,s.Cb)()],x.prototype,"data",null),(0,o._)([(0,f.c)("data")],x.prototype,"writeData",null),(0,o._)([(0,u.r)("data")],x.prototype,"readData",null),(0,o._)([(0,s.Cb)({type:Boolean,json:{write:{overridePolicy(){return{enabled:this._isOverridden("transparent")}}}}})],x.prototype,"transparent",null),(0,o._)([(0,s.Cb)({json:{write:!0}})],x.prototype,"wrap",void 0),(0,o._)([(0,s.Cb)({readOnly:!0})],x.prototype,"contentHash",null),x=r=(0,o._)([(0,c.j)("esri.geometry.support.MeshTexture")],x);const m=x},50565:(t,e,n)=>{n.d(e,{Z:()=>u});var r=n(27366),o=n(11582),i=n(46784),l=n(49861),s=(n(93169),n(32718),n(84936),n(69912));let a=class extends((0,o.J)(i.wq)){constructor(t){super(t),this.offset=[0,0],this.rotation=0,this.scale=[1,1]}};(0,r._)([(0,l.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],a.prototype,"offset",void 0),(0,r._)([(0,l.Cb)({type:Number,nonNullable:!0,json:{write:!0}})],a.prototype,"rotation",void 0),(0,r._)([(0,l.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],a.prototype,"scale",void 0),a=(0,r._)([(0,s.j)("esri.geometry.support.MeshTextureTransform")],a);const u=a},40726:(t,e,n)=>{function r(t,e,n,r){const{loggerTag:o,stride:i}=e;return t.length%i!=0?(r.error(o,"Invalid array length, expected a multiple of ".concat(i)),new n([])):t}function o(t,e,n,o,i){if(!t)return t;if(t instanceof e)return r(t,o,e,i);for(const l of n)if(t instanceof l)return r(new e(t),o,e,i);if(Array.isArray(t))return r(new e(t),o,e,i);{const r=n.map((t=>"'".concat(t.name,"'")));return i.error("Failed to set property, expected one of ".concat(r,", but got ").concat(t.constructor.name)),new e([])}}function i(t,e,n){e[n]=function(t){const e=new Array(t.length);for(let n=0;n<t.length;n++)e[n]=t[n];return e}(t)}n.d(e,{X:()=>o,d:()=>i})},35888:(t,e,n)=>{n.d(e,{d:()=>i});var r=n(16889),o=n(39406);function i(t,e,n){var i;const c=Array.isArray(t),f=c?t.length/e:t.byteLength/(4*e),p=c?t:new Uint32Array(t,0,f*e),h=null!==(i=null===n||void 0===n?void 0:n.minReduction)&&void 0!==i?i:0,d=(null===n||void 0===n?void 0:n.originalIndices)||null,x=d?d.length:0,y=(null===n||void 0===n?void 0:n.componentOffsets)||null;let v=0;if(y)for(let r=0;r<y.length-1;r++){const t=y[r+1]-y[r];t>v&&(v=t)}else v=f;const g=Math.floor(1.1*v)+1;(null==u||u.length<2*g)&&(u=new Uint32Array((0,r.Sf)(2*g)));for(let r=0;r<2*g;r++)u[r]=0;let m=0;const T=!!y&&!!d,w=T?x:f;let b=(0,o.$z)(f);const A=new Uint32Array(x),_=1.96;let C=0!==h?Math.ceil(4*_*_/(h*h)*h*(1-h)):w,M=1,R=y?y[1]:w;for(let r=0;r<w;r++){if(r===C){const t=1-m/r;if(t+_*Math.sqrt(t*(1-t)/r)<h)return null;C*=2}if(r===R){for(let t=0;t<2*g;t++)u[t]=0;if(d)for(let t=y[M-1];t<y[M];t++)A[t]=b[d[t]];R=y[++M]}const t=T?d[r]:r,n=t*e,o=a(p,n,e);let i=o%g,s=m;for(;0!==u[2*i+1];){if(u[2*i]===o){const t=u[2*i+1]-1;if(l(p,n,t*e,e)){s=b[t];break}}i++,i>=g&&(i-=g)}s===m&&(u[2*i]=o,u[2*i+1]=t+1,m++),b[t]=s}if(0!==h&&1-m/f<h)return null;if(T){for(let t=y[M-1];t<A.length;t++)A[t]=b[d[t]];b=(0,o.mi)(A)}const Z=c?new Array(m):new Uint32Array(m*e);m=0;for(let r=0;r<w;r++)b[r]===m&&(s(p,(T?d[r]:r)*e,Z,m*e,e),m++);if(d&&!T){const t=new Uint32Array(x);for(let e=0;e<t.length;e++)t[e]=b[d[e]];b=(0,o.mi)(t)}return{buffer:Array.isArray(Z)?Z:Z.buffer,indices:b,uniqueCount:m}}function l(t,e,n,r){for(let o=0;o<r;o++)if(t[e+o]!==t[n+o])return!1;return!0}function s(t,e,n,r,o){for(let i=0;i<o;i++)n[r+i]=t[e+i]}function a(t,e,n){let r=0;for(let o=0;o<n;o++)r=t[e+o]+r|0,r=r+(r<<11)+(r>>>2)|0;return r>>>0}let u=null},11700:(t,e,n)=>{n.d(e,{$s:()=>R,Gi:()=>g,Iz:()=>T,M2:()=>N,MO:()=>O,Ot:()=>M,To:()=>A,VS:()=>C,XO:()=>b,Yk:()=>w,pn:()=>m,w9:()=>_,wi:()=>E});var r=n(16889),o=n(29303),i=n(21389),l=n(29134),s=n(7025),a=n(32035),u=n(12400),c=n(37998),f=n(50628),p=n(22186),h=n(92975),d=n(81753),x=n(25158),y=n(11186),v=n(6754);const g="Projection may be possible after calling projection.load().";function m(t,e,n,r){t.error("Failed to project from (wkid:".concat(e.wkid,") to (wkid:").concat(n.wkid,").").concat(r?" ":"").concat(r))}function T(t,e,n,r,o,i){return P(S.TO_PCPF,x.ct.fromTypedArray(t),O.NORMAL,x.fP.fromTypedArray(e),n,x.fP.fromTypedArray(r),o,x.ct.fromTypedArray(i))?i:null}function w(t,e,n,r,o,i){return P(S.FROM_PCPF,x.ct.fromTypedArray(t),O.NORMAL,x.fP.fromTypedArray(e),n,x.fP.fromTypedArray(r),o,x.ct.fromTypedArray(i))?i:null}function b(t,e,n,r){return(0,f.projectBuffer)(t,e,0,n,r,0)?n:null}function A(t,e,n,r){return(0,f.projectBuffer)(t,e,0,n,r,0)?n:null}function _(t,e,n){return(0,o.XL)(B,n),(0,y.b)(e,t,B),(0,r.oc)(B)&&(0,y.n)(e,e),e}function C(t,e,n){return(0,o.xO)(B,n),(0,v.t)(e,t,B),(0,r.oc)(B)&&(0,y.n)(e,e,4),e}function M(t,e,n,o){const i=e===O.NORMAL;return Z(t,e,n,((t,e)=>{const n=Math.cos((0,r.Vl)(t));e[0]=i?n:1/n,e[1]=1}),o)}function R(t,e,n,r){const o=e===O.NORMAL;return Z(t,e,n,((t,e)=>{const n=Math.cosh(-t/p.sv.radius);e[0]=1,e[1]=o?n:1/n}),r)}function Z(t,e,n,r,o){const i=e===O.NORMAL?3:4,l=[0,0];for(let s=0,a=1;s<t.length;s+=i,a+=3){r(n[a],l);const e=t[s]*l[0],u=t[s+1]*l[1],c=t[s+2],f=1/Math.sqrt(e*e+u*u+c*c);o[s]=e*f,o[s+1]=u*f,o[s+2]=c*f,4===i&&(o[s+3]=t[s+3])}return o}function E(t,e,n,r,o,i){if(!P(S.TO_PCPF,x.ct.fromTypedArray(t,4*Float32Array.BYTES_PER_ELEMENT),O.TANGENT,x.fP.fromTypedArray(e),n,x.fP.fromTypedArray(r),o,x.ct.fromTypedArray(i,4*Float32Array.BYTES_PER_ELEMENT)))return null;for(let l=3;l<t.length;l+=4)i[l]=t[l];return i}function N(t,e,n,r,o,i){if(!P(S.FROM_PCPF,x.ct.fromTypedArray(t,16),O.TANGENT,x.fP.fromTypedArray(e),n,x.fP.fromTypedArray(r),o,x.ct.fromTypedArray(i,16)))return null;for(let l=3;l<t.length;l+=4)i[l]=t[l];return i}var O,S,U;function j(t,e,n,r,i){switch((0,c.B)(r,n,F,r),t===S.FROM_PCPF&&(0,l.U_)(F,F),e){case O.NORMAL:return(0,o.XL)(i,F);case O.TANGENT:return(0,o.xO)(i,F)}}function P(t,e,n,r,o,i,l,s){if(!e)return;const u=r.count;if(function(t){return t.isWGS84||(0,h.yW)(t)||(0,h.BZ)(t)||(0,h.V2)(t)}(o))for(let c=0;c<u;c++)i.getVec(c,L),e.getVec(c,D),(0,a.q)(D,D,j(t,n,L,l,B)),s.setVec(c,D);else for(let c=0;c<u;c++){i.getVec(c,L),e.getVec(c,D);const o=(0,d.mZ)(r.get(c,1));let u=Math.cos(o);n===O.TANGENT!=(t===S.TO_PCPF)&&(u=1/u),j(t,n,L,l,B),t===S.TO_PCPF?(B[0]*=u,B[1]*=u,B[2]*=u,B[3]*=u,B[4]*=u,B[5]*=u):(B[0]*=u,B[3]*=u,B[6]*=u,B[1]*=u,B[4]*=u,B[7]*=u),(0,a.q)(D,D,B),(0,a.n)(D,D),s.setVec(c,D)}return s}(U=O||(O={}))[U.NORMAL=0]="NORMAL",U[U.TANGENT=1]="TANGENT",function(t){t[t.TO_PCPF=0]="TO_PCPF",t[t.FROM_PCPF=1]="FROM_PCPF"}(S||(S={}));const L=(0,u.Ue)(),D=(0,u.Ue)(),F=(0,s.Ue)(),B=(0,i.Ue)()},66149:(t,e,n)=>{n.d(e,{qk:()=>w,ur:()=>R,x1:()=>T});var r=n(32718),o=n(16889),i=n(68860),l=n(29303),s=n(21389),a=n(29134),u=n(7025),c=n(32035),f=n(12400),p=n(29691),h=n(37998),d=n(68859),x=n(69048),y=n(92975),v=n(11186),g=n(11700);const m=()=>r.Z.getLogger("esri.geometry.support.meshUtils.vertexSpaceConversion");function T(t,e,n){let{vertexSpace:r,spatialReference:o}=n;if("georeferenced"===r.type){const n=t;if(!(0,d.K)(e,n,o))return!1;const{origin:i}=r;return(0,c.d)(t,n,i),!0}const i=(0,p.rS)(o),l=t;if(!(0,d.K)(e,l,i))return!1;const{origin:s}=r,u=S;if(!(0,h.B)(o,s,u,i))return!1;const f=(0,a.U_)(S,u);return null!=f&&((0,c.t)(t,l,f),!0)}function w(t,e,n){const{vertexSpace:r,transform:o,vertexAttributes:i}=t,s=(0,x.zZ)(r)?o:null,f=C(t.spatialReference,n,U.SOURCE_AND_TARGET);if((0,x.vI)(r,e)&&(!s||(0,a.I6)(s.localMatrix,u.Wd))&&M(f)){const{position:t,normal:e,tangent:r}=i,o=null===n||void 0===n?void 0:n.allowBufferReuse;return{position:o?t:t.slice(),normal:o?e:null===e||void 0===e?void 0:e.slice(),tangent:o?r:null===r||void 0===r?void 0:r.slice()}}switch(t.vertexSpace.type){case"local":return"local"===e.type?function(t,e,n,r){let{vertexAttributes:o,spatialReference:i,transform:l}=t,{origin:s}=e;const u=b(i,r);if(!(0,h.B)(i,s,Z,u))return(0,g.pn)(m(),i,u),null;if(l&&(0,a.Jp)(Z,Z,l.localMatrix),!(0,h.B)(i,n,E,u))return(0,g.pn)(m(),u,i),null;(0,a.U_)(E,E);const c=(0,a.Jp)(Z,E,Z);return _(c,i,r,U.SOURCE_AND_TARGET),A(o,c)}(t,t.vertexSpace,e.origin,n):function(t,e,n,r){let{spatialReference:o,vertexAttributes:i,transform:l}=t,{origin:s}=e;const u=b(o,r);if(!(0,h.B)(o,s,Z,u))return(0,g.pn)(m(),o,u),null;l&&(0,a.Jp)(Z,Z,l.localMatrix),_(Z,o,r,U.SOURCE);const f=new Float64Array(i.position.length),p=function(t,e,n,r,o){(0,v.t)(r,t,e);const i=new Float64Array(t.length);return(0,g.To)(r,o,i,n)?i:((0,g.pn)(m(),o,n),null)}(i.position,Z,o,f,u);if(!p)return null;const d=function(t,e,n,r,o,i){if(null==o)return null;const l=new Float32Array(o.length);return(0,g.w9)(o,l,i),(0,g.Yk)(l,t,e,n,r,l)?l:((0,g.pn)(m(),r,e),null)}(p,o,f,u,i.normal,Z);if(i.normal&&!d)return null;const x=function(t,e,n,r,o,i){if(null==o)return null;const l=new Float32Array(o.length);return(0,g.VS)(o,l,i),(0,g.M2)(l,t,e,n,r,l)?l:((0,g.pn)(m(),r,e),null)}(p,o,f,u,i.tangent,Z);if(i.tangent&&!x)return null;if(n){const t=(0,c.v)(O,n);(0,v.a)(p,p,t)}return{position:p,normal:d,tangent:x}}(t,t.vertexSpace,e.origin,n);case"georeferenced":return"local"===e.type?function(t,e,n,r){let{vertexAttributes:o,spatialReference:i,transform:s}=t,{origin:u}=e;const c=b(i,r);if(!(0,h.B)(i,n,Z,c))return(0,g.pn)(m(),i,c),null;const f=1/C(i,r,U.TARGET);(0,a.bA)(Z,Z,[f,f,f]);const p=(0,a.U_)(E,Z),{position:d,normal:x,tangent:y}=function(t,e,n){if(!e)return t;if(!n){const{position:n,normal:r,tangent:o}=t;return{position:(0,v.a)(new Float64Array(n.length),n,e),tangent:o,normal:r}}const r=A(t,n.localMatrix);return(0,v.a)(r.position,r.position,e),r}(o,u,s),T=new Float64Array(d.length),w=function(t,e,n,r,o){const i=(0,g.XO)(t,e,r,o);if(!i)return(0,g.pn)(m(),e,o),null;const l=new Float64Array(i.length);return(0,v.t)(l,i,n),l}(d,i,p,T,c);if(!w)return null;const _=(0,l.XL)(N,p),M=function(t,e,n,r,o,i,l){if(null==t)return null;const s=null!==l&&void 0!==l?l:new Float32Array(t.length);return(0,g.Iz)(t,e,n,r,o,s)?((0,v.b)(s,s,i),s):((0,g.pn)(m(),n,o),null)}(x,d,i,T,c,_,x!==o.normal?x:void 0);if(!M&&x)return null;const R=function(t,e,n,r,o,i,l){if(null==t)return null;const s=null!==l&&void 0!==l?l:new Float32Array(t.length);return(0,g.wi)(t,e,n,r,o,s)?((0,v.b)(s,s,i,4),s):((0,g.pn)(m(),n,o),null)}(y,d,i,T,c,_,y!==o.tangent?y:void 0);return!R&&y?null:{position:w,normal:M,tangent:R}}(t,t.vertexSpace,e.origin,n):function(t,e,n,r){var o;let{vertexAttributes:i,transform:l,spatialReference:s}=t,{origin:f}=e;const p=C(s,r,U.SOURCE_AND_TARGET),h=f||!M(p)?(0,a.JG)(Z,null!==(o=null===l||void 0===l?void 0:l.localMatrix)&&void 0!==o?o:u.Wd):null;h&&_(h,s,r,U.SOURCE_AND_TARGET);const{position:d,normal:x,tangent:y}=h?A(i,h):i,g=null===r||void 0===r?void 0:r.allowBufferReuse,m=g?d:new Float64Array(d.length);let T=d;if(f&&(T=(0,v.a)(m,T,f)),n){const t=(0,c.v)(O,n);T=(0,v.a)(m,T,t)}return{position:T!==i.position||g?T:T.slice(),normal:x!==i.normal||g?x:null===x||void 0===x?void 0:x.slice(),tangent:y!==i.tangent||g?y:null===y||void 0===y?void 0:y.slice()}}(t,t.vertexSpace,e.origin,n)}}function b(t,e){return null!==e&&void 0!==e&&e.useEllipsoid&&(0,y.N$)(t)?p.wY:(0,p.rS)(t)}function A(t,e){const n=new Float64Array(t.position.length);(0,v.t)(n,t.position,e);const r=t.normal?new Float32Array(t.normal.length):null,o=t.tangent?new Float32Array(t.tangent.length):null;return r&&t.normal&&(0,g.w9)(t.normal,r,e),o&&t.tangent&&(0,g.VS)(t.tangent,o,e),{position:n,normal:r,tangent:o}}function _(t,e,n,r){const o=C(e,n,r);M(o)||(0,a.bA)(t,t,[o,o,o])}function C(t,e,n){const r=!!(n&U.SOURCE),o=!!(n&U.TARGET),i=null===e||void 0===e?void 0:e.sourceUnit,l=null===e||void 0===e?void 0:e.targetUnit;if(!i&&!l)return 1;let s=R(i,t);r||!i||M(s)||(m().warn("source unit conversion not supported"),s=1);let a=1/R(l,t);return o||!l||M(a)||(m().warn("target unit conversion not supported"),a=1),s*a}function M(t){return(0,o.Po)(t,1)}function R(t,e){if(null==t)return 1;const n=(0,i.r6)(e);return 1/(0,i.En)(n,"meters",t)}const Z=(0,u.Ue)(),E=(0,u.Ue)(),N=(0,s.Ue)(),O=(0,f.Ue)(),S=(0,u.Ue)();var U,j;(j=U||(U={}))[j.NONE=0]="NONE",j[j.SOURCE=1]="SOURCE",j[j.TARGET=2]="TARGET",j[j.SOURCE_AND_TARGET=3]="SOURCE_AND_TARGET"},26844:(t,e,n)=>{n.d(e,{i:()=>a});var r=n(16889),o=n(68860),i=n(32035),l=n(14320),s=n(55652);function a(t,e,n){const a=function(t,e,n,r){const l=(t=>!Array.isArray(t[0]))(e)?(t,n)=>e[3*t+n]:(t,n)=>e[t][n],a=r?(0,o.c9)(r)/(0,o._R)(r):1;return(0,s.zu)(t,((t,e)=>(0,i.i)(t,l(e,0)*a,l(e,1)*a,l(e,2))),n)}(u,t,e,n)?(0,s.st)(u):[0,0,1];return Math.abs(a[2])>Math.cos((0,r.Vl)(80))?l.R.Z:Math.abs(a[1])>Math.abs(a[0])?l.R.Y:l.R.X}const u=(0,s.Ue)()},91320:(t,e,n)=>{n.d(e,{Ni:()=>h,ZI:()=>r,bT:()=>p});var r,o,i=n(79347),l=n(14320),s=n(69662),a=n(86372),u=n(39406),c=n(26844),f=n(35888);function p(t){const e=h(t.rings,t.hasZ,r.CCW_IS_HOLE,t.spatialReference),n=new Array;let o=0,l=0;for(const r of e.polygons){const t=r.count,s=r.index,c=(0,a.Rq)(e.position,3*s,3*t),f=r.holeIndices.map((t=>t-s)),p=(0,u.mi)((0,i.e)(c,f,3));n.push({position:c,faces:p}),o+=c.length,l+=p.length}const s=function(t,e,n){if(1===t.length)return t[0];const r=(0,a.bg)(e),o=new Array(n);let i=0,l=0,s=0;for(const a of t){for(let t=0;t<a.position.length;t++)r[i++]=a.position[t];for(const t of a.faces)o[l++]=t+s;s=i/3}return{position:r,faces:(0,u.mi)(o)}}(n,o,l),c=Array.isArray(s.position)?(0,f.d)(s.position,3,{originalIndices:s.faces}):(0,f.d)(s.position.buffer,6,{originalIndices:s.faces});return s.position=(0,a.QZ)(new Float64Array(c.buffer)),s.faces=c.indices,s}function h(t,e,n,o){const i=t.length,l=new Array(i),s=new Array(i),u=new Array(i);let c=0;for(let r=0;r<i;++r)c+=t[r].length;let f=0,p=0,h=0;const y=(0,a.bg)(3*c);let v=0;for(let a=i-1;a>=0;a--){const c=t[a],g=n===r.CCW_IS_HOLE&&x(c,e,o);if(g&&1!==i)l[f++]=c;else{let t=c.length;for(let e=0;e<f;++e)t+=l[e].length;const n={index:v,pathLengths:new Array(f+1),count:t,holeIndices:new Array(f)};n.pathLengths[0]=c.length,c.length>0&&(u[h++]={index:v,count:c.length}),v=g?d(c,c.length-1,-1,y,v,c.length,e):d(c,0,1,y,v,c.length,e);for(let r=0;r<f;++r){const t=l[r];n.holeIndices[r]=v,n.pathLengths[r+1]=t.length,t.length>0&&(u[h++]={index:v,count:t.length}),v=d(t,0,1,y,v,t.length,e)}f=0,n.count>0&&(s[p++]=n)}}for(let r=0;r<f;++r){const t=l[r];t.length>0&&(u[h++]={index:v,count:t.length}),v=d(t,0,1,y,v,t.length,e)}return s.length=p,u.length=h,{position:y,polygons:s,outlines:u}}function d(t,e,n,r,o,i,l){o*=3;for(let s=0;s<i;++s){const i=t[e];r[o++]=i[0],r[o++]=i[1],r[o++]=l&&i[2]?i[2]:0,e+=n}return o/3}function x(t,e,n){if(!e)return!(0,s.bu)(t);const r=t.length-1;switch((0,c.i)(t,r,n)){case l.R.X:return!(0,s.bu)(t,l.R.Y,l.R.Z);case l.R.Y:return!(0,s.bu)(t,l.R.X,l.R.Z);case l.R.Z:return!(0,s.bu)(t,l.R.X,l.R.Y)}}(o=r||(r={}))[o.NONE=0]="NONE",o[o.CCW_IS_HOLE=1]="CCW_IS_HOLE"}}]);
//# sourceMappingURL=4913.5fd6825b.chunk.js.map