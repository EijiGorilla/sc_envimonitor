{"version":3,"file":"static/js/3275.896ea0ff.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/core/accessorSupport/originUtils.js","../node_modules/@arcgis/core/core/multiOriginJSONSupportUtils.js","../node_modules/@arcgis/core/layers/save/imageryUtils.js","../node_modules/@arcgis/core/layers/save/utils.js","../node_modules/@arcgis/core/portal/support/jsonContext.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{isMultiOriginJSONMixin as r}from\"../multiOriginJSONSupportUtils.js\";function i(i){i?.writtenProperties&&i.writtenProperties.forEach((({target:i,propName:t,newOrigin:e})=>{r(i)&&e&&i.originOf(t)!==e&&i.updateOrigin(t,e)}))}export{i as updateOrigins};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nfunction i(i){return i&&\"getAtOrigin\"in i&&\"originOf\"in i}export{i as isMultiOriginJSONMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{save as e,saveAs as t}from\"./utils.js\";import{getWGS84ExtentForItem as r,removeTypeKeyword as a,typeKeyword as i,toggleTypeKeyword as s}from\"../../portal/support/portalItemUtils.js\";const l=\"Image Service\",y=\"imagery-layer-save\",n=\"imagery-layer-save-as\",o=\"imagery-tile-layer-save\",m=\"imagery-tile-layer-save-as\";function c(e){if(\"imagery\"===e.type)return{isValid:!0};const{raster:t}=e,r=\"Function\"===t?.datasetFormat?t.primaryRasters?.rasters[0]:t;return{isValid:\"RasterTileServer\"===r?.datasetFormat&&(\"Raster\"===r.tileType||\"Map\"===r.tileType),errorMessage:\"imagery tile layer should be created from a tiled image service.\"}}function p(e){const t=e.layerJSON;return Promise.resolve(t&&Object.keys(t).length?t:null)}async function u(e,t){const{parsedUrl:l,title:y,fullExtent:n}=e;t.url=l.path,t.title||=y;try{t.extent=await r(n)}catch{t.extent=void 0}a(t,i.METADATA),s(t,i.TILED_IMAGERY,\"imagery-tile\"===e.type)}async function g(t,r){const a=\"imagery\"===t.type?y:o;return e({layer:t,itemType:l,validateLayer:c,createItemData:p,errorNamePrefix:a},r)}async function v(e,r,a){const i=\"imagery\"===e.type?n:m;return t({layer:e,itemType:l,validateLayer:c,createItemData:p,errorNamePrefix:i,newItem:r,setItemProperties:u},a)}export{g as save,v as saveAs};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{updateOrigins as t}from\"../../core/accessorSupport/originUtils.js\";import r from\"../../portal/Portal.js\";import a from\"../../portal/PortalItem.js\";import{createForItemWrite as o}from\"../../portal/support/jsonContext.js\";import{addTypeKeyword as i,typeKeyword as n}from\"../../portal/support/portalItemUtils.js\";import{evaluateWriteErrors as s}from\"../../webdoc/support/saveUtils.js\";function p(t,r,a){const o=a(t);if(!o.isValid)throw new e(`${r}:invalid-parameters`,o.errorMessage,{layer:t})}async function l(e){const{layer:t,errorNamePrefix:r,validateLayer:a}=e;await t.load(),p(t,r,a)}function m(e,t){return`Layer (title: ${e.title}, id: ${e.id}) of type '${e.declaredClass}' ${t}`}function c(t){const{item:r,errorNamePrefix:a,layer:o,validateItem:i}=t;if(u(t),i){const t=i(r);if(!t.isValid)throw new e(`${a}:invalid-parameters`,t.errorMessage,{layer:o})}}function u(t){const{item:r,itemType:a,additionalItemType:o,errorNamePrefix:i,layer:n}=t,s=[a];if(o&&s.push(o),!s.includes(r.type)){const t=s.map((e=>`'${e}'`)).join(\", \");throw new e(`${i}:portal-item-wrong-type`,`Portal item type should be one of: \"${t}\"`,{item:r,layer:n})}}function f(t){const{layer:r,errorNamePrefix:a}=t,{portalItem:o}=r;if(!o)throw new e(`${a}:portal-item-not-set`,m(r,\"requires the portalItem property to be set\"));if(!o.loaded)throw new e(`${a}:portal-item-not-loaded`,m(r,\"cannot be saved to a portal item that does not exist or is inaccessible\"));c({...t,item:o})}function d(e){const{newItem:t,itemType:o}=e;let i=a.from(t);return i.id&&(i=i.clone(),i.id=null),i.type??=o,i.portal??=r.getDefault(),c({...e,item:i}),i}function y(e){return o(e,\"portal-item\")}async function w(e,t,r){\"beforeSave\"in e&&\"function\"==typeof e.beforeSave&&await e.beforeSave();const a=e.write({},t);return await Promise.all(t.resources?.pendingOperations??[]),s(t,{errorName:\"layer-write:unsupported\"},r),a}function I(e){i(e,n.JSAPI),e.typeKeywords&&(e.typeKeywords=e.typeKeywords.filter(((e,t,r)=>r.indexOf(e)===t)))}async function v(e,t,r){const a=e.portal;await a.signIn(),await a.user.addItem({item:e,data:t,folder:r?.folder})}async function P(e,r){const{layer:a,createItemData:o,createJSONContext:i,setItemProperties:n,saveResources:s,supplementalUnsupportedErrors:p}=e;await l(e),f(e);const m=a.portalItem,c=i?i(m):y(m),u=await w(a,c,{...r,supplementalUnsupportedErrors:p}),d=await o({layer:a,layerJSON:u},m);return await(n?.(a,m,d)),I(m),await m.update({data:d}),t(c),await(s?.(m,c)),m}async function $(e,r){const{layer:a,createItemData:o,createJSONContext:i,setItemProperties:n,saveResources:s,supplementalUnsupportedErrors:p}=e;await l(e);const m=d(e),c=i?i(m):y(m),u=await w(a,c,{...r,supplementalUnsupportedErrors:p}),f=await o({layer:a,layerJSON:u},m);return await n(a,m,f),I(m),await v(m,f,r),a.portalItem=m,t(c),await(s?.(m,c)),m}export{v as addItem,m as createErrorMessage,y as createJSONContextForWrite,f as ensureItemConfig,p as ensureLayerConfig,w as getLayerJSON,d as getPortalItem,P as save,$ as saveAs,I as setCommonItemProperties};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{urlToObject as t}from\"../../core/urlUtils.js\";import r from\"../Portal.js\";function e(t,r){return{...l(t,r),readResourcePaths:[]}}function o(r,e,o){const i=t(r.itemUrl);return{...l(r,e),messages:[],writtenProperties:[],blockedRelativeUrls:[],verifyItemRelativeUrls:i?{rootPath:i.path,writtenUrls:[]}:null,resources:o?{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}:null}}function l(e,o){return{origin:o,url:t(e.itemUrl),portal:e.portal||r.getDefault(),portalItem:e}}export{e as createForItemRead,o as createForItemWrite};\n"],"names":["i","writtenProperties","forEach","_ref","target","propName","t","newOrigin","e","r","originOf","updateOrigin","l","y","n","o","m","c","_t$primaryRasters","type","isValid","raster","datasetFormat","primaryRasters","rasters","tileType","errorMessage","p","layerJSON","Promise","resolve","Object","keys","length","async","u","parsedUrl","title","fullExtent","url","path","extent","_unused","a","METADATA","s","TILED_IMAGERY","g","layer","itemType","validateLayer","createItemData","errorNamePrefix","v","newItem","setItemProperties","load","concat","id","declaredClass","item","validateItem","additionalItemType","push","includes","map","join","f","portalItem","loaded","_objectSpread","d","_i","_i$type","_i2","_i2$portal","from","clone","portal","getDefault","w","_t$resources$pendingO","_t$resources","beforeSave","write","all","resources","pendingOperations","errorName","I","JSAPI","typeKeywords","filter","indexOf","P","createJSONContext","saveResources","supplementalUnsupportedErrors","update","data","$","signIn","user","addItem","folder","readResourcePaths","itemUrl","messages","blockedRelativeUrls","verifyItemRelativeUrls","rootPath","writtenUrls","toAdd","toUpdate","toKeep","origin"],"sourceRoot":""}