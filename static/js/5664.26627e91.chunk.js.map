{"version":3,"file":"static/js/5664.26627e91.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/core/memoize.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/ParallelLineVisualElement.js","../node_modules/@arcgis/core/views/interactive/snapping/SnappingVisualizer.js","../node_modules/@arcgis/core/views/3d/interactive/SnappingVisualizer3D.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/RightAngleQuadVisualElement.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/VerticesVisualElement.js","../node_modules/@arcgis/core/views/3d/support/renderInfoUtils/point.js","../node_modules/@arcgis/core/views/interactive/snapping/SnappingContext.js","../node_modules/@arcgis/core/views/interactive/snapping/SnappingDragPipelineStep.js","../node_modules/@arcgis/core/views/interactive/snapping/SnappingOperation.js","../node_modules/@arcgis/core/views/interactive/snapping/hints/PointSnappingHint.js","../node_modules/@arcgis/core/views/support/automaticLengthMeasurementUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nfunction t(t){let r,e,i=[],u=!1;function f(...f){return u&&r===this&&n(f,i)||(e=t.apply(this,f),r=this,i=f,u=!0),e}return f}function n(t,n){if(t.length!==n.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==n[r])return!1;return!0}export{t as memoize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{watch as e}from\"../../../../core/reactiveUtils.js\";import{castScreenPointArray as t,createScreenPointArray as r}from\"../../../../core/screenUtils.js\";import{normalize as i,subtract as s,scale as o,set as a,add as c}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as n}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{p as d,c as h,n as l,d as m,g as u}from\"../../../../chunks/vec32.js\";import{create as p,fromValues as _}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{a as f,c as g}from\"../../../../chunks/vec42.js\";import{fromValues as b}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{makeDehydratedPoint as y}from\"../../../../layers/graphics/dehydratedPoint.js\";import{EngineVisualElement as j}from\"./EngineVisualElement.js\";import{drapedZ as D}from\"../../terrain/OverlayRenderer.js\";import{createPolylineGeometry as O}from\"../../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as w}from\"../../webgl-engine/lib/Material.js\";import{RenderGeometry as G}from\"../../webgl-engine/lib/RenderGeometry.js\";import{VertexAttribute as R}from\"../../webgl-engine/lib/VertexAttribute.js\";import{RibbonLineMaterial as x}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";class v extends j{constructor(e){super(e),this._location=p(),this._direction=_(1,0,0),this._width=1,this._offset=1,this._length=18,this._color=b(1,0,1,1),this._renderOccluded=w.OccludeAndTransparent,this.applyProperties(e)}createObject3DResourceFactory(e){return{view:e,createResources:e=>this._createObject3DResources(e),destroyResources:A,recreateGeometry:(e,t)=>this._recreateObject3DGeometry(e,t),cameraChanged:()=>this._updateGeometry()}}createDrapedResourceFactory(e){return{view:e,createResources:()=>this._createDrapedResources(),destroyResources:M,recreateGeometry:e=>this._recreateDrapedGeometry(e)}}get location(){return this._location}set location(e){d(this._location,e)||(h(this._location,e),this._updateGeometry())}get direction(){return this._direction}set direction(e){d(this._direction,e)||(h(this._direction,e),this._updateGeometry())}setDirectionFromPoints(e,t){l(this._direction,m(this._direction,t,e)),this._updateGeometry()}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this._updateMaterial())}get offset(){return this._offset}set offset(e){e!==this._offset&&(this._offset=e,this._updateGeometry())}get length(){return this._length}set length(e){e!==this._length&&(this._length=e,this._updateGeometry())}get color(){return this._color}set color(e){f(e,this._color)||(g(this._color,e),this._updateMaterial())}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial())}_createObject3DResources(e){const t=new x(this.materialParameters),r=new Array;return this._createObject3DGeometry(t,e,r),{material:t,geometries:r,forEach:e=>{e(t),r.forEach(e)}}}_recreateObject3DGeometry(e,t){e.geometries.length=0,this._createObject3DGeometry(e.material,t,e.geometries)}_createObject3DGeometry(e,t,r){const[i,s]=P(e);t.addGeometry(i),t.addGeometry(s),r.push(i),r.push(s),this._updateVerticesObject3D(t)}_createDrapedResources(){const t=new x(this.materialParameters),r=e((()=>this.view.state.contentPixelRatio),(()=>{this.drapedResources.recreateGeometry()}));return{material:t,geometries:this._createDrapedGeometry(t),pixelRatioHandle:r}}_recreateDrapedGeometry(e){e.geometries=this._createDrapedGeometry(e.material)}_createDrapedGeometry(e){const t=P(e);return this._updateVerticesDraped(t),t.map((e=>new G(e)))}_updateMaterial(){const{materialParameters:e}=this;this.object3dResources.resources?.material.setParameters(e),this.drapedResources.resources?.material.setParameters(e)}get materialParameters(){return{width:this._width,color:this._color,renderOccluded:this._renderOccluded,isDecoration:this.isDecoration}}_updateGeometry(){if(this.isDraped)this.drapedResources.recreateGeometry();else{const e=this.object3dResources.object;e&&this._updateVerticesObject3D(e)}}_updateVerticesObject3D(e){const t=this.view.state.camera;t.projectToScreen(this.location,U),u(I,this.location,this.direction),t.projectToScreen(I,E),i(E,s(E,E,U)),this._updateVertexAttributesObject3D(t,e,0,U,E,1),this._updateVertexAttributesObject3D(t,e,1,U,E,-1)}_updateVertexAttributesObject3D(e,r,i,s,o,a){const c=r.geometries[i],n=c.getMutableAttribute(R.POSITION)?.data;if(!n)return;const{start:d,end:h}=V(o,s,a,this.offset,this.width,this.length);e.unprojectFromScreen(t(d),I),n[0]=I[0],n[1]=I[1],n[2]=I[2],e.unprojectFromScreen(t(h),I),n[3]=I[0],n[4]=I[1],n[5]=I[2],r.geometryVertexAttributeUpdated(c,R.POSITION)}_updateVerticesDraped(e){const{view:{basemapTerrain:{overlayManager:t},state:{contentPixelRatio:r}}}=this,{location:i,width:s,length:o,offset:a}=this,c=N;c.spatialReference=t.renderer.spatialReference,c.x=i[0],c.y=i[1];const n=this.view.overlayPixelSizeInMapUnits(c)*r,d=s*n,h=o*n,l=a*n;this._updateVertexAttributesDraped(e[0],d,h,l,-1),this._updateVertexAttributesDraped(e[1],d,h,l,1)}_updateVertexAttributesDraped(e,t,r,i,s){const o=e.getMutableAttribute(R.POSITION)?.data;if(!o)return;const{location:a,direction:c}=this,{start:n,end:d}=V(c,a,s,i,t,r);o[0]=n[0],o[1]=n[1],o[2]=D,o[3]=d[0],o[4]=d[1],o[5]=D,e.invalidateBoundingInfo()}}function P(e){return[O(e,[p(),p()]),O(e,[p(),p()])]}function V(e,t,r,i,s,n){const d=o(S,a(S,e[1]*r,e[0]*-r),i+s/2),h=c(T,c(T,c(T,t,o(T,e,n/2)),d),d);return{start:h,end:c(F,h,o(F,e,-n))}}function A(e){e.geometries.length=0}function M(e){e.pixelRatioHandle.remove(),e.geometries=[]}const I=p(),S=n(),T=n(),F=n(),U=r(),E=r(),N=y(0,0,void 0,null);export{v as ParallelLineVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{handlesGroup as i}from\"../../../core/handleUtils.js\";import{IntersectionSnappingHint as n}from\"./hints/IntersectionSnappingHint.js\";import{LineSnappingHint as t}from\"./hints/LineSnappingHint.js\";import{ParallelSnappingHint as s}from\"./hints/ParallelSnappingHint.js\";import{PointSnappingHint as o}from\"./hints/PointSnappingHint.js\";import{RightAngleSnappingHint as e}from\"./hints/RightAngleSnappingHint.js\";class r{draw(r,p){const h=a(r),f=this.sortUniqueHints(h),u=[];for(const i of f)i instanceof n&&u.push(this.visualizeIntersectionPoint(i,p)),i instanceof t&&u.push(this.visualizeLine(i,p)),i instanceof s&&u.push(this.visualizeParallelSign(i,p)),i instanceof e&&u.push(this.visualizeRightAngleQuad(i,p)),i instanceof o&&u.push(this.visualizePoint(i,p));return i(u)}sortUniqueHints(i){return i}}function a(i){const n=[];for(const t of i){let i=!0;for(const s of n)if(t.equals(s)){i=!1;break}i&&n.push(t)}return n}export{r as SnappingVisualizer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport e from\"../../../Color.js\";import{multiplyOpacity as i}from\"../../../core/colorUtils.js\";import\"../../../core/has.js\";import{destroyHandle as n}from\"../../../core/handleUtils.js\";import{m as t}from\"../../../chunks/vec32.js\";import{create as r}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{projectVectorToVector as o}from\"../../../geometry/projection/projectVectorToVector.js\";import{onTheGroundElevationInfo as a,absoluteHeightElevationInfo as l}from\"../../../support/elevationInfoUtils.js\";import{vectorToRender as s}from\"./support/viewUtils.js\";import{ExtendedLineVisualElement as p,ExtensionType as c}from\"./visualElements/ExtendedLineVisualElement.js\";import{ParallelLineVisualElement as d}from\"./visualElements/ParallelLineVisualElement.js\";import{PointVisualElement as m}from\"./visualElements/PointVisualElement.js\";import{RightAngleQuadVisualElement as u}from\"./visualElements/RightAngleQuadVisualElement.js\";import{DrapedRenderGroup as f}from\"../layers/interfaces.js\";import{RenderOccludedFlag as g}from\"../webgl-engine/lib/Material.js\";import{toDehydratedPoint as v,isTarget as h,withSelfSnappingZ as E}from\"../../interactive/sketch/normalizedPoint.js\";import{defaults as C}from\"../../interactive/snapping/Settings.js\";import{SnappingDomain as w}from\"../../interactive/snapping/SnappingDomain.js\";import{LineSegmentHintType as j}from\"../../interactive/snapping/snappingUtils.js\";import{SnappingVisualizer as S}from\"../../interactive/snapping/SnappingVisualizer.js\";import{LineSnappingHint as O}from\"../../interactive/snapping/hints/LineSnappingHint.js\";class R extends S{sortUniqueHints(e){return e.sort(((e,i)=>(i instanceof O?i.length:0)-(e instanceof O?e.length:0)))}visualizeIntersectionPoint(e,i){const{spatialReference:t,view:r}=i,o=D(i);return n(new m({view:r,primitive:\"circle\",geometry:v(e.intersectionPoint,t),elevationInfo:e.isDraped?a:l,size:20,outlineSize:2,color:o.intersectionPointColor,outlineColor:o.intersectionPointOutlineColor,pixelSnappingEnabled:!1,isDecoration:!0,attached:!0}))}visualizePoint(e,i){const{view:t,spatialReference:r}=i,o=D(i),a=x(e.point,e.domain,i);return n(new m({view:t,primitive:\"circle\",geometry:v(a,r),elevationInfo:A(e),size:20,outlineSize:2,color:o.pointColor,outlineColor:o.pointOutlineColor,pixelSnappingEnabled:!1,isDecoration:!0,attached:!0}))}visualizeLine(e,i){const{view:t,spatialReference:r}=i,o=D(i),a=x(e.lineStart,e.domain,i),l=x(e.lineEnd,e.domain,i);return n(H(e.type,a,l,r,A(e),t,o,e.isDraped,e.fadeLeft,e.fadeRight))}visualizeParallelSign(e,i){const{view:r,spatialReference:o}=i,a=D(i),{isDraped:l}=e,s=A(e),p=x(e.lineStart,e.domain,i),c=x(e.lineEnd,e.domain,i),m=z(p,o,s,r,l),u=z(c,o,s,r,l),v=t(u,m,u,.5),h=new d({view:r,attached:!1,offset:C.parallelLineHintOffset,length:C.parallelLineHintLength,width:C.parallelLineHintWidth,color:a.parallelSignColor,location:v,renderOccluded:l?g.OccludeAndTransparent:g.Opaque,isDraped:l,renderGroup:f.SnappingHint,isDecoration:!0});return h.setDirectionFromPoints(m,v),h.attached=!0,n(h)}visualizeRightAngleQuad(e,i){const{view:t,spatialReference:r}=i,o=D(i),a=A(e),{isDraped:l}=e,s=x(e.previousVertex,e.domain,i),p=x(e.centerVertex,e.domain,i),c=x(e.nextVertex,e.domain,i),d=z(s,r,a,t,l),m=z(p,r,a,t,l),v=z(c,r,a,t,l);return n(new u({view:t,attached:!0,color:l?o.rightAngleColorDraped:o.rightAngleColor,renderOccluded:l?g.OccludeAndTransparent:g.Transparent,outlineRenderOccluded:l?g.OccludeAndTransparent:g.Opaque,outlineColor:o.rightAngleOutlineColor,outlineSize:C.rightAngleHintOutlineSize,size:C.rightAngleHintSize,isDraped:l,geometry:{previous:d,center:m,next:v},renderGroup:f.SnappingHint,isDecoration:!0}))}}function D(n){const{effectiveTheme:t}=n.view,r=e.toUnitRGBA(t.accentColor),o=[0,0,0,0];return{intersectionPointColor:o,intersectionPointOutlineColor:r,pointColor:o,pointOutlineColor:r,lineColor:r,lineOutlineColor:void 0,parallelSignColor:r,rightAngleColor:r,rightAngleColorDraped:e.toUnitRGBA(i(t.accentColor,.5)),rightAngleOutlineColor:r}}function x(e,i,{selfSnappingZ:n,view:t,spatialReference:r}){return i&w.SELF&&h(e)&&null!=n?E(e,n,t,r):e}function A(e){return e.isDraped?a:l}function H(e,i,n,t,r,o,a,l=!1,s=!0,d=!0){const m=z(i,t,r,o,l),u=z(n,t,r,o,l),v=new p({view:o,extensionType:c.FADED,start:m,end:u,isDraped:l,color:a.lineColor,renderOccluded:l?g.OccludeAndTransparent:g.Opaque,renderGroup:f.SnappingHint,isDecoration:!0});switch(e){case j.TARGET:v.width=C.lineHintWidthTarget,v.fadedExtensions={start:0,end:C.lineHintFadedExtensions};break;case j.REFERENCE_EXTENSION:v.width=C.lineHintWidthReference,v.fadedExtensions={start:0,end:0};break;case j.REFERENCE:v.width=C.lineHintWidthReference,v.fadedExtensions={start:s?C.lineHintFadedExtensions:0,end:d?C.lineHintFadedExtensions:0}}return v.attached=!0,v}function z(e,i,n,t,a){const l=r();if(a){const n=t.basemapTerrain.overlayManager.renderer.spatialReference;o(e,i,l,n)}else s(e,i,n,t,l);return l}export{R as SnappingVisualizer3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{watch as e}from\"../../../../core/reactiveUtils.js\";import{fromTranslation as t,scale as r}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as i}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{j as s,n as o,d as a,c as n,p as c,g as l}from\"../../../../chunks/vec32.js\";import{create as u,ZEROS as d}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{c as h}from\"../../../../chunks/vec42.js\";import{fromValues as m}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{sv3d as _}from\"../../../../geometry/support/vectorStacks.js\";import{makeDehydratedPoint as p}from\"../../../../layers/graphics/dehydratedPoint.js\";import{EngineVisualElement as g}from\"./EngineVisualElement.js\";import{drapedZ as f}from\"../../terrain/OverlayRenderer.js\";import{Attribute as b}from\"../../webgl-engine/lib/Attribute.js\";import{Geometry as M}from\"../../webgl-engine/lib/Geometry.js\";import{createPolylineGeometry as O}from\"../../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as j}from\"../../webgl-engine/lib/Material.js\";import{RenderGeometry as R}from\"../../webgl-engine/lib/RenderGeometry.js\";import{VertexAttribute as w}from\"../../webgl-engine/lib/VertexAttribute.js\";import{ColorMaterial as z}from\"../../webgl-engine/materials/ColorMaterial.js\";import{RibbonLineMaterial as y}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";class D extends g{constructor(e){super(e),this._maxSize=0,this._position=u(),this._up=u(),this._right=u(),this._renderOccluded=j.OccludeAndTransparent,this._color=m(1,0,0,1),this._outlineColor=m(0,0,0,1),this._outlineSize=0,this._size=32,this._outlineRenderOccluded=j.Opaque,this.applyProperties(e)}createObject3DResourceFactory(e){return{view:e,createResources:e=>this._createObject3DResources(e),destroyResources:()=>{},cameraChanged:()=>this._updateTransformObject3D()}}createDrapedResourceFactory(e){return{view:e,createResources:()=>this._createDrapedResources(),destroyResources:P}}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateQuadMaterial())}get color(){return this._color}set color(e){h(this._color,e),this._updateQuadMaterial()}get outlineColor(){return this._outlineColor}set outlineColor(e){h(this._outlineColor,e),this._updateOutlineMaterial()}get outlineSize(){return this._outlineSize}set outlineSize(e){const t=0===this._outlineSize!=(0===e);this._outlineSize=e,t?this.recreateGeometry():this._updateOutlineMaterial()}get size(){return this._size}set size(e){e!==this._size&&(this._size=e,this._updateTransform())}get outlineRenderOccluded(){return this._outlineRenderOccluded}set outlineRenderOccluded(e){this._outlineRenderOccluded=e,this._updateOutlineMaterial()}set geometry({previous:e,center:t,next:r}){this._maxSize=Math.min(s(t,e),s(t,r))/3,o(this._up,a(this._up,e,t)),o(this._right,a(this._right,r,t)),n(this._position,t),this.recreateGeometry()}_createObject3DResources(e){const t=new z(this._quadMaterialParameters),r=0===this._outlineSize?void 0:new y(this._outlineMaterialParameters);return this._createObject3DGeometries(e,t,r),{quadMaterial:t,outlineMaterial:r,forEach:e=>{e(t),r&&e(r)}}}_createObject3DGeometries(e,t,r){if(c(this._up,d)&&c(this._right,d))return;const i=this._createGeometries(t,r);for(const s of i)e.addGeometry(s);this._updateTransformObject3D(e)}_createDrapedResources(){const t=new z(this._quadMaterialParameters),r=0===this._outlineSize?void 0:new y(this._outlineMaterialParameters),i=this._createGeometries(t,r).map((e=>new R(e)));this._setTransformDraped(i);return{quadMaterial:t,outlineMaterial:r,geometries:i,pixelRatioHandle:e((()=>this.view.state.contentPixelRatio),(()=>{this.drapedResources.recreateGeometry()}))}}_createGeometries(e,t){const{up:r,right:i,corner:s}=this._getVertices(),o=v(r,i,s,e);if(!t)return[o];return[o,O(t,[r,s,i])]}_getVertices(){let e=this._up,t=this._right;const r=l(_.get(),e,t);return this.isDraped&&(e=n(_.get(),e),t=n(_.get(),t),e[2]=0,t[2]=0,r[2]=0),{up:e,right:t,corner:r}}_updateTransform(){this.isDraped?this.drapedResources.recreateGeometry():this._updateTransformObject3D()}_updateTransformObject3D(e=this.object3dResources.object){if(!e)return;const i=this.view.state.camera,s=this._size*i.computeScreenPixelSizeAt(this._position),o=Math.min(this._maxSize,s);t(x,this._position),r(x,x,[o,o,o]),e.transformation=x}_setTransformDraped(e){if(0===e.length)return;const{view:{basemapTerrain:{overlayManager:i},state:{contentPixelRatio:s}}}=this,{_position:o,_size:a}=this,c=n(_.get(),o);c[2]=f;const l=S;l.spatialReference=i.renderer.spatialReference,l.x=c[0],l.y=c[1];const u=a*(this.view.overlayPixelSizeInMapUnits(l)*s),d=Math.min(this._maxSize,u);t(x,c),r(x,x,[d,d,1]);for(const t of e)t.transformation=x}get _quadMaterialParameters(){return{color:this._color,forceTransparentMode:!0,writeDepth:!1,polygonOffset:!0,renderOccluded:this._renderOccluded,isDecoration:this.isDecoration}}_updateQuadMaterial(){this.object3dResources.resources?.quadMaterial.setParameters(this._quadMaterialParameters),this.drapedResources.resources?.quadMaterial.setParameters(this._quadMaterialParameters)}get _outlineMaterialParameters(){return{color:this._outlineColor,width:this._outlineSize,renderOccluded:this._outlineRenderOccluded,isDecoration:this.isDecoration}}_updateOutlineMaterial(){this.object3dResources.resources?.outlineMaterial?.setParameters(this._outlineMaterialParameters),this.drapedResources.resources?.outlineMaterial?.setParameters(this._outlineMaterialParameters)}}function P(e){e.pixelRatioHandle.remove(),e.geometries=[]}function v(e,t,r,i){return new M(i,[[w.POSITION,new b([0,0,0,...t,...e,...r],[0,1,2,1,2,3],3,!0)]])}const x=i(),S=p(0,0,void 0,null);export{D as RightAngleQuadVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{i as e}from\"../../../../chunks/vec32.js\";import{create as t}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{a as r,c as i}from\"../../../../chunks/vec42.js\";import{fromArray as s}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{Object3DVisualElement as a}from\"./Object3DVisualElement.js\";import{ElevationContext as l}from\"../../layers/graphics/ElevationContext.js\";import{geometryToRenderInfo as o}from\"../../support/renderInfoUtils/point.js\";import{CullFaceOptions as n}from\"../../webgl-engine/lib/basicInterfaces.js\";import{createSphereGeometry as c}from\"../../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as h}from\"../../webgl-engine/lib/Material.js\";import{ShadedColorMaterial as u}from\"../../webgl-engine/materials/ShadedColorMaterial.js\";class d extends a{constructor(e){super(e),this.view=null,this._renderOccluded=h.OccludeAndTransparent,this._vertices=null,this._spatialReference=null,this._color=s([1,127/255,0,1]),this._size=11,this._outlineColor=s([0,0,0,.5]),this._outlineSize=1,this._elevationInfo=null,this.applyProperties(e)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial(),this._updateOutlineMaterial())}get vertices(){return this._vertices}set vertices(e){this._vertices=e,this.recreateGeometry()}get spatialReference(){return this._spatialReference}set spatialReference(e){this._spatialReference=e,this.recreateGeometry()}get color(){return this._color}set color(e){r(e,this._color)||(i(this._color,e),this._updateMaterial())}get size(){return this._size}set size(e){e!==this._size&&(this._size=e,this._updateMaterial())}get outlineColor(){return this._outlineColor}set outlineColor(e){r(e,this._outlineColor)||(i(this._outlineColor,e),this._updateOutlineMaterial())}get outlineSize(){return this._outlineSize}set outlineSize(e){e!==this._outlineSize&&(this._outlineSize=e,this._updateOutlineMaterial())}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this.recreateGeometry()}get _vertexMaterialParameters(){return{color:this._color,screenSizeScale:this.size,renderOccluded:this._renderOccluded,isDecoration:this.isDecoration}}get _vertexOutlineMaterialParameters(){return{color:this._outlineColor,screenSizeScale:this.size+2*this.outlineSize,renderOccluded:this._renderOccluded,isDecoration:this.isDecoration}}_updateMaterial(){this.attached&&this._vertexMaterial.setParameters(this._vertexMaterialParameters)}_updateOutlineMaterial(){this.attached&&this._vertexOutlineMaterial.setParameters(this._vertexOutlineMaterialParameters)}_createRenderGeometries(){const t=this.vertices;if(null==t||0===t.length)return[];const r=.5,i=.5,s=o(t,this.spatialReference,this.view.elevationProvider,this.view.renderCoordsHelper,l.fromElevationInfo(this.elevationInfo)),a=[],n=s.numVertices,c=s.position;for(let l=0;l<n;++l){const t=e(_,c[3*l],c[3*l+1],c[3*l+2]),s=m(this._vertexMaterial,r,t),o=m(this._vertexOutlineMaterial,i,t);a.push({vertexGeometry:s,vertexOutlineGeometry:o})}return a}createGeometries(e){const t=this._createRenderGeometries();for(const{vertexGeometry:r,vertexOutlineGeometry:i}of t)e.addGeometry(r),e.addGeometry(i)}createExternalResources(){this._vertexMaterial=new u({...this._vertexMaterialParameters,writeDepth:!0,cullFace:n.Back,screenSizeEnabled:!0}),this._vertexOutlineMaterial=new u({...this._vertexOutlineMaterialParameters,forceTransparentMode:!0,writeDepth:!0,cullFace:n.Front,screenSizeEnabled:!0,shadingEnabled:!1})}destroyExternalResources(){this._vertexMaterial=null,this._vertexOutlineMaterial=null}forEachExternalMaterial(e){e(this._vertexMaterial),e(this._vertexOutlineMaterial)}}const _=t();function m(e,t,r){return c(e,t,16,16,{offset:r})}export{d as VerticesVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{newDoubleArray as t}from\"../../../../geometry/support/DoubleArray.js\";import{applyPerVertexElevationAlignment as e}from\"../../layers/graphics/elevationAlignmentUtils.js\";function o(o,n,r,s,i){const l=t(3*o.length),p=t(l.length);o.forEach(((t,e)=>{l[3*e]=t[0],l[3*e+1]=t[1],l[3*e+2]=t.length>2?t[2]:0}));const c=e(l,n,0,p,0,l,0,l.length/3,r,s,i),m=null!=c;return{numVertices:o.length,position:l,mapPositions:p,projectionSuccess:m,sampledElevation:c}}export{o as geometryToRenderInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nclass e{constructor(e){this.vertexHandle=null,this.excludeFeature=null,this.visualizer=null,this.selfSnappingZ=null,this.drawConstraints=null,this.editGeometryOperations=e.editGeometryOperations,this.elevationInfo=e.elevationInfo,this.pointer=e.pointer,this.vertexHandle=e.vertexHandle,this.excludeFeature=e.excludeFeature,this.feature=e.feature,this.visualizer=e.visualizer,this.selfSnappingZ=e.selfSnappingZ,this.drawConstraints=e.drawConstraints}get coordinateHelper(){return this.editGeometryOperations.data.coordinateHelper}get spatialReference(){return this.coordinateHelper.spatialReference}}export{e as SnappingContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{abortMaybe as n,removeMaybe as e}from\"../../../core/maybe.js\";import{ignoreAbortErrors as t,debounce as o}from\"../../../core/promiseUtils.js\";import{watch as r}from\"../../../core/reactiveUtils.js\";import{pointEquals as i}from\"../../../layers/graphics/dehydratedFeatureComparison.js\";import{clonePoint as l}from\"../../../layers/graphics/hydratedFeatures.js\";import{absoluteHeightElevationInfo as a}from\"../../../support/elevationInfoUtils.js\";import{EventPipeline as s}from\"../dragEventPipeline.js\";import{SnappingContext as u}from\"./SnappingContext.js\";import{TaskPriority as c,ImmediateTask as p}from\"../../support/Scheduler.js\";function f({predicate:o=()=>!0,snappingManager:i,snappingContext:l,updatingHandles:u,useZ:c=!0}){const p=new s;if(null==i)return{snappingStep:[y,p],cancelSnapping:y};let f,Z=null,j=null,z=null;const T=()=>{Z=n(Z),i.doneSnapping(),j?.frameTask.remove(),j=null,f=e(f),z=null},k=d(i,c,p);let w=null,I=null,U=null;return{snappingStep:[n=>{if(!o(n))return n;const{action:e}=n;if(\"start\"===e){const{info:e}=n,t=m(i.view);if(j=g(l,n,t),j.context.selfSnappingZ=null,!c&&null!=e){const n=S(l.coordinateHelper,e.handle.component);null!=n&&(j.context.selfSnappingZ={value:n,elevationInfo:l.elevationInfo??a})}}if(null!=j){const{context:o,originalScenePos:l,originalPos:a}=j,{mapEnd:s,mapStart:p,scenePoints:d}=n,m=x(a,v(s,p)),g=v(p,a),S={...n,action:\"update\"},y=j.context,T=P(l,d),C=i.update({point:m,scenePoint:T,context:o});if(U=C,h(s,C,g,c),w=m,I=T,\"end\"!==e){const{frameTask:n}=j;null==Z&&(Z=new AbortController),z=e=>{u.addPromise(t(k({frameTask:n,event:S,context:y,point:m,scenePoint:T,delta:g,getLastState:()=>({point:w,scenePoint:I,updatePoint:e.forceUpdate?null:U})},Z.signal)))},z({forceUpdate:!1}),null==f&&(f=r((()=>i.options.effectiveEnabled),(()=>z?.({forceUpdate:!0}))))}}return\"end\"===e&&T(),n},p],cancelSnapping:n=>(T(),n)}}function d(n,e,t){return o((async({frameTask:o,point:r,scenePoint:l,context:a,event:s,delta:u,getLastState:c},p)=>{const f=await o.schedule((()=>n.snap({point:r,scenePoint:l,context:a,signal:p})),p);if(f.valid){let l=await o.schedule((()=>f.apply()),p);const d=c();null!=d.point&&r!==d.point&&(l=n.update({point:d.point,scenePoint:d.scenePoint,context:a})),null!=d.updatePoint&&i(l,d.updatePoint)||(h(s.mapEnd,l,u,e),t.execute(s))}}))}function m(n){return\"3d\"===n.type?n.resourceController.scheduler.registerTask(c.SNAPPING):p}function g(n,e,t){return{context:new u({editGeometryOperations:n.editGeometryOperations,elevationInfo:n.elevationInfo,pointer:n.pointer,vertexHandle:null!=e.info?e.info.handle:null,excludeFeature:n.excludeFeature,feature:n.feature,visualizer:n.visualizer}),originalPos:null!=e.snapOrigin?n.coordinateHelper.vectorToDehydratedPoint(e.snapOrigin):e.mapStart,originalScenePos:null!=e.scenePoints?e.scenePoints.sceneStart:null,frameTask:t}}function x(n,[e,t,o]){const r=l(n);return r.x+=e,r.y+=t,r.hasZ&&(r.z+=o),r}function P(n,e){return null==n||null==e?null:x(n,v(e.sceneEnd,e.sceneStart))}function v(n,e){const t=n.hasZ&&e.hasZ?n.z-e.z:0;return[n.x-e.x,n.y-e.y,t]}function h(n,e,[t,o,r],i){n.x=e.x+t,n.y=e.y+o,i&&n.hasZ&&e.hasZ&&(n.z=e.z+r)}function S(n,e){if(!n.hasZ())return null;const t=e.vertices;let o=null;for(const r of t){const e=n.getZ(r.pos);if(null!=o&&null!=e&&Math.abs(e-o)>1e-6)return null;null==o&&(o=e)}return o}function y(n){return n}export{f as createSnapDragEventPipelineStep};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import s from\"../../../core/Accessor.js\";import{abortMaybe as o,removeMaybe as n}from\"../../../core/maybe.js\";import{debounce as i}from\"../../../core/promiseUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as e}from\"../../../core/accessorSupport/decorators/subclass.js\";import{TaskPriority as a,ImmediateTask as l}from\"../../support/Scheduler.js\";let p=class extends s{constructor(t){super(t),this.constrainResult=t=>t,this._snapPoints=null,this._frameTask=null,this._abortController=null,this._stagedPoint=null,this._snap=i((async(t,s,o,n)=>{const i=this._frameTask;if(null==i)return;const r=await i.schedule((()=>s.snap({...t,context:o,signal:n})),n);r.valid&&await i.schedule((()=>{this.stagedPoint=r.apply(),t!==this._snapPoints&&null!=this._snapPoints&&(this.stagedPoint=s.update({...this._snapPoints,context:o}))}),n)}))}get stagedPoint(){return this._stagedPoint}set stagedPoint(t){this._stagedPoint=this.constrainResult(t)}initialize(){const t=\"3d\"===this.view.type?this.view?.resourceController?.scheduler:null;this._frameTask=null!=t?t.registerTask(a.SNAPPING):l}destroy(){this._abortController=o(this._abortController),this._frameTask=n(this._frameTask)}update(t,s,o){this._snapPoints=t;const{point:n,scenePoint:i}=t,r=s.update({point:n,scenePoint:i,context:o});return this.stagedPoint=r,r}async snap(t,s,o){const{point:n,scenePoint:i}=t;return this.stagedPoint=s.update({point:n,scenePoint:i,context:o}),this._snapPoints=t,null==this._abortController&&(this._abortController=new AbortController),this._snap(t,s,o,this._abortController.signal)}async snapAgainNearPreviousMapPoint(t,s){null!=this._snapPoints&&await this.snap(this._snapPoints,t,s)}abort(){this._abortController=o(this._abortController),this._snapPoints=null}};t([r({constructOnly:!0})],p.prototype,\"view\",void 0),t([r()],p.prototype,\"stagedPoint\",null),t([r()],p.prototype,\"constrainResult\",void 0),t([r()],p.prototype,\"_stagedPoint\",void 0),p=t([e(\"esri.views.interactive.snapping.SnappingOperation\")],p);export{p as SnappingOperation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{p as t}from\"../../../../chunks/vec32.js\";import{SnappingHint as s}from\"./SnappingHint.js\";class n extends s{constructor(t,s,n){super(s,n),this.point=t}equals(s){return s instanceof n&&t(this.point,s.point)}}export{n as PointSnappingHint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{euclideanHorizontalLength as t,euclideanHorizontalDistanceBetweenPoints as r,euclideanHorizontalDistance as n}from\"./euclideanLengthMeasurementUtils.js\";import{geodesicLength as o,geodesicDistanceBetweenPoints as i,geodesicDistance as s}from\"./geodesicLengthMeasurementUtils.js\";function c(e){return o(e)??t(e)}function m(e,t){return i(e,t)??r(e,t)}function u(e,t,r){return f[0]=e[0],f[1]=e[1],f[2]=3===e.length?e[2]:0,l[0]=t[0],l[1]=t[1],l[2]=3===t.length?t[2]:0,s(f,l,r)??n(f,l,r)}const f=e(),l=e();export{u as autoDistance2D,m as autoDistanceBetweenPoints2D,c as autoLength2D};\n"],"names":["t","r","e","i","u","_len","arguments","length","f","Array","_key","this","n","apply","v","j","constructor","super","_location","p","_direction","_","_width","_offset","_length","_color","b","_renderOccluded","w","OccludeAndTransparent","applyProperties","createObject3DResourceFactory","view","createResources","_createObject3DResources","destroyResources","A","recreateGeometry","_recreateObject3DGeometry","cameraChanged","_updateGeometry","createDrapedResourceFactory","_createDrapedResources","M","_recreateDrapedGeometry","location","d","h","direction","setDirectionFromPoints","l","m","width","_updateMaterial","offset","color","g","renderOccluded","x","materialParameters","_createObject3DGeometry","material","geometries","forEach","s","P","addGeometry","push","_updateVerticesObject3D","state","contentPixelRatio","drapedResources","_createDrapedGeometry","pixelRatioHandle","_updateVerticesDraped","map","G","_this$object3dResourc","_this$drapedResources","object3dResources","resources","setParameters","isDecoration","isDraped","object","camera","projectToScreen","U","I","E","_updateVertexAttributesObject3D","o","a","_c$getMutableAttribut","c","getMutableAttribute","R","POSITION","data","start","end","V","unprojectFromScreen","geometryVertexAttributeUpdated","basemapTerrain","overlayManager","N","spatialReference","renderer","y","overlayPixelSizeInMapUnits","_updateVertexAttributesDraped","_e$getMutableAttribut","D","invalidateBoundingInfo","O","S","T","F","remove","draw","equals","sortUniqueHints","visualizeIntersectionPoint","visualizeLine","visualizeParallelSign","visualizeRightAngleQuad","visualizePoint","sort","primitive","geometry","intersectionPoint","elevationInfo","size","outlineSize","intersectionPointColor","outlineColor","intersectionPointOutlineColor","pixelSnappingEnabled","attached","point","domain","pointColor","pointOutlineColor","lineStart","lineEnd","undefined","z","extensionType","FADED","lineColor","Opaque","renderGroup","SnappingHint","TARGET","C","lineHintWidthTarget","fadedExtensions","lineHintFadedExtensions","REFERENCE_EXTENSION","lineHintWidthReference","REFERENCE","H","type","fadeLeft","fadeRight","parallelLineHintOffset","parallelLineHintLength","parallelLineHintWidth","parallelSignColor","previousVertex","centerVertex","nextVertex","rightAngleColorDraped","rightAngleColor","Transparent","outlineRenderOccluded","rightAngleOutlineColor","rightAngleHintOutlineSize","rightAngleHintSize","previous","center","next","effectiveTheme","toUnitRGBA","accentColor","lineOutlineColor","_ref","selfSnappingZ","SELF","_maxSize","_position","_up","_right","_outlineColor","_outlineSize","_size","_outlineRenderOccluded","_updateTransformObject3D","_updateQuadMaterial","_updateOutlineMaterial","_updateTransform","Math","min","_quadMaterialParameters","_outlineMaterialParameters","_createObject3DGeometries","quadMaterial","outlineMaterial","_createGeometries","_setTransformDraped","up","right","corner","_getVertices","get","computeScreenPixelSizeAt","transformation","forceTransparentMode","writeDepth","polygonOffset","_this$object3dResourc2","_this$drapedResources2","_vertices","_spatialReference","_elevationInfo","vertices","_vertexMaterialParameters","screenSizeScale","_vertexOutlineMaterialParameters","_vertexMaterial","_vertexOutlineMaterial","_createRenderGeometries","numVertices","position","mapPositions","projectionSuccess","sampledElevation","elevationProvider","renderCoordsHelper","fromElevationInfo","vertexGeometry","vertexOutlineGeometry","createGeometries","createExternalResources","_objectSpread","cullFace","Back","screenSizeEnabled","Front","shadingEnabled","destroyExternalResources","forEachExternalMaterial","vertexHandle","excludeFeature","visualizer","drawConstraints","editGeometryOperations","pointer","feature","coordinateHelper","predicate","snappingManager","snappingContext","updatingHandles","useZ","snappingStep","cancelSnapping","Z","_j","doneSnapping","frameTask","k","async","_ref2","scenePoint","context","event","delta","getLastState","schedule","snap","signal","valid","update","updatePoint","mapEnd","execute","action","info","resourceController","scheduler","registerTask","SNAPPING","handle","originalPos","snapOrigin","vectorToDehydratedPoint","mapStart","originalScenePos","scenePoints","sceneStart","_l$elevationInfo","hasZ","getZ","pos","abs","component","value","sceneEnd","AbortController","addPromise","forceUpdate","options","effectiveEnabled","_z","_ref3","_ref4","constrainResult","_snapPoints","_frameTask","_abortController","_stagedPoint","_snap","stagedPoint","initialize","_this$view","destroy","snapAgainNearPreviousMapPoint","abort","constructOnly","prototype","_o","_i","_s"],"sourceRoot":""}